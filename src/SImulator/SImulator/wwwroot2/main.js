var sigame;(()=>{var e,t={1234:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var n=a(1601),s=a.n(n),o=a(6314),i=a.n(o)()(s());i.push([e.id,".dialog{bottom:0;left:0;overflow-y:auto;position:absolute;right:0;scrollbar-width:thin;top:0;z-index:1}.dialog_closeButton{border-width:0;cursor:pointer;height:30px;padding:4px;position:absolute;right:15px;top:15px;width:30px}.dialog header{color:#fff;font-family:Standard;min-height:49px;padding-left:13px;text-shadow:1px 1px 0 #000}.dialog h1{margin-bottom:0;margin-top:10px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:calc(100% - 50px)}",""]);const r=i},9144:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var n=a(1601),s=a.n(n),o=a(6314),i=a.n(o)()(s());i.push([e.id,".progress{background-color:#d3d3d3;border-radius:0;height:5px;overflow:hidden;position:absolute;top:0;width:100%;z-index:2}.progress.indeterminate{background-color:#00008b}.progress-bar{background-color:#183cf3;background:linear-gradient(90deg,#00008b,#183cf3,#00008b);height:5px}.progress.indeterminate .progress-bar{animation:moveLeft;animation-duration:2s;animation-iteration-count:infinite;position:relative;width:100px}@keyframes widthZero{to{width:0}}@keyframes moveLeft{0%{left:0}to{left:100%}}",""]);const r=i},4251:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var n=a(1601),s=a.n(n),o=a(6314),i=a.n(o)()(s());i.push([e.id,"button.mainAction.playerButton:active{background:#f2daa0}.playerButton:disabled{background:gray;cursor:auto}",""]);const r=i},1081:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var n=a(1601),s=a.n(n),o=a(6314),i=a.n(o)()(s());i.push([e.id,".gameHint{align-items:center;background-color:hsla(0,0%,100%,.467);color:#fff;display:flex;font-family:Standard;height:100%;justify-content:center;opacity:.8;overflow:hidden;text-align:center;text-shadow:1px 1px 0 #000;width:100%}",""]);const r=i},3075:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var n=a(1601),s=a.n(n),o=a(6314),i=a.n(o)()(s());i.push([e.id,".playerButtonsPanel{display:flex;flex-direction:row;height:100%;margin:0}.playerButtonsPanel button{border-radius:5px;flex:1;font-size:25px;margin:0 2px}",""]);const r=i},2381:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var n=a(1601),s=a.n(n),o=a(6314),i=a.n(o)()(s());i.push([e.id,".reactions{font-size:25px;height:100%;width:100%}.reactions_panel{display:flex;flex-direction:row;overflow:hidden}.reactions_panel button{background-color:#2c7be1;cursor:pointer;flex:1;font-size:15px;margin:0 3px}.reactions_panel button:disabled{cursor:auto}.reactions_list li{text-align:center}@media screen and (min-width:800px){.reactions_panel button{font-size:25px}}",""]);const r=i},4501:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var n=a(1601),s=a.n(n),o=a(6314),i=a.n(o)()(s());i.push([e.id,".ready_button{border-radius:4px;font-size:25px;height:100%;margin:0 5px;padding:0;width:calc(100% - 10px)}@media screen and (min-width:1600px){.ready_button{font-size:35px}}",""]);const r=i},8023:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var n=a(1601),s=a.n(n),o=a(6314),i=a.n(o)()(s());i.push([e.id,".report_button{background-color:#2c7be1;font-size:25px;height:100%;margin:0 5px;padding:0;width:calc(100% - 10px)}@media screen and (min-width:1600px){.report_button{font-size:35px}}",""]);const r=i},1915:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var n=a(1601),s=a.n(n),o=a(6314),i=a.n(o)()(s());i.push([e.id,".emptyContext,.tableContextView{height:45px}@media screen and (min-width:1600px){.emptyContext,.tableContextView{height:65px}}",""]);const r=i},5974:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var n=a(1601),s=a.n(n),o=a(6314),i=a.n(o)()(s());i.push([e.id,".gameinfoHost{flex:1;overflow:hidden}#gameinfo{background-color:#000451;color:#fff;height:100%;padding:20px 0 0;position:relative;text-shadow:1px 1px 2px #000}#gameinfo h1{font-size:36px;margin-bottom:0;margin-top:0;padding-left:20px}.maininfo{flex:1;margin-bottom:20px;overflow-x:hidden;overflow-y:auto;padding-left:20px;scrollbar-width:thin}.gameinfoHost dt{font-size:14px;font-weight:400}.gameinfoHost dd{color:#dece6c;font-size:17px;font-weight:700}.personName{margin-right:7px;margin-top:2px;min-height:32px;padding:4px 0}#innerinfo dt{margin-top:10px}.gameInfoBlocks{display:flex;flex-direction:column;flex-wrap:wrap;margin-bottom:10px}.gameInfoBlock{display:block;margin-top:10px;text-align:center;width:100%}.gameInfoBlock span{display:inline-block;width:60px}.gameInfoBlock input{background:#181b64!important;border:1px solid #347dff;border-radius:5px;color:#fff;display:block;font-size:20px;margin:5px 15px;max-width:none;padding:2px 5px;width:calc(100% - 30px)}.joinGameProgress{animation:joinfadein 2s;bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:6px}@keyframes joinfadein{0%{background-color:transparent}to{background-color:rgba(0,0,0,.333)}}.joinGameProgress .progress{position:static}.actions button.join{font-size:22px;height:45px;line-height:22px;margin:0 2px;padding:7pt 2px}@media screen and (min-width:800px){.gameInfo_close{display:none}.gameInfoBlocks{display:flex;flex-direction:row}.gameInfoBlock{left:300px;right:295px}.gameInfoBlock input{display:inline;width:auto}.actions{left:300px;right:300px;z-index:0}.joinGameProgress{top:0}.actions button.join{font-size:20px;line-height:20px}}@media screen and (min-width:1100px){.join{font-size:25px;line-height:25px}}@media screen and (min-width:1600px){.gameinfoHost dt{font-size:18px}.gameinfoHost dd{font-size:22px}#innerinfo dt{margin-top:20px}.actions button.join{font-size:24px;line-height:24px}}",""]);const r=i},502:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var n=a(1601),s=a.n(n),o=a(6314),i=a.n(o)()(s());i.push([e.id,".userError{border:1px solid hsla(0,0%,83%,.24);bottom:45px;color:#fff;font-size:30px;left:0;padding:8px;position:absolute;right:0;text-align:center;transition:opacity .5s ease;z-index:100}.userError.error{background:darkred}.userError.warn{background:#6a6a00}.userError.info{background:#00008b}",""]);const r=i},2378:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var n=a(1601),s=a.n(n),o=a(6314),i=a.n(o)()(s());i.push([e.id,".errorView{background-color:transparent;color:darkred;justify-content:center;text-shadow:.5px .5px 0 #474747}.errorBox,.errorView{align-items:center;display:flex;flex-flow:column;height:100%}.errorBox{background-color:#5a95e2;justify-content:space-between;overflow:hidden;width:100%}.errorTitle{font-size:23px;margin:40px 40px 10px}.errorBody{font-size:12px;margin-right:20px;overflow-y:auto;padding:0 40px;scrollbar-width:thin;-webkit-user-select:text;-moz-user-select:text;user-select:text;white-space:pre-wrap;word-break:break-all}.errorView .buttons{align-items:center;display:flex;flex-direction:column;justify-content:center;margin-top:20px;width:100%}.errorView .buttons button{border-radius:0;flex:1;font-size:15px;padding:15px;width:100%}@media screen and (min-width:800px){.errorView .buttons{flex-direction:row}.errorView .buttons button{font-size:16px;height:45px;padding:initial;width:300px}.errorBox{height:auto;justify-content:center;width:auto}}",""]);const r=i},3877:(e,t,a)=>{"use strict";a.d(t,{A:()=>u});var n=a(1601),s=a.n(n),o=a(6314),i=a.n(o),r=a(4417),l=a.n(r),c=new URL(a(9999),a.b),d=i()(s()),p=l()(c);d.push([e.id,".joinRoom{background-color:#5a95e2;display:flex;flex-direction:column;overflow:hidden}.joinRoom h1{margin-bottom:6px}.joinRoomHost .logo{background-image:url("+p+");background-position:50%;background-repeat:no-repeat;background-size:contain;height:100px;margin:20px auto auto;width:100px}@media screen and (min-width:800px){.joinRoom{border:1px solid #000;box-shadow:0 0 10px rgba(0,0,0,.5);margin:140px 60px 60px;overflow:hidden;vertical-align:middle}}",""]);const u=d},6230:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var n=a(1601),s=a.n(n),o=a(6314),i=a.n(o)()(s());i.push([e.id,".answerInputHost{display:flex;height:100%;border:0;overflow:hidden;pointer-events:initial;padding-right:2px}.answerInput{border:0;max-width:none;box-sizing:border-box;flex:1;padding:3px 15px;font-size:20px;color:#fff;background:rgba(0,0,0,0);margin:0 5px;background:#05061f;border:3px solid #ff7c1e;border-radius:10px}.answerInput::placeholder{color:#d3d3d3}.sendAnswer{height:100%;aspect-ratio:1/1;margin:0 2px;padding-top:6px}.sendAnswer svg{width:60%;height:60%}button.standard.sendAnswer:disabled{background:linear-gradient(180deg, #5178db 14.29%, #2d56a1 100%)}@media screen and (min-width: 1600px){.answerInput{font-size:28px}}",""]);const r=i},9082:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var n=a(1601),s=a.n(n),o=a(6314),i=a.n(o)()(s());i.push([e.id,".edit-table-button{width:100%;height:100%;font-size:20px}.edit-table-button.active{background:linear-gradient(180deg, #94bbff 0%, rgb(92, 144, 240) 100%)}",""]);const r=i},3700:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var n=a(1601),s=a.n(n),o=a(6314),i=a.n(o)()(s());i.push([e.id,".oral__answer{width:100%;height:100%;display:flex;align-items:center;justify-content:center;color:#fff;background:rgba(255,255,255,.2);font-size:30px;border-radius:3px}",""]);const r=i},3026:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var n=a(1601),s=a.n(n),o=a(6314),i=a.n(o)()(s());i.push([e.id,".passButton{background:linear-gradient(360deg, rgb(165, 165, 165) 0%, rgb(128, 128, 128) 100%)}.passButton:hover{background:linear-gradient(360deg, rgb(225, 225, 225) 0%, rgb(200, 200, 200) 100%)}.passButton:active{background:#f2daa0}.passButton:disabled{background:gray;cursor:initial}",""]);const r=i},2092:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var n=a(1601),s=a.n(n),o=a(6314),i=a.n(o)()(s());i.push([e.id,"",""]);const r=i},2382:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var n=a(1601),s=a.n(n),o=a(6314),i=a.n(o)()(s());i.push([e.id,".wideStakeHost{height:100%;width:100%;display:flex}.wideStakeHost button{font-size:20px;padding:0 15px;background-color:rgba(255,165,0,.5);margin:0px 2px;overflow:hidden;font-size:12px;padding:2px}.wideStakeHost button.wideStake{flex:1}.wideStakeHost__number{flex:0 0 120px;font-size:24px;text-align:center;overflow:hidden;color:#fff;background:#0a0e30;border:3px solid #ff7c1e;border-radius:10px;margin-left:4px}.wideStakeHost__range{flex:3 0 0;margin:0 10px;max-width:100%;overflow:hidden}@media screen and (min-width: 800px){.wideStakeHost button{font-size:16px}}@media screen and (min-width: 1100px){.wideStakeHost button{font-size:20px;padding:0 30px}}@media screen and (min-width: 1600px){.wideStakeHost button{font-size:27px}}",""]);const r=i},227:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var n=a(1601),s=a.n(n),o=a(6314),i=a.n(o)()(s());i.push([e.id,".miniRoom{display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%}",""]);const r=i},1255:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var n=a(1601),s=a.n(n),o=a(6314),i=a.n(o)()(s());i.push([e.id,".miniGameStatus{color:#fff;margin-bottom:10px;font-size:30px}.connectionStatus{color:red;margin-left:5px}.connectionStatus.active{color:green}",""]);const r=i},6269:(e,t,a)=>{"use strict";a.d(t,{A:()=>O});var n=a(1601),s=a.n(n),o=a(6314),i=a.n(o),r=a(4417),l=a.n(r),c=new URL(a(646),a.b),d=new URL(a(7685),a.b),p=new URL(a(8735),a.b),u=new URL(a(1361),a.b),m=new URL(a(1529),a.b),g=new URL(a(1579),a.b),h=new URL(a(5582),a.b),y=new URL(a(100),a.b),b=new URL(a(4932),a.b),f=i()(s()),v=l()(c),A=l()(d),S=l()(p),w=l()(u),C=l()(u,{hash:"?#iefix"}),T=l()(m),E=l()(g),k=l()(h,{hash:"#Clefs"}),x=l()(y),I=l()(b);f.push([e.id,"@font-face{font-family:Standard;src:url("+v+') format("truetype");font-weight:normal;font-style:normal}@font-face{font-family:Standard;src:url('+A+') format("truetype");font-weight:500;font-style:normal}@font-face{font-family:Standard;src:url('+S+') format("truetype");font-weight:bold;font-style:normal}@font-face{font-family:"Clefs";src:url('+w+");src:url("+C+') format("embedded-opentype"),url('+T+') format("woff"),url('+E+') format("truetype"),url('+k+') format("svg");font-weight:normal;font-style:normal}html,body{height:100%}body{background:radial-gradient(91.6% 91.6% at 50% 4.05%, #1322AB 0%, #11174E 100%);background-size:cover;color:#000;font-family:"Segoe UI",Tahoma,Geneva,Verdana,sans-serif;margin:0;overflow:hidden;-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;scrollbar-width:thin;scrollbar-color:#a8acfd rgba(0,0,0,0);font-family:Standard}#reactHost{height:100%}select,input{font-family:Standard}.body-content{padding-left:15px;padding-right:15px}.dl-horizontal dt{white-space:normal}dl{margin-top:0;margin-bottom:0}dt,dd{line-height:1.428571429}dt{font-weight:bold}dd{margin-left:0}input,select,textarea{line-height:inherit;outline:none}textarea{resize:none}input:focus,textarea:focus,button:focus{outline:none}input[type=password],input[type=search],input[type=text]{background:#d9e3f9;border-width:1px}h1{font-weight:500;font-size:30px;line-height:39px}*,*:before,*:after{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}ul{margin:0;padding:0;list-style-type:none}::-webkit-scrollbar{width:8px}::-webkit-scrollbar-track{background:rgba(0,0,0,0)}::-webkit-scrollbar-thumb{background-color:#a8acfd;cursor:pointer;transition:background-color 1s}::-webkit-scrollbar-thumb:hover{background:#d2e1ff;background:linear-gradient(0deg, #a8acfd 0%, #d2e1ff 50%, #a8acfd 100%)}.avatarMale,.avatarFemale{background-repeat:no-repeat;background-position:50% 50%;background-size:contain}.avatarMale{background-image:url('+x+")}.avatarFemale{background-image:url("+I+')}.gameHost{height:100%}.floatable{opacity:0;transition:opacity 1s}.floatable:hover{opacity:1}#entermain{margin-left:16pt;text-align:center}#logonButtons{font-size:25px;width:100%;display:flex}#logonButtons button{flex:1 0 0}.sexLogin{text-align:left;margin-top:-5px}.sexLogin input{margin-left:22px;margin-right:5px;vertical-align:middle}.sexLogin label{font-size:14px;font-weight:normal;margin-top:2px;margin-bottom:0}.gamesblock header{height:35pt}button{color:#fff;background-color:rgba(0,0,0,0);border:0;padding:5px 7px 5px 7px;font-family:Standard;text-shadow:1px 1px 0 #000;font-size:inherit;cursor:pointer;transition:all 1s}button.standard,.sidePanel{background:linear-gradient(180deg, #255ADC 14.29%, #0A3FA4 100%)}button.standard{border-radius:4px}button.standard.imageButton{display:flex;align-items:center;justify-content:center;background-color:rgba(0,0,0,0)}button.standard.imageButton.active{background:linear-gradient(180deg, #CEE0FF 14.29%, rgb(39, 108, 237) 100%)}button.standard.imageButton img{object-fit:contain}button.standard.imageButton:disabled img{opacity:.5}button:hover,button.standard:hover{background:linear-gradient(180deg, #2860ef 14.29%, rgb(39, 108, 237) 100%)}button:active,button.standard:active{background:#fff;transition:initial}button:disabled,button.standard:disabled{color:#a9a9a9;border-color:#a9a9a9;background:rgba(0,0,0,0);cursor:initial}button.mainAction{background:linear-gradient(360deg, #b87566 0%, #ffb179 100%);border-radius:4px}button.mainAction.active{background:linear-gradient(360deg, #C73B1C 0%, #e26f1d 100%)}button.mainAction:hover{background:linear-gradient(360deg, #ff4b23 0%, #FF7C1E 100%)}button.mainAction:active{background:#fff}.closeButton{padding:4px;width:30px;height:30px;border-width:0;position:absolute;right:15px;top:15px}#innerinfo{font-size:11pt;height:100%;display:flex;flex-direction:column;justify-content:space-between}#gameName{height:55px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;margin-right:50px}#actionsHost{display:flex}.actions button{margin:0;display:inline;flex:1 0 0}.cannotConnect{color:darkred;text-align:center;height:45px;line-height:45px;overflow:hidden}.cannotConnect span{line-height:normal;display:block;margin:0 3px}.tabHeader h1{display:inline-flex;justify-content:center;align-items:center;font-family:Standard;font-size:20px;height:100%;margin:0;padding:0 12px;color:rgba(255,255,255,.4);text-shadow:1px 1px 0 #000;cursor:pointer}#extraMenu{top:35pt;right:0}h1.activeTab{color:#fff;background-color:#98b9ff}.tabHeader h1:hover{color:rgba(255,255,255,.6);background-color:#fff}.chat span{display:block;word-wrap:break-word}#gamesList,#game{position:absolute;height:100%;width:100%}#rules,#started,#showman,#players,#viewers{min-height:20px}#gameLogHost{flex:0 0 130px;margin:0;display:flex;flex-direction:column;position:relative}#playerButtonHost{height:100%}.sideArea{flex:1 0 0;display:flex;overflow:hidden}.game__chat{display:flex;flex-direction:column;flex:1 0 0;background-color:#000451;color:#fff;overflow:hidden;overflow-wrap:break-word}.game__log{overflow-y:auto;scrollbar-width:thin;height:100%;flex:1 0 0}showman,player,viewer{font-weight:bold;margin-right:5px}showman::after,player::after,viewer::after{content:": "}.playerButtonWrapper{flex:1 0 0;position:relative}#managedPersons{width:100%}video,audio{margin:10px 0;width:calc(100% - 20px)}.mainNav{top:47px;left:0}.buttonsPanel{height:45px;flex:0 0 45px;display:flex;width:100%}.buttonsPanel button,.buttonsPanel div{flex:1 0 0;font-size:16px}@keyframes spinner{from{transform:rotateY(-90deg)}to{transform:rotateY(90deg)}}.rotate{animation-name:spinner;animation-timing-function:linear;animation-iteration-count:infinite;animation-duration:3s}#lastReplic{position:absolute;top:-110px;height:65px;display:flex;justify-content:center;align-items:center;width:100%;background:#ffffe0;border-top:1px solid gray;box-shadow:0 0 15px #000;overflow:hidden;padding:2px 6px;opacity:.7}.stakeSum{position:absolute;left:0;top:0;height:100%;width:100%;max-width:100%;text-align:center;background-color:#c0cff4;border:1px solid #ff0;font-size:24px}.stakeRangeHost{position:absolute;top:1px;bottom:0;left:10px;right:10px;background-color:#c0cff4;width:calc(100% - 20px)}.stakeRange{width:100%;height:100%;max-width:100%}.wide{display:none}.commandButton{height:45px;font-size:19pt}.bottomButton{margin-bottom:-1px}a.simpleLink{text-decoration:none;color:#fff}@media screen and (min-width: 800px){#nav{display:none}.cannotConnect span{display:inline-block}}@media screen and (min-width: 1100px){.actions{left:400px;right:400px}#gameLogHost{flex:1 0 0}#playerButtonHost{display:none}.playerButtonWrapper{flex:0 0 0}.wide{display:initial}}',""]);const O=f},3936:(e,t,a)=>{"use strict";a.r(t),a.d(t,{run:()=>Pr});var n,s=a(961),o=a(9048),i=a(1407);!function(e){e[e.AnyRole=0]="AnyRole",e[e.OnlyViewer=1]="OnlyViewer",e[e.Forbidden=2]="Forbidden"}(n||(n={}));const r=n,l={culture:null,oral:!1,oralPlayersActions:!0,falseStart:!0,hintShowman:!1,partialText:!1,partialImages:!1,allowEveryoneToPlayHiddenStakes:!0,playAllQuestionsInFinalRound:!1,displaySources:!1,readingSpeed:20,managed:!1,ignoreWrong:!1,timeSettings:{timeForChoosingQuestion:30,timeForThinkingOnQuestion:5,timeForPrintingAnswer:25,timeForGivingACat:30,timeForMakingStake:30,timeForThinkingOnSpecial:25,timeOfRound:3600,timeForChoosingFinalTheme:30,timeForFinalThinking:45,timeForShowmanDecisions:30,timeForRightAnswer:2,timeForMediaDelay:0,timeForBlockingButton:3,partialImageTime:3,imageTime:5},usePingPenalty:!1,buttonPressMode:0,preloadRoundContent:!0,useApellations:!0,displayAnswerOptionsLabels:!0,displayAnswerOptionsOneByOne:!0};var c;!function(e){e[e.None=0]="None",e[e.Stake=1]="Stake",e[e.Pass=2]="Pass",e[e.AllIn=4]="AllIn"}(c||(c={}));const d=c,p={persons:{all:{},hostName:null},role:1,answer:null,lastReplic:null,stage:{name:"",roundIndex:-1,isGamePaused:!1,isGameStarted:!1,isDecisionNeeded:!1,isAfterQuestion:!1,themeIndex:-1,currentPrice:0,themeName:"",isQuestion:!1,questionType:""},timers:{round:{state:1,isPausedBySystem:!0,isPausedByUser:!1,value:0,maximum:0},press:{state:1,isPausedBySystem:!0,isPausedByUser:!1,value:0,maximum:0},decision:{state:1,isPausedBySystem:!0,isPausedByUser:!1,value:0,maximum:0}},showMainTimer:!1,selection:{isEnabled:!1,message:""},stakes:{areVisible:!1,stakeModes:d.None,minimum:0,maximum:0,step:0,stake:0},chat:{isVisible:!1,isActive:!1,mode:0,message:"",messages:[],usersMode:0},selectedTableIndex:-1,personsVisible:!1,tablesVisible:!1,bannedVisible:!1,gameInfoVisible:!1,manageGameVisible:!1,avatarViewVivible:!1,isGameButtonEnabled:!0,areSumsEditable:!1,readingSpeed:20,areApellationsEnabled:!0,hint:null,roundsNames:null,buttonBlockingTimeSeconds:3,metadata:{gameName:null,packageName:null,contactUri:null,voiceChatUri:null},banned:{entries:{},selectedIp:null},joinMode:r.AnyRole,kicked:!1,webCameraUrl:"",settings:l};var u=a(7495);const m="Enter",g=" ",h="avatar",y="avatarName",b={soundVolume:1,sound:!0,appSound:!1,mainMenuSound:!1,floatingControls:!1,fullScreen:!1,sex:0,avatarKey:null,appSettings:l,gameButtonKey:"Control",nextButtonKey:"ArrowRight",bindNextButton:!0,attachContentToTable:!0,showVideoAvatars:!0,theme:{table:{textColor:"#FFFFFF",backgroundColor:"#0A0E30"}}},f=(0,u.Z0)({name:"settings",initialState:b,reducers:{setSoundVolume:(e,t)=>{e.soundVolume=t.payload},setSound:(e,t)=>{e.sound=t.payload},setAppSound:(e,t)=>{e.appSound=t.payload},setMainMenuSound:(e,t)=>{e.mainMenuSound=t.payload},setSex:(e,t)=>{e.sex=t.payload},setAvatarKey:(e,t)=>{e.avatarKey=t.payload},setOral:(e,t)=>{e.appSettings.oral=t.payload},setFalseStarts:(e,t)=>{e.appSettings.falseStart=t.payload},setHintShowman:(e,t)=>{e.appSettings.hintShowman=t.payload},setPartialText:(e,t)=>{e.appSettings.partialText=t.payload},setPartialImages:(e,t)=>{e.appSettings.partialImages=t.payload},setReadingSpeed:(e,t)=>{e.appSettings.readingSpeed=t.payload},setManaged:(e,t)=>{e.appSettings.managed=t.payload},setUseApellations:(e,t)=>{e.appSettings.useApellations=t.payload},setIgnoreWrong:(e,t)=>{e.appSettings.ignoreWrong=t.payload},setUsePingPenalty:(e,t)=>{e.appSettings.usePingPenalty=t.payload},setButtonPressMode:(e,t)=>{e.appSettings.buttonPressMode=t.payload},setPreloadRoundContent:(e,t)=>{e.appSettings.preloadRoundContent=t.payload},setTimeSetting:(e,t)=>{e.appSettings.timeSettings[t.payload.name]=t.payload.value},languageChanged:(e,t)=>{e.appSettings.culture=t.payload},setGameButtonKey:(e,t)=>{e.gameButtonKey=t.payload},setPlayAllQuestionsInFinalRound:(e,t)=>{e.appSettings.playAllQuestionsInFinalRound=t.payload},setOralPlayersActions:(e,t)=>{e.appSettings.oralPlayersActions=t.payload},setAllowEveryoneToPlayHiddenStakes:(e,t)=>{e.appSettings.allowEveryoneToPlayHiddenStakes=t.payload},setDisplaySources:(e,t)=>{e.appSettings.displaySources=t.payload},setFloatingControls:(e,t)=>{e.floatingControls=t.payload},setFullScreen:(e,t)=>{e.fullScreen=t.payload},setBindNextButton:(e,t)=>{e.bindNextButton=t.payload},setAttachContentToTable:(e,t)=>{e.attachContentToTable=t.payload},setShowVideoAvatars:(e,t)=>{e.showVideoAvatars=t.payload},setDisplayAnswerOptionsOneByOne:(e,t)=>{e.appSettings.displayAnswerOptionsOneByOne=t.payload},setDisplayAnswerOptionsLabels:(e,t)=>{e.appSettings.displayAnswerOptionsLabels=t.payload},setNextButtonKey:(e,t)=>{e.nextButtonKey=t.payload},setTableTextColor:(e,t)=>{e.theme.table.textColor=t.payload},setTableBackgroundColor:(e,t)=>{e.theme.table.backgroundColor=t.payload},resetSettings:e=>{const{culture:t}=e.appSettings;Object.assign(e,b,{appSettings:Object.assign(Object.assign({},l),{culture:t})})}}}),{setSoundVolume:v,setSound:A,setAppSound:S,setMainMenuSound:w,setSex:C,setAvatarKey:T,setOral:E,setFalseStarts:k,setHintShowman:x,setPartialText:I,setPartialImages:O,setReadingSpeed:N,setManaged:P,setUseApellations:R,setIgnoreWrong:D,setUsePingPenalty:j,setButtonPressMode:M,setPreloadRoundContent:G,setTimeSetting:H,languageChanged:_,setGameButtonKey:B,setPlayAllQuestionsInFinalRound:L,setOralPlayersActions:F,setAllowEveryoneToPlayHiddenStakes:U,setDisplaySources:q,setFloatingControls:V,setFullScreen:W,setBindNextButton:z,setAttachContentToTable:Q,setShowVideoAvatars:$,setDisplayAnswerOptionsOneByOne:K,setDisplayAnswerOptionsLabels:J,setNextButtonKey:Y,setTableTextColor:Z,setTableBackgroundColor:X,resetSettings:ee}=f.actions,te=f.reducer;var ae;!function(e){e[e.Normal=0]="Normal",e[e.Active=1]="Active",e[e.Right=2]="Right",e[e.Wrong=3]="Wrong"}(ae||(ae={}));const ne=ae,se={mode:1,layoutMode:0,caption:"",header:"",largeHeader:!1,text:"",tail:"",hint:"",contentHint:"",audio:"",rotate:!1,canPress:!1,canPressUpdateTime:0,gameThemes:[],roundInfo:[],isSelectable:!1,activeThemeIndex:-1,actionQuestionIndex:-1,isMediaStopped:!1,content:[],answerOptions:[],prependText:"",appendText:"",loadTimer:{state:1,value:1,maximum:1,isPausedBySystem:!0,isPausedByUser:!1},isAnswer:!1},oe=(0,u.Z0)({name:"table",initialState:se,reducers:{showLogo:e=>{e.mode=1,e.caption="",e.audio=""},showGameThemes:(e,t)=>{e.mode=4,e.gameThemes=t.payload},showObject:(e,t)=>{e.mode=9,e.header=t.payload.header,e.largeHeader=t.payload.large,e.text=t.payload.text,e.hint=t.payload.hint,e.rotate=!1,e.content=[],e.appendText="",e.prependText=""},showQuestionType:(e,t)=>{e.mode=10,e.header=t.payload.header,e.text=t.payload.text,e.hint=t.payload.hint,e.rotate=!0,e.content=[],e.appendText="",e.prependText=""},showRoundThemes:(e,t)=>{e.mode=t.payload.display?t.payload.isFinal?7:5:e.mode,e.roundInfo=t.payload.roundThemes},showText:(e,t)=>{e.mode=3,e.text=t.payload,e.audio=""},showWelcome:e=>{e.mode=2},showRoundTable:e=>{e.mode=6,e.activeThemeIndex=-1,e.actionQuestionIndex=-1},blinkQuestion:(e,t)=>{e.activeThemeIndex=t.payload.themeIndex,e.actionQuestionIndex=t.payload.questionIndex},blinkTheme:(e,t)=>{e.activeThemeIndex=t.payload},updateQuestion:(e,t)=>{const a=e.roundInfo[t.payload.themeIndex];a&&t.payload.questionIndex>-1&&t.payload.questionIndex<a.questions.length&&(a.questions[t.payload.questionIndex]=t.payload.price)},removeTheme:(e,t)=>{e.activeThemeIndex=-1;const a=e.roundInfo[t.payload];a&&(a.name="")},showPartialText:(e,t)=>{e.text="",e.tail=t.payload},appendPartialText:(e,t)=>{e.text+=t.payload,e.tail=e.tail.substring(t.payload.length)},showBackgroundAudio:(e,t)=>{e.mode=8,e.audio=t.payload,e.isMediaStopped=!1},clearAudio:e=>{e.audio=""},showContent:(e,t)=>{e.mode=8,e.content=t.payload,e.isMediaStopped=!1},switchToContent:e=>{e.mode=8},canPressChanged:(e,t)=>{e.canPress=t.payload,e.canPressUpdateTime=Date.now(),t.payload||(e.isMediaStopped=!0)},isSelectableChanged:(e,t)=>{e.isSelectable=t.payload},resumeMedia:e=>{e.isMediaStopped=!1},captionChanged:(e,t)=>{e.caption=t.payload},clearActiveState:e=>{e.activeThemeIndex=-1,e.actionQuestionIndex=-1},tableReset:e=>{Object.assign(e,se)},endQuestion:e=>{e.content=[],e.prependText="",e.appendText="",e.audio="",e.layoutMode=0,e.isSelectable=!1,e.isAnswer=!1},answerOptions:(e,t)=>{e.mode=8,e.layoutMode=1,e.answerOptions=t.payload.options},updateOption:(e,t)=>{const a=e.answerOptions[t.payload.index];a&&(a.label=t.payload.label,a.content.type=t.payload.contentType,a.content.value=t.payload.value)},updateOptionState:(e,t)=>{const a=e.answerOptions[t.payload.index];a&&(a.state=t.payload.state)},rightOption:(e,t)=>{e.answerOptions.forEach((e=>{e.label===t.payload?e.state=ne.Right:e.state===ne.Active&&(e.state=ne.Normal)}))},prependTextChanged:(e,t)=>{e.prependText=t.payload},questionReset:e=>{e.prependText="",e.appendText="",e.isAnswer=!1,e.loadTimer.value=1,e.loadTimer.state=1},setAnswerView:(e,t)=>{e.prependText="",e.appendText=t.payload,e.audio="",e.isAnswer=!0,e.loadTimer.value=1,e.loadTimer.state=1},startLoadTimer:e=>{e.loadTimer.state=0,e.loadTimer.value=0,e.loadTimer.isPausedBySystem=!1},pauseLoadTimer:(e,t)=>{e.loadTimer.state=2,e.loadTimer.isPausedBySystem=!0,e.loadTimer.value=t.payload},resumeLoadTimer:e=>{e.loadTimer.state=0,e.loadTimer.isPausedBySystem=!1},showContentHint:(e,t)=>{e.contentHint=t.payload}}}),{showLogo:ie,showGameThemes:re,showObject:le,showQuestionType:ce,showRoundThemes:de,showText:pe,showWelcome:ue,showRoundTable:me,blinkQuestion:ge,blinkTheme:he,updateQuestion:ye,removeTheme:be,showPartialText:fe,appendPartialText:ve,showBackgroundAudio:Ae,clearAudio:Se,showContent:we,switchToContent:Ce,canPressChanged:Te,isSelectableChanged:Ee,resumeMedia:ke,captionChanged:xe,clearActiveState:Ie,tableReset:Oe,endQuestion:Ne,answerOptions:Pe,updateOption:Re,updateOptionState:De,rightOption:je,prependTextChanged:Me,questionReset:Ge,setAnswerView:He,startLoadTimer:_e,pauseLoadTimer:Be,resumeLoadTimer:Le,showContentHint:Fe}=oe.actions,Ue=oe.reducer,qe=(0,u.Z0)({name:"user",initialState:{login:"",avatar:null},reducers:{changeLogin:(e,t)=>{e.login=t.payload},changeAvatar:(e,t)=>{e.avatar=t.payload}}}),{changeLogin:Ve,changeAvatar:We}=qe.actions,ze=qe.reducer,Qe=(0,u.Z0)({name:"login",initialState:{inProgress:!1},reducers:{startLogin:e=>{e.inProgress=!0},endLogin:e=>{e.inProgress=!1}}}),{startLogin:$e,endLogin:Ke}=Qe.actions,Je=Qe.reducer;var Ye;!function(e){e[e.None=0]="None",e[e.Press=1]="Press",e[e.Lost=2]="Lost",e[e.Right=3]="Right",e[e.Wrong=4]="Wrong",e[e.HasAnswered=5]="HasAnswered",e[e.Pass=6]="Pass"}(Ye||(Ye={}));const Ze=Ye,Xe=new(a(2216).A)({en:{about:["SIGame is an intellectual quiz in which everyone can test their knowledge and reaction speed and fight against opponents.","Game rules are very simple: all questions in the game are divided into themes,\n\t\t\t and each question in the theme has its own price.\n\t\t\t Each player has a personal score, which at the beginning of the game is 0.\n\t\t\t A question is presented, after which a frame appears on the screen indicating that you can press the button and answer.\n\t\t\t If the player knows the answer, he/she can press the red button. The player who presses the button earlier than others\n\t\t\t (and will not have a false start), gives an answer. If the answer is correct, the question price is added to the player's score;\n\t\t\t otherwise - the price is substracted from the score. \n\t\t\t In the latter case, other players can try their luck and press the button to answer.",'There are also special questions in the game. \n\t\t\tIn the "Stake Question" the participants bid for a question, and the player with the highest bet answers. \n\t\t\tIn this case, the "All-in" bet (the bet which is equal to the whole player score) can only be outbid by another "All-in".','"Secret Question" must be given to another player. \n\t\t\tThe player who received it must (if it is included in the question) choose the price of the question and answer it. \n\t\t\tThe theme of the question may differ from the main theme in which the question was opened.','"Question for yourself without risk" is answered by the player who opened it. \n\t\t\tIn case of a correct answer to the question, he receives doubled question price. \n\t\t\tIn case of an incorrect answer to the question, the player loses nothing.',"The game can also have a final round in which each of the players makes a bet. \n\t\t\tA question is asked, time is given for thinking, and each of the players submits their answer to the host. \n\t\t\tAfter that, the correct answer is announced, and each of the players receives or loses money according to their bet.","The game winner is the player with the highest score after the last question.","The game button can also be activated using the Ctrl key or the right mouse button."],aboutAuthor:"Author",aboutSupport:"Technical support",aboutTitle:"About",acceptLicense:"Accept license",addTable:"Add table",all:"All",allIn:"ALL IN!",allowEveryoneToPlayHiddenStakes:"Every player playes",allowEveryoneToPlayHiddenStakesHint:"even having 0 or negative score",answer:"Answer",answerChecking:"Answer check",anyonePlay:"Play with random opponents",apellateAnswer:"Apellate answer",apellation:"Apellation",apiCallsQuotaExceeded:"Requests quota exceeded. Please try again later",appName:"SIGame",appUser:"SIGame",ascending:"ascending",attachContentToTable:"Add theme comments and right answers to game table",audio:"Audio",audioLoadError:"Audio loading error",authorInfo:"Vladimir Khil",authors:"Authors",autoSearch:"Fast room",autoSearchHint:"Find a room with an open slot or create a new one",avatar:"Avatar",avatarIsTooBig:"Avatar exceeds maximum size!",avatarLoadError:"Avatar upload error",backgroundColor:"Background color",badPackage:"Bad question package!",ban:"Ban",bannedList:"Banned list",bindNextButton:"Activate 'Next' button by Right keyboard button",blocked:"(Blocked)",bot:"Bot",buttonPressMode:"Button press mode",buttonPressModeFirstWins:"Who pressed first (according to server)",buttonPressModeFirstWinsClient:"Who pressed first (according to client)",buttonPressModeRandomWithinInterval:"Random from early pressers",by:"by",byGame:"by game",cancelAnswer:"Cancel player answering",cannotConnectToServer:"Cannot connect to server",changeSums:"Change sums",changeToBot:"Change to bot",changeToHuman:"Change to human",chat:"Chat",chooserMark:"Question chooser mark",close:"Close",comment:"Comment",comments:"Comments",common:"Common",complain:"Complain",complainHint:"The question contains spelling or factual error",composer:"Composer",computer:"Bot",computerAccountsMissing:"Computer accounts not loaded. Try to reload the game",computerPlayers:"Bots",connectionClosed:"Server connection lost!",connectionReconnecting:"Connection lost, trying to reconnect…",connectionReconnected:"Connection restored!",contactUri:"Authors contact",content:"Content",cookiesConfirm:"Accept cookies",cookiesWarning:"This application uses cookies. If you stay on this page, you ageee with that",copyrightIssue:"Copyright issue",copyText:"Copy text to clipboard",corruptedPackage:"Question package is corrupted!",created:"Created",createOwnPackage:"Create your own package",defaultShowman:"Leonardo da Vinci",deleteAvatar:"Delete avatar",deleteTable:"Delete table",descending:"descending",disableSound:"Disable sound",siStorageDisclaimer:"Attention! This section contains materials of third-party authors.\n\tAuthors of packages in the library are responsible for the content of the packages, their accuracy and compliance with the law",displayAnswerOptionsLabels:"Display answer options labels",displayAnswerOptionsOneByOne:"Display answer options one by one",displaySources:"Display questions sources",donate:"Donate",donateComment:"Donations are optional and are used exclusively to cover hosting and domain expenses.\nThe project is non-commercial and exists for educational purposes.\nAll game functionality is available for free—donations do not affect gameplay or grant access to additional features. Thank you for your support!",downloadCount:"Download count",drop:"Drop",duplicateUserName:"A user with this name is already logged on the server!",duration:"Duration",editTable:"Edit game table",enableSound:"Enable sound",enter:"Sign in",enterPin:"Enter PIN code to join the game",errorBadPackage:"Bad question package!",errorDuplicateGameName:"A game with the provided name already exists!",errorHappened:"Error happened!",errorInternalServerError:"Cannot create the game because of the server error!",errorObsoleteVersion:"Your game version is outdated. Update the game",errorPackageNotFound:"Cannot create the game because the question package was not found!",errorServerNotReady:"Server is not ready to start a game",errorServerUnderMaintainance:"Server is under maintenance! Please reconnect after a while.\n\t\tWe apologize for any inconvenience.",errorTolerant:"right to make a mistake",errorTooManyGames:"The maximum number of running games on the server has been exceeded! Please, try again later.",errorUnknownError:"Unable to create the game for unknown reason!",exit:"Exit",exitConfirmation:"Really exit?",exitError:"Cannot exit game!",exitFromGame:"Leave game",failedToCompleteNegotiationWithTheServer:"Failed to complete negotiation with the server",failedToFetch:"Cannot send request to server",falseStarts:"False starts",falseStartsHint:"you can not press the button before the end of the question reading",female:"woman",file:"File with questions",fileNonReadable:"Cannot open file. Maybe it has been changed. Pleae select it again",filter:"Filter",final:"Final",floatingControls:"Auto-hide game controls",forbiddenNickname:"This nickname is forbidden on the server!",freeTable:"Free table",friendsPlay:"Play with friends",fullScreen:"Full screen mode",game:"Game",gameAuthor:"Game author",gameButton:"Game button",gameButtonKey:"Game button key",gameClosed:"Game closed by server due to inactivity",gameCount:"Game count",gameDuration:"Game duration",gameFinished:"Game finished",gameInfo:"Game info",gameJoin:"Join game",gameManageHint:"Manage game state",gameName:"Name",gameNameMustBeSpecified:"Game name required",gameNotFound:"Game not found",gameLoading:"Game loading…",gameOf:"Game by",games:"Games",gameStarted:"Game started",gamesStatistics:"Games for the last 24 hours",gamesTitle:"Find a room in the list or create a new one",gameThemes:"Game themes",gameType:"Game type",gameTypeClassicHint:"Table: questions are selected by players",gameTypeFinalHint:"Theme list: final",gameTypeSimpleHint:"Table: questions are played sequentially",getPin:"PIN-code",giveTurn:"Change active player",giveTurnHint:"Select new active player",greeting:"Welcome to SIGame!",hideAnswers:"Hide answers",hideChat:"Hide chat",hintShowman:"Provide right answers to the showman in advance",host:"Host",hostNameChanged:"Game host has been changed by {0} to {1}",hour:"hour",hours2:"hours",hours5:"hours",html:"HTML",human:"Human",humanPlayers:"Humans",iAmRightFemale:"I am right!",iAmRightMale:"I am right!",iDisagree:"I disagree!",iDisagreeHint:"Disagree with someone else answer",images:"Images",imageTime:"Image display",info:"Info",inputAnswer:"Enter answer",inviteLink:"Invite link",inviteLinkCopied:"Invite link copied to clipboard!",ignoreWrong:"Subtract points for a wrong answer",isRightValidateIt:"is correct. Decide: should the answer be accepted?",joinAsPlayer:"Player",joinAsPlayerHint:"Join as player",joinAsShowman:"Showman",joinAsShowmanHint:"Join as showman",joinAsViewer:"Viewer",joinAsViewerHint:"Join as viewer",joinByPin:"Join by PIN-code",joinError:"Cannot join game",joinLobby:"Online game",joinMode:"Join mode",joinModeAnyRole:"Any role",joinModeForbidden:"Forbidden",joinModeViewer:"Only as viewer",keyRight:"Right arrow",keys:"Keys",keySpace:"Space",kick:"Kick",language:"Language",languageDefault:"(default)",languageEn:"English",languageRu:"Русский",latestGames:"Latest games",lawIssue:"Legal issue",library:"Library",librarySearchAll:"(all)",librarySearchLessOrEqual:"less than or equal to",librarySearchMoreOrEqual:"greater than or equal to",librarySearchNotSet:"(not set)",librarySelect:"Select",libraryTitle:"Questions library",license:"License",licenseInfo:"License: any use of the game is allowed with the condition of attribution.",loading:"Loading…",logo:"Logo",mainMenuSound:"Main menu sound",makeAnswer:"Answer",male:"man",managed:"Managed game",managedHint:'The game continues only by pressing the "Next" button',mediaLoadedMark:"Media loaded",members:"Members",menu:"Menu",message:"Message",methodNotAllowed:"Wrong operation method",minute:"minute",minutes2:"minutes",minutes5:"minutes",myRole:"My role",name:"Name",new:"New",newGame:"New game",news:"News",next:"Next (→)",no:"No",nofalsestart:"without false starts",nominal:"Nominal",notReadyFemale:"Cancel readiness",notReadyMale:"Cancel readiness",notSet:"Not set",noWarranty:"The game is distributed free of charge.\n\t\tThe author does not guarantee the correct operation of the game in arbitrary conditions\n\t\tand is not responsible for any consequences from the game usage.",ofGames:"games count",openFile:"Open file",openLibrary:"Go to library",oral:"oral",oralAnswerHint:"Give the answer!",oralGame:"Oral game",oralGameHint:"If the showman is a human. Good setting for live streaming. Players make a choice and give answers by voice",oralPlayersActions:"Allow players to make actions in oral game",orByFilling:"or by filling",other:"Other",packageIsTooBig:"Package exceeds maximum size!",package:"Package",packages:"Packages",packageAuthor:"Author",packageAuthors:"Authors",packageDifficulty:"Difficulty",packageFileWarning:"By uploading a package to the server, you take responsibility for the content of the package.\nThe package will be automatically deleted from the server after the game ends",packagePublishedDate:"Publish date",packagePublisher:"Publisher",packageRestriction:"Restriction",packageSubject:"Topic",page:"Page",partialImages:"Partial question images",partialImagesHint:"When playing without false starts, question images are displayed in portions",partialImageTime:"Partial image display",partialText:"Partial question text",partialTextHint:"When playing without false starts, question text is displayed in portions",pass:"Pass",password:"Password",passwordRequired:"Password is required to enter",pause:"Pause",pickAnEmoji:"Pick an emoji",pin:"PIN-code",pinCopied:"PIN-code copied",playAllQuestionsInFinalRound:"Play all questions",player:"Player",players:"Players",playersAnswer:"Player answer",playWithBots:"Play with bots",playWithFriends:"Play with friends",preloadRoundContent:"Preload media content for all persons at the beginning of the round",profile:"Profile",question:"Question",questionComplain:"Complain about question",questionCount:"Question count",questionEditor:"Question editor",questionPackage:"Question package",questionReadingSpeed:"Question reading speed",questionTypeForAll:"FOR ALL",questionTypeForAllHint:"Question is played by all players",questionTypeNoRisk:"FOR YOURSELF WITHOUT RISK",questionTypeNoRiskHint:"Question is played by player who opened it, for the doubled price.\n\t\tIf answer is wrong, the player does not lose money",questionTypeSecret:"WITH SECRET",questionTypeSecretHint:"Question is given to player and they should answer it",questionTypeStake:"WITH STAKE",questionTypeStakeAll:"FOR ALL WITH STAKE",questionTypeStakeHint:"Question is played by player who made the highest stake. All-in can be overcome by another all-in",questionTypeStakeAllHint:"Everyone makes a stake and plays",randomThemes:"Random themes",rateGame:"Rate game",reactions:"Reactions",readyFemale:"I am ready",readyMale:"I am ready",reloadPage:"Reload page",replaceWith:"Replace with",resetToDefaults:"Reset to defaults",resetToDefaultsHint:"Resets all settings to their initial values",restrictionIssue:"Restriction issue (age, etc.)",results:"Results",resume:"Resume",reviews:"Reviews",rightAnswer:"Right answer",rightAnswers:"Right answers",role:"Role",room:"Room",round:"Round",roundsAndThemes:"Round and themes",roundThemes:"Round themes",roundTail:" round",rules:"Rules",rulesClassic:"Classical",rulesRemoveThemes:"Players remove themes one by one. Question in the last theme is played",rulesSequential:"Questions are played sequentially",search:"Search",searchGames:"Rooms search",searchHint:"Start search to see rooms list",sec:"s",second:"second",seconds2:"seconds",seconds5:"seconds",select:"Select…",selectAnswerer:"Select a player to give the question to",selectAvatar:"Select avatar",selectFirstPlayer:"Select a person to start round",selectStaker:"Select a person to make a stake",selectThemeDeleter:"Select a person to delete a theme",send:"Send",sendingPackage:"Sending package to server…",server:"Server",serverLicense:"Server license",settings:"Settings",set:"Set",setHost:"Set as host",sex:"Sex",showAnswers:"Show answers",showChat:"Show chat",showman:"Showman",showVideoAvatars:"Show video avatars",singlePlay:"Single game",size:"Size",sort:"Sort",sound:"Sound",soundApp:"Application sound",sources:"Sources",sourcesInfo:"Game source code page.",soundVolume:"Sound volume",sport:"Simple",sportPlural:"Simple",started:"Started",startGame:"Create",startGameHint:"Start game without waiting for persons readiness",status:"Status",supportInfo:"Support page.",symbolsPerSecond:"symbols per second",syntaxError:"Syntax error",table:"Table",tableHint:"To answer the question, press the button after the frame lights up on the screen",tableLogoAuthor:"by Vladimir Khil",tables:"Tables",text:"Text",textColor:"Text color",theGameWillStartIn:"The game will start after",thePlayerThinksThatHisHerAnswer:"The player thinks the answer is correct",theme:"Theme",time:"Time",timeForBlockingButton:"Button cooldown (when false starts are enabled)",timeForChoosingFinalTheme:"Choosing theme (removal)",timeForChoosingQuestion:"Choosing question",timeForFinalThinking:"Answering on question for all",timeForGivingACat:"Selecting another player (giving question)",timeForMakingStake:"Making stake",timeForMediaDelay:"Pause before asking for answer when playing media",timeForPrintingAnswer:"Answer",timeForRightAnswer:"Displaying right answer",timeForShowmanDecisions:"Showman decisions",timeForThinkingOnQuestion:"Pressing button (answering border)",timeForThinkingOnSpecial:"Answering on special question",timeOfRound:"Round",tooManyGamesByIp:"Too many games on a single client IP!",tooManyRequests:"Too many requests. Please try again later",topPackages:"Top packages for 24 hours",total:"Total:",trends:"Trends",tv:"Classic",tvPlural:"Classic",unban:"Remove ban",unknownError:"Unknown error",unsupportedBrowser:"Your browser is not supprted. Please, update or replace it",unsupportedMediaType:"Unsupported media type",uploadingImageError:"Avatar sending error",uploadingPackageError:"Package sending error",useApellations:"Answer apellations",useApellationsHint:'Buttons "I am right" and "I disagree"',usedComponents:"Game components and licenses:",userPackages:"",users:"Players",userUnbanned:"User {0} was unbanned",validateAnswer:"Is player ",validateAnswerEnd:" answer correct?",video:"Video",videoAvatar:"Video avatar",viewer:"Viewer",viewers:"Viewers",voiceChat:"Voice chat",webCameraUrl:"Web camera url",welcomeTitle:"Select an action",withButton:"With button",withStakeForAll:"For all with stake",withoutPassword:"Without password",wrongAnswer:"Wrong answer",wrongAnswers:"Wrong answers",wrongGameSettings:"Wrong game settings!",yes:"Yes",youAreKicked:"You have been kicked from the game!",yourName:"Your name"},ru:{about:["SIGame — интеллектуальная викторина, в которой каждый может проверить свои знания и скорость реакции и сразиться с оппонентами.","Правила игры очень просты: все вопросы в игре поделены по темам, и у каждого вопроса в теме есть своя стоимость.\n\tУ каждого игрока имеется персональный счёт, который в начале игры равен 0.\n\tЗвучит вопрос, после которого на экране появляется рамка, показывающая, что можно отвечать.\n\tЕсли игрок знает ответ, он может нажать на красную кнопку. Тот из игроков, кто нажмёт на кнопку ранее\n\t(и не допустит фальстарта), и даёт ответ. В случае верного ответа стоимость вопроса прибавляется к счёту игрока;\n\tв случае неверного — снимается со счёта. В последнем случае другие игроки снова могут попытать счастья и нажать на кнопку для ответа.",'Также в игре могут встретиться специальные вопросы. В "Вопросе со ставкой" участники торгуются за вопрос, и отвечает на него тот игрок,\n\tкто поставит наибольшую сумму. При этом "Ва-банк" (т.е. ставка всей суммы на кон) может быть перебит только другим "Ва-банком".','"Вопрос с секретом" открывший его участник должен передать другому участнику. Получивший его игрок должен (если это заложено в вопросе)\n\tвыбрать стоимость вопроса и ответить на него. Тема вопроса может отличаться от основной темы, в которой находился вопрос.','На "Вопрос для себя без риска" отвечает открывший его игрок.\n\tВ случае правильного ответа на вопрос он получает удвоенную стоимость вопроса.\n\tВ случае неверного ответа на вопрос игрок ничего не теряет.',"В игре также может быть финальный раунд, в котором каждый из игроков делает ставку. Звучит вопрос, даётся время на размышление,\n\tи каждый из игроков письменно сдаёт свой ответ. После этого оглашается правильный ответ, и каждый из игроков получает или теряет деньги.","Победителем игры становится игрок, набравший после последнего вопроса наибольшую сумму.","Игровую кнопку можно также активировать при помощи клавиши Ctrl или правой кнопки мыши."],aboutAuthor:"Автор",aboutSupport:"Техническая поддержка",aboutTitle:"Об игре",acceptLicense:"Принять лицензию",addTable:"Добавить стол",all:"Все",allIn:"ВА-БАНК!",allowEveryoneToPlayHiddenStakes:"Играют все игроки",allowEveryoneToPlayHiddenStakesHint:"даже с 0 или отрицательным счётом",answer:"Ответ",answerChecking:"Проверка ответа",anyonePlay:"Игра со случайными соперниками",apellateAnswer:"Апеллировать свой ответ",apellation:"Апелляция",apiCallsQuotaExceeded:"Превышен лимит запросов. Попробуйте позже",appName:"SIGame",appUser:"SIGame",ascending:"по возрастанию",attachContentToTable:"Добавлять комментарии темы и правильный ответ на табло",audio:"Аудио",audioLoadError:"Ошибка загрузки аудио",authorInfo:"Владимир Хиль",authors:"Авторы",autoSearch:"Быстрая игра",autoSearchHint:"Найти комнату со свободным слотом или создать новую",avatar:"Аватар",avatarIsTooBig:"Аватар превышает максимальный размер!",avatarLoadError:"Ошибка отправки аватара",backgroundColor:"Цвет фона",badPackage:"Плохой пакет вопросов!",ban:"Забанить",bannedList:"Список забаненных",bindNextButton:"Активировать кнопку 'Далее' по стрелке вправо",blocked:"(Заблокирован)",bot:"Бот",buttonPressMode:"Режим нажатия кнопки",buttonPressModeFirstWins:"Кто первым нажал (по версии сервера)",buttonPressModeFirstWinsClient:"Кто первым нажал (по версии клиента)",buttonPressModeRandomWithinInterval:"Рандом из ранних нажавших",by:"от",byGame:"игрой",cancelAnswer:"Отменить ответ игрока",cannotConnectToServer:"Не удалось подключиться к серверу",changeSums:"Изменить суммы",changeToBot:"Заменить на бота",changeToHuman:"Заменить на человека",chat:"Чат",chooserMark:"Метка выбирающего вопрос",close:"Закрыть",comment:"Комментарий",comments:"Комментарии",common:"Общее",complain:"Пожаловаться",complainHint:"В вопросе содержится орфографическая или фактическая ошибка",composer:"Композитор",computer:"Бот",computerAccountsMissing:"Не загружены компьютерные аккаунты. Попробуйте перезагрузить игру",computerPlayers:"Боты",connectionClosed:"Соединение с сервером разорвано!",connectionReconnecting:"Соединение потеряно, пытаемся переподключиться…",connectionReconnected:"Соединение восстановлено!",contactUri:"Контакты авторов",content:"Контент",cookiesConfirm:"Принять",cookiesWarning:"Это приложение использует куки-файлы. Оставаясь на странице, вы соглашаетесь с этим",copyrightIssue:"Нарушение авторских прав",copyText:"Скопировать текст в буфер обмена",corruptedPackage:"Пакет вопросов повреждён!",created:"Создана",createOwnPackage:"Создать свой пакет",defaultShowman:"Леонардо да Винчи",deleteAvatar:"Удалить аватар",deleteTable:"Удалить стол",descending:"по убыванию",disableSound:"Отключить звук",siStorageDisclaimer:"Внимание! В данном разделе представлены материалы сторонних авторов.\n\tАвторы пакетов в библиотеке несут ответственность за содержание пакетов, их достоверность и соответствие закону",displayAnswerOptionsLabels:"Показывать буквы вариантов ответа",displayAnswerOptionsOneByOne:"Показывать варианты ответа по очереди",displaySources:"Показывать источники вопросов",donate:"Донат",donateComment:"Донаты не обязательны и тратятся только на оплату хостинга и домена.\n\t Проект некоммерческий и существует в образовательных целях.\n\t Вся функциональность игры доступна бесплатно - донаты не влияют на игровой процесс\n\t и не используются для доступа к дополнительным функциям игры. Спасибо за поддержку!",downloadCount:"Число скачиваний",drop:"Сбросить",duplicateUserName:"Пользователь с таким именем уже вошёл на сервер!",duration:"Продолжительность",editTable:"Редактировать табло",enableSound:"Включить звук",enter:"Вход",enterPin:"Введите ПИН-код для входа в игру",errorBadPackage:"Плохой пакет вопросов!",errorDuplicateGameName:"Игра с таким именем уже существует!",errorHappened:"Произошла ошибка!",errorInternalServerError:"Не удалось создать игру на сервере из-за ошибки на сервере!",errorObsoleteVersion:"Ваша версия игры устарела. Обновите игру",errorPackageNotFound:"Не удалось создать игру на сервере, так как не был обнаружен игровой пакет!",errorServerNotReady:"Сервер не готов начать игру",errorServerUnderMaintainance:"Производится обслуживание сервера! Пожалуйста, подключитесь через некоторое время.\n\tПриносим извинения за доставленные неудобства.",errorTolerant:"право на ошибку",errorTooManyGames:"Превышено максимальное количество запущенных игр на сервере! Пожалуйста, подождите.",errorUnknownError:"Не удалось создать игру по неизвестной причине!",exit:"Выход",exitConfirmation:"Действительно выйти?",exitError:"Не удалось выйти из игры!",exitFromGame:"Выйти из игры",failedToCompleteNegotiationWithTheServer:"Не удалось завершить переговоры с сервером",failedToFetch:"Не удалось отправить запрос на сервер",falseStarts:"Фальстарты",falseStartsHint:"нельзя нажимать на кнопку до окончания чтения вопроса",female:"женщина",file:"Файл с вопросами",filter:"Фильтр",fileNonReadable:"Невозможно открыть файл. Возможно, он был изменён. Пожалуйста, выберите его ещё раз",final:"Финал",floatingControls:"Автоматическое скрытие элементов управления",forbiddenNickname:"На сервере запрещено использование такого ника!",freeTable:"Освободить стол",friendsPlay:"Играть с друзьями",fullScreen:"Полноэкранный режим",game:"Игра",gameAuthor:"Автор программы",gameButton:"Игровая кнопка",gameButtonKey:"Клавиша игровой кнопки",gameClosed:"Игра завершена сервером по причине неактивности",gameCount:"Всего игр",gameDuration:"Общая продолжительность",gameFinished:"Игра окончена",gameInfo:"Информация об игре",gameJoin:"Вход в игру",gameManageHint:"Управление состоянием игры",gameName:"Название",gameNameMustBeSpecified:"Необходимо задать название игры",gameNotFound:"Игра не найдена",gameLoading:"Идёт загрузка игры…",gameOf:"Игра от",games:"Игры",gameStarted:"Игра началась",gamesStatistics:"Игры за 24 часа",gamesTitle:"Найдите комнату в списке или создайте новую",gameThemes:"Темы игры",gameType:"Тип игры",gameTypeClassicHint:"Таблица: вопросы выбираются игроками",gameTypeFinalHint:"Список тем: финал",gameTypeSimpleHint:"Таблица: вопросы играются по очереди",getPin:"ПИН-код",giveTurn:"Передать ход игроку",giveTurnHint:"Выберите, кому передать ход",greeting:"Добро пожаловать в SIGame!",hideAnswers:"Скрыть ответы",hideChat:"Скрыть чат",hintShowman:"Сообщать ведущему правильные ответы заранее",host:"Хост",hostNameChanged:"Хост игры был изменён {0} на {1}",hour:"час",hours2:"часа",hours5:"часов",html:"HTML",human:"Человек",humanPlayers:"Люди",iAmRightFemale:"Я права!",iAmRightMale:"Я прав!",iDisagree:"Я против!",iDisagreeHint:"Оспорить чужой ответ",ignoreWrong:"Снимать очки за неверный ответ",images:"Изображения",imageTime:"Вывод изображения",info:"Инфо",inputAnswer:"Напишите ответ",inviteLink:"Ссылка для входа",inviteLinkCopied:"Ссылка скопирована",isRightValidateIt:"верен. Примите решение: засчитать ли ответ?",joinAsPlayer:"Игрок",joinAsPlayerHint:"Войти игроком",joinAsShowman:"Ведущий",joinAsShowmanHint:"Войти ведущим",joinAsViewer:"Зритель",joinAsViewerHint:"Войти зрителем",joinByPin:"Вход по ПИН-коду",joinError:"Не удалось подключиться к игре",joinLobby:"Игра онлайн",joinMode:"Режим входа",joinModeAnyRole:"С любой ролью",joinModeForbidden:"Вход запрещён",joinModeViewer:"Только зрителем",keyRight:"Стрелка вправо",keys:"Клавиши",keySpace:"Пробел",kick:"Выгнать",language:"Язык",languageDefault:"(по умолчанию)",languageEn:"English",languageRu:"Русский",latestGames:"Последние игры",lawIssue:"Нарушение закона",library:"Библиотека",librarySearchAll:"(все)",librarySearchLessOrEqual:"меньше или равна",librarySearchMoreOrEqual:"больше или равна",librarySearchNotSet:"(не задано)",librarySelect:"Выбрать",libraryTitle:"Библиотека вопросов",license:"Лицензия",licenseInfo:"Лицензия: допускается любое использование игры с условием указания авторства.",loading:"Загрузка…",logo:"Логотип",mainMenuSound:"Мелодия главного меню",makeAnswer:"Ответить",male:"мужчина",managed:"Управляемая игра",managedHint:'Игра продолжается только по нажатию кнопки "Дальше"',mediaLoadedMark:"Мультимедиа загружено",members:"Участники",menu:"Меню",message:"Сообщение",methodNotAllowed:"Неправильный способ операции",minute:"минута",minutes2:"минуты",minutes5:"минут",myRole:"Моя роль",name:"Имя",new:"Новые",newGame:"Новая игра",news:"Новости",next:"Дальше (→)",no:"Нет",nofalsestart:"без фальстартов",nominal:"Номинал",notReadyFemale:"Отменить готовность",notReadyMale:"Отменить готовность",notSet:"Не задана",noWarranty:"Игра распространяется бесплатно. Автор не гарантирует корректность работы игры в произвольных условиях\n\tи не несёт ответственности за любые последствия от использования игры.",ofGames:"игр",openFile:"Открыть файл",openLibrary:"Перейти в библиотеку",oral:"устная",oralAnswerHint:"Отвечайте!",oralGame:"Устная игра",oralGameHint:"Если ведущий – человек. Хорошо подходит для стримов. Игроки делают выбор и дают ответ голосом",oralPlayersActions:"Разрешать игрокам делать выбор в устной игре",orByFilling:"или по заполнению",package:"Пакет",other:"Другое",packageIsTooBig:"Пакет превышает максимальный размер!",packages:"Пакеты",packageAuthor:"Автор",packageAuthors:"Авторы",packageDifficulty:"Сложность",packageFileWarning:"Загружая пакет на сервер, вы берёте на себя ответственность за содержимое пакета.\nПакет будет автоматически удалён с сервера после окончания игры",packagePublishedDate:"Дата публикации",packagePublisher:"Издатель",packageRestriction:"Ограничение",packageSubject:"Тематика",page:"Страница",partialImages:"Частичный вывод изображений",partialImagesHint:"При игре без фальстартов изображения выводятся порционно",partialImageTime:"Вывод частичных изображений",partialText:"Частичный вывод текста",partialTextHint:"При игре без фальстартов текст выводится порционно",pass:"Пас",password:"Пароль",passwordRequired:"Требуется пароль для входа",pause:"Пауза",pickAnEmoji:"Выбрать эмодзи",pin:"ПИН-код",pinCopied:"ПИН-код скопирован",playAllQuestionsInFinalRound:"Играть все вопросы",player:"Игрок",players:"Игроки",playersAnswer:"Ответ игрока",playWithBots:"Играть с ботами",playWithFriends:"Играть с друзьями",preloadRoundContent:"Предзагружать медиаконтент всем участникам в начале раунда",profile:"Профиль",question:"Вопрос",questionComplain:"Жалоба на вопрос",questionCount:"Число вопросов",questionEditor:"Редактор вопросов",questionPackage:"Пакет вопросов",questionReadingSpeed:"Скорость чтения вопроса",questionTypeForAll:"ДЛЯ ВСЕХ",questionTypeForAllHint:"Вопрос играется всеми игроками",questionTypeNoRisk:"ДЛЯ СЕБЯ БЕЗ РИСКА",questionTypeNoRiskHint:"Вопрос играет открывший его игрок за двойную стоимость. В случае неправильного ответа очки не снимаются",questionTypeSecret:"С СЕКРЕТОМ",questionTypeSecretHint:"Вопрос отдаётся игроку, и тот обязан отвечать",questionTypeStake:"СО СТАВКОЙ",questionTypeStakeAll:"ДЛЯ ВСЕХ СО СТАВКОЙ",questionTypeStakeHint:"На вопрос отвечает игрок, сделавший наибольшую ставку. Ва-банк можно перебить только ва-банком",questionTypeStakeAllHint:"Каждый делает ставку и играет на неё",randomThemes:"Случайный набор тем",rateGame:"Оценить игру",reactions:"Реакции",readyFemale:"Я готова",readyMale:"Я готов",reloadPage:"Обновить страницу",replaceWith:"Заменить на",resetToDefaults:"По умолчанию",resetToDefaultsHint:"Сбрасывает все настройки в их исходное состояние",restrictionIssue:"Нарушение ограничения (по возрасту, региону и т.п.)",results:"Результаты",resume:"Продолжить",reviews:"Отзывы",rightAnswer:"Правильный ответ",rightAnswers:"Правильные ответы",role:"Роль",room:"Комната",round:"Раунд",roundsAndThemes:"Раунды и темы",roundThemes:"Темы раунда",roundTail:"-й раунд",rules:"Правила",rulesClassic:"Классический",rulesRemoveThemes:"Игроки по очереди убирают темы. Играется вопрос из оставшейся темы",rulesSequential:"Вопросы играются по очереди",search:"Поиск",searchGames:"Поиск комнат",searchHint:"Начните поиск, чтобы увидеть список комнат",sec:"с",second:"секунда",seconds2:"секунды",seconds5:"секунд",select:"Выбрать…",selectAnswerer:"Выберите игрока, которому вы отдаёте вопрос",selectAvatar:"Выбрать аватар",selectFirstPlayer:"Выберите начинающего раунд",selectStaker:"Выберите ставящего",selectThemeDeleter:"Выберите убирающего тему",send:"Отправить",sendingPackage:"Отправка пакета на сервер…",server:"Сервер",serverLicense:"Лицензия сервера",settings:"Настройки",set:"Задать",setHost:"Сделать хостом",sex:"Пол",showAnswers:"Показать ответы",showChat:"Показать чат",showman:"Ведущий",showVideoAvatars:"Показывать видео аватары",singlePlay:"Одиночная игра",size:"Размер",sort:"Сортировка",sound:"Звук",soundApp:"Звук приложения",soundVolume:"Громкость звука",sources:"Источники",sourcesInfo:"Страница исходного кода игры.",sport:"Упрощённая",sportPlural:"Упрощённые",started:"Начата",startGame:"Создать",startGameHint:"Начать игру, не дожидаясь готовности участников",status:"Статус",supportInfo:"Страница технической поддержки.",symbolsPerSecond:"символов в секунду",syntaxError:"Синтаксическая ошибка",table:"Табло",tableHint:"Для ответа на вопрос нажимайте на кнопку после загорания рамки на экране",tableLogoAuthor:"Автор игры - Владимир Хиль",tables:"Столы",text:"Текст",textColor:"Цвет текста",theGameWillStartIn:"Игра начнётся через",thePlayerThinksThatHisHerAnswer:"Игрок считает, что его ответ",theme:"Тема",time:"Время",timeForBlockingButton:"Блокировка кнопки при фальстарте",timeForChoosingFinalTheme:"Выбор темы (удаление)",timeForChoosingQuestion:"Выбор вопроса",timeForFinalThinking:"Ответ на вопрос для всех",timeForGivingACat:"Выбор другого игрока (передача вопроса)",timeForMakingStake:"Ставка",timeForMediaDelay:"Пауза для медиаконтента",timeForPrintingAnswer:"Ответ",timeForRightAnswer:"Вывод правильного ответа",timeForShowmanDecisions:"Решения ведущего",timeForThinkingOnQuestion:"Нажатие кнопки (рамка для ответа)",timeForThinkingOnSpecial:"Ответ на спецвопрос",timeOfRound:"Раунд",tooManyGamesByIp:"Слишком много игр на одном адресе!",tooManyRequests:"Слишком много запросов. Пожалуйста, обратитесь позже",topPackages:"Лучшие пакеты за 24 часа",total:"Всего:",trends:"Тренды",tv:"Классическая",tvPlural:"Классические",unban:"Снять бан",unknownError:"Неизвестная ошибка",unsupportedBrowser:"Ваш браузер не поддерживается. Пожалуйста, обновите или замените его",unsupportedMediaType:"Неподдерживаемый тип медиа",uploadingImageError:"Ошибка отправки аватара",uploadingPackageError:"Ошибка отправки пакета",useApellations:"Апелляции ответов",useApellationsHint:'Кнопки "Я прав" и "Я против"',usedComponents:"Используемые в игре компоненты и их лицензии:",userPackages:"Пользовательские пакеты",users:"Игроки",userUnbanned:"Пользователь {0} был разбанен",validateAnswer:"Верен ли ответ игрока ",validateAnswerEnd:"?",video:"Видео",videoAvatar:"Видео аватар",viewer:"Зритель",viewers:"Зрители",voiceChat:"Голосовой чат",webCameraUrl:"Адрес веб-камеры",welcomeTitle:"Выберите действие",withButton:"С кнопкой",withStakeForAll:"Для всех со ставкой",withoutPassword:"Без пароля",wrongAnswer:"Неправильный ответ",wrongAnswers:"Неправильные ответы",wrongGameSettings:"Неверные настройки игры!",yes:"Да",youAreKicked:"Вас выгнали из игры!",yourName:"Ваше имя"}});var et;!function(e){e[e.Information=0]="Information",e[e.Warning=1]="Warning",e[e.System=2]="System"}(et||(et={}));const tt=et,at=a.p+"27aa02a231e6c9bafe3b.mp3",nt=a.p+"70782526852fcf2a9194.mp3",st=a.p+"f055c1d80103ccc18124.mp3",ot=a.p+"8cbcd7790bb9b0d02c71.mp3",it=a.p+"31e512498acddac85553.mp3",rt=a.p+"7671f5c36cbcea4448ba.mp3",lt=a.p+"42413d3dc0dfdcfc94f8.mp3",ct=a.p+"369f1d1d1bc6889e06a1.mp3",dt=a.p+"2dfae94e2b7f35d2612f.mp3",pt=a.p+"b3ccb953ab841bba6d88.mp3",ut=a.p+"44cd12deb7f43d625fd4.mp3",mt=a.p+"80e31b130b4733db56ff.mp3",gt=a.p+"65e5f5cd3a523a4a00c4.mp3",ht=a.p+"8cb68217c8f94283545c.mp3",yt=a.p+"b9538c7b6637f41e6de2.mp3",bt=a.p+"8cb68217c8f94283545c.mp3",ft=new class{constructor(){this.sounds=new Map([["answer_wrong",at],["applause_big",nt],["applause_final",st],["applause_small",ot],["final_delete",it],["final_think",rt],["main_menu",lt],["question_all",ct],["question_noanswers",dt],["question_norisk",pt],["question_secret",gt],["question_stake",ut],["question_stake_all",mt],["round_begin",ht],["round_themes",yt],["round_timeout",bt]])}getSound(e){return this.sounds.get(e)}setSound(e,t){this.sounds.set(e,t)}};var vt;!function(e){e[e.Information=0]="Information",e[e.Warning=1]="Warning",e[e.Error=2]="Error"}(vt||(vt={}));const At={computerAccounts:null,isConnected:!0,isConnectedReason:"",isSIHostConnected:!0,isSIHostConnectedReason:"",serverName:null,serverLicense:null,maxPackageSizeMb:100,error:null,userError:null,messageLevel:vt.Error,askForConsent:!0,avatarLoadProgress:!1,avatarLoadError:null,audio:null,audioLoop:!1,fontsReady:!1,clipboardSupported:!0},St=(0,u.Z0)({name:"common",initialState:At,reducers:{isConnectedChanged:(e,t)=>{e.isConnected=t.payload.isConnected,e.isConnectedReason=t.payload.reason},isSIHostConnectedChanged:(e,t)=>{e.isSIHostConnected=t.payload.isConnected,e.isSIHostConnectedReason=t.payload.reason},computerAccountsChanged:(e,t)=>{e.computerAccounts=t.payload},serverInfoChanged:(e,t)=>{e.serverName=t.payload.serverName,e.serverLicense=t.payload.serverLicense,e.maxPackageSizeMb=t.payload.maxPackageSizeMb},commonErrorChanged:(e,t)=>{e.error=t.payload},userErrorChangedInternal:(e,t)=>{var a;e.userError=t.payload.message,e.messageLevel=null!==(a=t.payload.messageLevel)&&void 0!==a?a:vt.Error},avatarLoadStart:e=>{e.avatarLoadProgress=!0},avatarLoadEnd:e=>{e.avatarLoadError=null,e.avatarLoadProgress=!1},avatarLoadError:(e,t)=>{e.avatarLoadError=t.payload,e.avatarLoadProgress=!1},playAudio:(e,t)=>{var a;e.audio=null!==(a=ft.getSound(t.payload.audio))&&void 0!==a?a:null,e.audioLoop=t.payload.loop},stopAudio:e=>{e.audio=null,e.audioLoop=!1},setFontsReady:(e,t)=>{e.fontsReady=t.payload},setClipboardSupported:(e,t)=>{e.clipboardSupported=t.payload}}}),wt=(0,u.zD)("common/userMessageChanged",((e,t)=>{return a=void 0,n=void 0,o=function*(){t.dispatch(St.actions.userErrorChangedInternal({message:e.message,messageLevel:e.messageLevel})),window.setTimeout((()=>t.dispatch(St.actions.userErrorChangedInternal({message:null}))),3e3)},new((s=void 0)||(s=Promise))((function(e,t){function i(e){try{l(o.next(e))}catch(e){t(e)}}function r(e){try{l(o.throw(e))}catch(e){t(e)}}function l(t){var a;t.done?e(t.value):(a=t.value,a instanceof s?a:new s((function(e){e(a)}))).then(i,r)}l((o=o.apply(a,n||[])).next())}));var a,n,s,o})),Ct=e=>wt({message:e,messageLevel:vt.Error}),Tt=e=>wt({message:e,messageLevel:vt.Warning}),{isConnectedChanged:Et,isSIHostConnectedChanged:kt,computerAccountsChanged:xt,serverInfoChanged:It,commonErrorChanged:Ot,avatarLoadStart:Nt,avatarLoadEnd:Pt,avatarLoadError:Rt,playAudio:Dt,stopAudio:jt,setFontsReady:Mt,setClipboardSupported:Gt}=St.actions,Ht=St.reducer;var _t=a(8909),Bt=a(4313),Lt=(a(5542),a(4492)),Ft=function(e,t,a,n){return new(a||(a=Promise))((function(s,o){function i(e){try{l(n.next(e))}catch(e){o(e)}}function r(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(i,r)}l((n=n.apply(e,t||[])).next())}))};class Ut{constructor(e){if(this.serverUri=e,!e)return void(this.connection=(new _t.$).withUrl("http://fake").build());const t=(new _t.$).withAutomaticReconnect({nextRetryDelayInMilliseconds:e=>1e3*(e.previousRetryCount+1)}).withUrl(`${e}/sionline`).withHubProtocol(new Bt.E);this.connection=t.build()}isConnected(){return this.connection.state===Lt.j.Connected}connect(){return Ft(this,void 0,void 0,(function*(){yield this.connection.start()}))}disconnect(){return Ft(this,void 0,void 0,(function*(){yield this.connection.stop()}))}getComputerAccountsAsync(e){return Ft(this,void 0,void 0,(function*(){const t=yield fetch(`${this.serverUri}/api/v1/info/bots`,{headers:{"Accept-Language":e}});if(!t.ok)throw new Error(`Error while retrieving computer accounts: ${t.status} ${yield t.text()}`);return yield t.json()}))}getGameHostInfoAsync(e){return Ft(this,void 0,void 0,(function*(){const t=yield fetch(`${this.serverUri}/api/v1/info/host`,{headers:{"Accept-Language":e}});if(!t.ok)throw new Error(`Error while retrieving computer accounts: ${t.status} ${yield t.text()}`);return yield t.json()}))}getStorageFilterAsync(e){return Ft(this,void 0,void 0,(function*(){const t=yield fetch(`${this.serverUri}/api/v1/info/storage-filter/${e}`);return t.ok?yield t.json():{packages:{},tags:[]}}))}getGamesSliceAsync(e){return this.connection.invoke("GetGamesSlice",e)}runGameAsync(e){return Ft(this,void 0,void 0,(function*(){const t=yield fetch(`${this.serverUri}/api/v1/games`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)});return t.ok,yield t.json()}))}runAutoGameAsync(e){return Ft(this,void 0,void 0,(function*(){const t=yield fetch(`${this.serverUri}/api/v1/games/auto`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)});return t.ok,yield t.json()}))}getGameByPinAsync(e){return Ft(this,void 0,void 0,(function*(){const t=yield fetch(`${this.serverUri}/api/v1/games?pin=${e}`);if(!t.ok){if(404===t.status)return null;throw new Error(`Error while retrieving game by pin: ${t.status} ${yield t.text()}`)}return yield t.json()}))}}function qt(e){return e instanceof Error?"Failed to fetch"===(t=e).message?Xe.failedToFetch:"NotReadableError"===t.name?Xe.fileNonReadable:t.message.startsWith("Failed to complete negotiation with the server")?Xe.failedToCompleteNegotiationWithTheServer:t.message.startsWith("429 API calls quota exceeded")?Xe.apiCallsQuotaExceeded:t.message:e.toString();var t}function Vt(e){return"ru"===function(e){var t;return null!==(t=e.settings.appSettings.culture)&&void 0!==t?t:Xe.getLanguage()}(e)?"ru-RU":"en-US"}class Wt{constructor(e,t){this.gameServerClient=e,this.shouldClose=t}addTable(){return this.gameServerClient.msgAsync("CONFIG","ADDTABLE")}approveAnswer(e){return this.gameServerClient.msgAsync("ISRIGHT","+",e)}changeTableType(e,t){return this.gameServerClient.msgAsync("CONFIG","CHANGETYPE",e?"showman":"player",e?"":t)}deleteTable(e){return this.gameServerClient.msgAsync("CONFIG","DELETETABLE",e)}deleteTheme(e){return this.gameServerClient.msgAsync("DELETE",e)}freeTable(e,t){return this.gameServerClient.msgAsync("CONFIG","FREE",e?"showman":"player",e?"":t)}getPin(){return this.gameServerClient.msgAsync("PIN")}info(){return this.gameServerClient.msgAsync("INFO")}kick(e){return this.gameServerClient.msgAsync("BAN",e)}markQuestion(e,t){return this.gameServerClient.msgAsync("MARK",e,t)}mediaLoaded(){return this.gameServerClient.msgAsync("MEDIALOADED")}moveable(){return this.gameServerClient.msgAsync("MOVEABLE")}onMediaCompleted(){return this.gameServerClient.msgAsync("ATOM")}pass(){return this.gameServerClient.msgAsync("PASS")}pause(e){return this.gameServerClient.msgAsync("PAUSE",e?"+":"-")}pressButton(e){return this.gameServerClient.msgAsync("I",e)}ready(){return this.gameServerClient.msgAsync("READY")}rejectAnswer(e){return this.gameServerClient.msgAsync("ISRIGHT","-",e)}selectQuestion(e,t){return this.gameServerClient.msgAsync("CHOICE",e,t)}sendAnswer(e){return this.gameServerClient.msgAsync("ANSWER",e)}sendAnswerVersion(e){return this.gameServerClient.msgAsync("ANSWER_VERSION",e)}sendAvatar(e){return this.gameServerClient.msgAsync("PICTURE",e)}sendGameReport(e){return this.gameServerClient.msgAsync("REPORT","ACCEPT",e)}sendImageAvatar(e){return this.gameServerClient.msgAsync("AVATAR","image",e)}sendVideoAvatar(e){return this.gameServerClient.msgAsync("AVATAR","video",e)}setChooser(e){return this.gameServerClient.msgAsync("SETCHOOSER",e)}setHost(e){return this.gameServerClient.msgAsync("SETHOST",e)}setJoinMode(e){return this.gameServerClient.msgAsync("SETJOINMODE",r[e])}setTable(e,t,a){return this.gameServerClient.msgAsync("CONFIG","SET",e?"showman":"player",e?"":t,a)}toggle(e,t){return this.gameServerClient.msgAsync("TOGGLE",e,t)}unban(e){return this.gameServerClient.msgAsync("UNBAN",e)}validateAnswer(e,t){return this.gameServerClient.msgAsync("VALIDATE",e,t?"+":"-")}}var zt,Qt=a(6337),$t=a.n(Qt),Kt=a(4233),Jt=a.n(Kt);!function(e){e[e.Void=0]="Void",e[e.Text=1]="Text",e[e.Image=2]="Image",e[e.Video=3]="Video",e[e.Html=4]="Html"}(zt||(zt={}));const Yt=zt;var Zt;!function(e){e.Before="Before",e.Begin="Begin",e.Round="Round",e.Final="Final",e.After="After"}(Zt||(Zt={}));const Xt=Zt;var ea;!function(e){e.SelectByPlayer="SelectByPlayer",e.Sequential="Sequential",e.RemoveOtherThemes="RemoveOtherThemes"}(ea||(ea={}));const ta=ea,aa={onlineView:0,windowWidth:window.innerWidth,windowHeight:window.innerHeight,areSettingsVisible:!1,isProfileVisible:!1,isSettingGameButtonKey:!1,isVisible:!0,navigation:{path:"/loading"},showPlayers:!0,qrCode:null,isFullScreenSupported:!0},na=(0,u.Z0)({name:"ui",initialState:aa,reducers:{showSettings:(e,t)=>{e.areSettingsVisible=t.payload,e.isSettingGameButtonKey=e.isSettingGameButtonKey&&t.payload},showProfile:(e,t)=>{e.isProfileVisible=t.payload},closeGameInfo:e=>{e.onlineView=0},onlineModeChanged:(e,t)=>{e.onlineView=t.payload},windowSizeChanged:(e,t)=>{e.windowWidth=t.payload.width,e.windowHeight=t.payload.height},isSettingGameButtonKeyChanged:(e,t)=>{e.isSettingGameButtonKey=t.payload},visibilityChanged:(e,t)=>{e.isVisible=t.payload},navigateCore:(e,t)=>{e.navigation=t.payload},playersVisibilityChanged:(e,t)=>{e.showPlayers=t.payload},setQrCode:(e,t)=>{e.qrCode=t.payload},setFullScreenSupported:(e,t)=>{e.isFullScreenSupported=t.payload}}}),{showSettings:sa,showProfile:oa,closeGameInfo:ia,onlineModeChanged:ra,windowSizeChanged:la,isSettingGameButtonKeyChanged:ca,visibilityChanged:da,navigateCore:pa,playersVisibilityChanged:ua,setQrCode:ma,setFullScreenSupported:ga}=na.actions,ha=na.reducer;const ya=(0,u.zD)("global/copyToClipboard",((e,t)=>{return a=void 0,n=void 0,o=function*(){t.extra.state.copyToClipboard(e)},new((s=void 0)||(s=Promise))((function(e,t){function i(e){try{l(o.next(e))}catch(e){t(e)}}function r(e){try{l(o.throw(e))}catch(e){t(e)}}function l(t){var a;t.done?e(t.value):(a=t.value,a instanceof s?a:new s((function(e){e(a)}))).then(i,r)}l((o=o.apply(a,n||[])).next())}));var a,n,s,o}));function ba(e){let t=1,a=e.content.length/t,n=Math.min(9/t,16/a);for(let s=2;s<e.content.length;s++){const o=Math.ceil(e.content.length/s),i=Math.min(9/s,16/o);i>n&&(n=i,t=s,a=o)}e.columnCount=a,e.weight*=t}function fa(e){switch(e){case ta.SelectByPlayer:return Xe.rulesClassic;case ta.Sequential:return Xe.rulesSequential;case ta.RemoveOtherThemes:return Xe.rulesRemoveThemes;default:return""}}class va{constructor(e,t,a,n,s=null){this.dispatch=e,this.appDispatch=t,this.getState=a,this.dataContext=n,this.loadStart=s}preprocessServerUri(e){const t=e.replace("<SERVERHOST>",this.dataContext.contentUris&&this.dataContext.contentUris.length>0?this.dataContext.contentUris[0]:this.dataContext.serverUri);return"https:"===location.protocol?t.replace("http://","https://"):t}playGameSound(e,t=!1){this.getState().settings.appSound&&this.appDispatch(Dt({audio:e,loop:t}))}onScreenContent(e){const t=[];let a=null,n=!1;for(let s=0;s<e.length;s++){const{type:o,value:i}=e[s];switch(o){case"text":a&&(t.push(a),ba(a),a=null);const e={weight:Math.min(5,Math.max(1,i.length/80)),content:[],columnCount:1};e.content.push({type:Yt.Text,value:i,read:0===t.length,partial:!1}),t.push(e);break;case"image":a||(a={weight:5,content:[],columnCount:1}),a.content.push({type:Yt.Image,value:this.preprocessServerUri(i),read:!1,partial:!1});const s=this.getState();s.room.stage.isQuestion&&"simple"===s.room.stage.questionType&&!s.table.isAnswer&&!s.room.settings.falseStart&&s.room.settings.partialImages&&s.room.settings.timeSettings.partialImageTime>0&&(n=!0);break;case"video":a||(a={weight:5,content:[],columnCount:1}),a.content.push({type:Yt.Video,value:this.preprocessServerUri(i),read:!1,partial:!1});break;case"html":a||(a={weight:5,content:[],columnCount:1}),a.content.push({type:Yt.Html,value:this.preprocessServerUri(i),read:!1,partial:!1})}}a&&(t.push(a),ba(a)),this.appDispatch(we(t)),n&&(this.appDispatch(_e()),this.loadStart=new Date)}onAds(e){this.appDispatch(pe(e))}onAnswers(e){this.appDispatch(Ks(e))}onApellationEnabled(e){this.dispatch(ws.areApellationsEnabledChanged(e))}onAskAnswer(){this.dispatch(ws.decisionNeededChanged(!0)),0===this.getState().table.layoutMode?(this.dispatch(ws.isAnswering()),this.appDispatch(_s(Ts.Answer))):this.appDispatch(Ee(!0))}onAskSelectPlayer(e,t){this.appDispatch(so(t)),this.dispatch(ws.selectionEnabled("SELECT_PLAYER")),this.appDispatch(Ls(function(e){switch(e){case"Answerer":return Xe.selectAnswerer;case"Chooser":return Xe.selectFirstPlayer;case"Deleter":return Xe.selectThemeDeleter;case"Staker":return Xe.selectStaker;default:return""}}(e)))}onAskStake(e,t,a,n,s,o){this.dispatch(ws.setStakes(e,t,a,n,o)),this.dispatch(ws.decisionNeededChanged(!0))}onAskValidate(e,t){this.appDispatch(ho({playerIndex:e,answer:t}))}onAvatarChanged(e,t,a){switch(t){case"image":this.dispatch(ws.personAvatarChanged(e,a));break;case"video":this.dispatch(ws.personAvatarVideoChanged(e,a))}}onBanned(e,t){this.dispatch(ws.banned(e,t))}onBannedList(e){this.dispatch(ws.bannedListChanged(e))}onButtonBlockingTimeChanged(e){this.dispatch(ws.buttonBlockingTimeChanged(e))}onCancel(){this.dispatch(ws.clearDecisions()),this.appDispatch(yo()),this.appDispatch(no()),setTimeout((()=>this.appDispatch(_s(Ts.None))),500)}onConnected(e,t,a){if(e.name!==this.getState().room2.name)switch(this.dispatch(ws.personAdded(e)),t){case"showman":this.appDispatch(Ws({name:e.name,isHuman:!0,isReady:!1}));break;case"player":this.appDispatch(Qs({index:a,name:e.name,isHuman:!0,isReady:!1}))}}onContentHint(e){this.appDispatch(Fe(e)),setTimeout((()=>{this.appDispatch(Fe(""))}),6e3)}onDisconnected(e){this.dispatch(ws.personRemoved(e));const t=this.getState();if(t.room2.persons.showman.name===e)this.appDispatch(Ws({name:g,isHuman:!1,isReady:!1}));else for(let a=0;a<t.room2.persons.players.length;a++)if(t.room2.persons.players[a].name===e){this.appDispatch(Qs({index:a,name:g,isHuman:!1,isReady:!1}));break}}onGameClosed(){this.appDispatch(pe(Xe.gameClosed)),this.appDispatch(Tt(Xe.gameClosed)),this.dispatch(ws.chatMessageAdded({sender:"",text:Xe.gameClosed,level:tt.System}))}onGameThemes(e){this.appDispatch(re(e)),this.playGameSound("game_themes")}onInfo(e,t,a){this.dispatch(ws.infoChanged(e)),this.appDispatch(Us({showman:t,players:a})),this.dispatch(ns.sendAvatar())}onOptionChanged(e,t){const{settings:a}=this.getState().room;switch(e){case"DisplayAnswerOptionsLabels":this.dispatch(ws.settingsChanged(Object.assign(Object.assign({},a),{displayAnswerOptionsLabels:"true"===t.toLowerCase()})));break;case"FalseStart":this.dispatch(ws.settingsChanged(Object.assign(Object.assign({},a),{falseStart:"true"===t.toLowerCase()})));break;case"PartialImages":this.dispatch(ws.settingsChanged(Object.assign(Object.assign({},a),{partialImages:"true"===t.toLowerCase()})));break;case"PartialImageTime":this.dispatch(ws.settingsChanged(Object.assign(Object.assign({},a),{timeSettings:Object.assign(Object.assign({},a.timeSettings),{partialImageTime:parseInt(t,10)})})))}}onOralAnswer(){this.appDispatch(_s(Ts.OralAnswer)),this.dispatch(ws.decisionNeededChanged(!0))}onPackage(e,t){t?(this.appDispatch(xe(Xe.package)),this.onContent("screen",[{type:"image",value:t},{type:"text",value:e}])):this.appDispatch(le({header:Xe.package,text:e,hint:"",large:!1}))}onPass(e){this.appDispatch(Zs({index:e,state:Ze.Pass}))}onPin(e){var t;this.appDispatch(ya(e)),this.appDispatch((t=Xe.pinCopied,wt({message:t,messageLevel:vt.Information})))}onPlayerState(e,t){this.appDispatch(Xs({indices:t,state:e})),e===Ze.Lost&&setTimeout((()=>{this.appDispatch(to(t))}),800)}onQrCode(e){this.appDispatch(ma(e))}onQuestionAnswers(e,t){this.appDispatch(mo({rightAnswers:e,wrongAnswers:t}))}onReadingSpeedChanged(e){this.dispatch(ws.readingSpeedChanged(e))}onReady(e,t){let a;const n=this.getState();if(e===n.room2.persons.showman.name)a=-1;else if(a=n.room2.persons.players.findIndex((t=>t.name===e)),-1===a)return;this.appDispatch(lo({personIndex:a,isReady:t}))}onResumeMedia(){this.appDispatch(ke())}onReport(e){this.appDispatch(Bs(e))}onRoundContent(e,t=0){const a=[];e.forEach(((e,t)=>{const n=this.preprocessServerUri(e);window.setTimeout((()=>{return t=this,s=void 0,i=function*(){try{const t=yield fetch(n);t.ok||(t.status>=500&&a.push(e),this.dispatch(ws.chatMessageAdded({sender:"",text:t.statusText,level:tt.System})))}catch(t){console.error(e+" "+qt(t))}},new((o=void 0)||(o=Promise))((function(e,a){function n(e){try{l(i.next(e))}catch(e){a(e)}}function r(e){try{l(i.throw(e))}catch(e){a(e)}}function l(t){var a;t.done?e(t.value):(a=t.value,a instanceof o?a:new o((function(e){e(a)}))).then(n,r)}l((i=i.apply(t,s||[])).next())}));var t,s,o,i}),1e3*t)})),window.setTimeout((()=>{a.length>0&&t<3&&this.onRoundContent(a,++t)}),1e3*(e.length+1))}onRoundThemes(e,t){"OneByOne"===t&&this.playGameSound("round_themes",!0);const a=e.map((e=>({name:e,questions:[]})));this.appDispatch(de({roundThemes:a,isFinal:"AllTogether"===t,display:"None"!==t})),this.appDispatch(Ge())}onSetAttachContentToTable(e){this.appDispatch(Q(e))}onStage(e,t,a,n){const s=this.getState();if(this.appDispatch(jt()),this.dispatch(ws.stageChanged(e,a)),e!==Xt.Before&&this.dispatch(ws.gameStarted(!0)),e===Xt.Round||e===Xt.Final){this.playGameSound("round_begin");const{roundTail:a}=Xe,o=t.endsWith(a)?t.substring(0,t.length-a.length):t;if(this.appDispatch(le({header:Xe.round,text:o,hint:fa(n),large:!0})),e===Xt.Round)for(let e=0;e<s.room2.persons.players.length;e++)this.appDispatch(po({playerIndex:e,inGame:!0}));this.appDispatch(xe(""))}else e!==Xt.Begin&&e!==Xt.After||(this.appDispatch(ie()),this.appDispatch(xe(e===Xt.Begin?Xe.gameStarted:Xe.gameFinished)));this.dispatch(qs()),this.dispatch(ws.gameStateCleared()),this.dispatch(ws.clearDecisionsAndMainTimer()),this.appDispatch(yo()),this.appDispatch(Ee(!1)),this.appDispatch(Ie()),this.appDispatch(Te(!1)),this.appDispatch(_s(Ts.None)),this.appDispatch(Se())}onStageInfo(e,t,a){this.dispatch(ws.stageChanged(e,a)),e!==Xt.Before&&this.dispatch(ws.gameStarted(!0)),e===Xt.After&&this.appDispatch(ie())}onValidation(e,t,a,n,s,o,i){this.appDispatch(go({header:e,name:t,answer:a,message:n,rightAnswers:s,wrongAnswers:o,showExtraRightButtons:i}))}onWrongTry(e){const{players:t}=this.getState().room2.persons;e>-1&&e<t.length&&t[e].state===Ze.None&&(this.appDispatch(Zs({index:e,state:Ze.Lost})),setTimeout((()=>{this.appDispatch(eo(e))}),800))}onContent(e,t){switch(e){case"screen":this.onScreenContent(t);break;case"replic":const e=t[0];"text"===e.type&&this.onReplic("s",e.value),this.dispatch(Ce());break;case"background":const a=t[0];if("audio"===a.type){const e=this.preprocessServerUri(a.value);this.getState().table.audio===e&&this.appDispatch(Se()),this.appDispatch(Ae(e))}}}onAnswerOption(e,t,a,n){this.appDispatch(Re({index:e,label:t,contentType:"text"===a?Yt.Text:Yt.Image,value:n}))}onThemeComments(e){this.appDispatch(Me(e))}onContentAppend(e,t,a,n){this.appDispatch(ve(n))}onContentShape(e){this.appDispatch(fe(e));const t=[{content:[{type:Yt.Text,value:"",read:!1,partial:!0}],weight:1,columnCount:1}];this.appDispatch(we(t))}onContentState(e,t,a){const n=this.getState();1===n.table.layoutMode&&"screen"===e&&t>0&&t<=n.table.answerOptions.length&&a&&this.appDispatch(De({index:t-1,state:a}))}onAnswerOptionsLayout(e,t){const a=[];for(let e=0;e<t.length;e++){const n=t[e];a.push({label:"",state:ne.Normal,content:{type:Yt[n],value:"",read:!1,partial:!1}})}this.appDispatch(Pe({questionHasScreenContent:e,options:a}))}onBeginPressButton(){this.appDispatch(Te(!0)),this.resumeLoadTimerIfNeeded()}onEndPressButtonByPlayer(e){this.appDispatch(Te(!1)),this.appDispatch(Zs({index:e,state:Ze.Press})),this.pauseLoadTimerIfNeeded(),this.playGameSound("button_pressed")}onEndPressButtonByTimeout(){this.appDispatch(Te(!1)),this.dispatch(ws.stopTimer(1)),this.playGameSound("question_noanswers")}onReplic(e,t){if("s"!==e)if(e.startsWith("p")&&e.length>1){const a=parseInt(e.substring(1),10);this.appDispatch(Fs({playerIndex:a,replic:t}))}else"l"===e&&this.dispatch(ws.chatMessageAdded({sender:null,text:t,level:tt.System}));else this.appDispatch(Ls(t))}onTable(e,t){this.appDispatch(de({roundThemes:e,isFinal:t,display:!1}))}onShowTable(){this.appDispatch(me()),this.appDispatch(jt()),this.appDispatch(Te(!1)),this.dispatch(ws.stopTimer(1))}onTableCaption(e){this.appDispatch(xe(e))}onQuestionSelected(e,t){this.appDispatch(qs()),this.dispatch(ws.afterQuestionStateChanged(!1)),this.appDispatch(Ge()),this.playGameSound("question_selected");const a=this.getState().table.roundInfo[e];if(a&&t>-1&&t<=a.questions.length){const n=a.questions[t];this.dispatch(ws.currentPriceChanged(n)),this.appDispatch(xe(`${a.name}, ${n}`)),this.appDispatch(ge({themeIndex:e,questionIndex:t})),setTimeout((()=>{this.appDispatch(ye({themeIndex:e,questionIndex:t,price:-1})),6===this.getState().table.mode&&this.appDispatch(le({header:a.name,text:n.toString(),hint:"",large:!0}))}),500)}}onTheme(e){this.appDispatch(qs()),this.appDispatch(Ls("")),this.appDispatch(le({header:Xe.theme,text:e,hint:"",large:!1})),this.dispatch(ws.afterQuestionStateChanged(!1)),this.dispatch(ws.themeNameChanged(e)),this.appDispatch(Te(!1)),this.dispatch(ws.stopTimer(1))}onQuestion(e){const{themeName:t}=this.getState().room.stage;this.appDispatch(qs()),this.dispatch(ws.afterQuestionStateChanged(!1)),this.appDispatch(le({header:t,text:e,hint:"",large:!0})),this.appDispatch(xe(`${t}, ${e}`)),this.appDispatch(Ge())}onTimerMaximumChanged(e,t){this.dispatch(ws.timerMaximumChanged(e,t))}onPlayersVisibilityChanged(e){this.appDispatch(ua(e))}onTimerRun(e,t,a){this.dispatch(ws.runTimer(e,t,!1)),2===e&&null!==a&&(-1===a?this.appDispatch(oo()):-2===a?this.dispatch(ws.showMainTimer()):a>-1&&a<this.getState().room2.persons.players.length&&this.appDispatch(io(a)))}onTimerPause(e,t){this.dispatch(ws.pauseTimer(e,t,!1))}onTimerResume(e){this.dispatch(ws.resumeTimer(e,!1))}onTimerStop(e){this.dispatch(ws.stopTimer(e)),2===e&&(this.dispatch(ws.clearDecisionsAndMainTimer()),this.appDispatch(ro()),this.appDispatch(jt()))}onQuestionType(e,t){if(this.dispatch(ws.isQuestionChanged(!0,e)),!t)switch(e){case"forAll":this.playGameSound("question_all"),this.appDispatch(ce({header:Xe.question,text:Xe.questionTypeForAll,hint:Xe.questionTypeForAllHint}));break;case"stake":this.playGameSound("question_stake"),this.appDispatch(ce({header:Xe.question,text:Xe.questionTypeStake,hint:Xe.questionTypeStakeHint}));break;case"stakeAll":this.playGameSound("question_stake_all"),this.appDispatch(ce({header:Xe.question,text:Xe.questionTypeStakeAll,hint:Xe.questionTypeStakeAllHint}));break;case"secret":case"secretPublicPrice":case"secretNoQuestion":this.playGameSound("question_secret"),this.appDispatch(ce({header:Xe.question,text:Xe.questionTypeSecret,hint:Xe.questionTypeSecretHint})),this.appDispatch(Ge());break;case"noRisk":this.playGameSound("question_norisk"),this.appDispatch(ce({header:Xe.question,text:Xe.questionTypeNoRisk,hint:Xe.questionTypeNoRiskHint}))}}onThemeDeleted(e){this.getState().table.roundInfo[e]&&(this.appDispatch(jt()),this.playGameSound("final_delete"),this.appDispatch(he(e)),setTimeout((()=>{this.appDispatch(be(e))}),600))}onRightAnswerStart(e){this.appDispatch(He(0===this.getState().table.layoutMode?e:""))}onRightAnswer(e){this.onRightAnswerStart(e),0===this.getState().table.layoutMode?(this.appDispatch(pe(e)),this.appDispatch(xe(Xe.rightAnswer))):this.appDispatch(je(e)),this.dispatch(ws.afterQuestionStateChanged(!0))}onChoose(){this.dispatch(ws.decisionNeededChanged(!0)),this.appDispatch(Ee(!0))}onStop(){this.dispatch(ws.stopTimer(0)),this.dispatch(ws.stopTimer(1)),this.dispatch(ws.stopTimer(2)),this.appDispatch(ie()),this.dispatch(ws.clearDecisionsAndMainTimer())}onToggle(e,t,a){const n=this.getState().table.roundInfo[e];n&&n.questions[t]&&this.appDispatch(ye({themeIndex:e,questionIndex:t,price:a}))}onQuestionEnd(){this.dispatch(ws.afterQuestionStateChanged(!0)),this.dispatch(ws.isQuestionChanged(!1,"")),this.appDispatch(Ne())}addPlayerTable(){this.appDispatch(zs())}deletePlayerTable(e){const t=this.getState(),a=t.room2.persons.players[e],n=t.room.persons.all[a.name];this.appDispatch(Js(e)),n&&!n.isHuman?this.dispatch(ws.personRemoved(n.name)):a.name===t.room2.name&&this.dispatch(ws.roleChanged(0))}onPause(e,t){this.dispatch(ws.isPausedChanged(e)),t.length>2&&(e?(this.dispatch(ws.pauseTimer(0,t[0],!0)),this.dispatch(ws.pauseTimer(1,t[1],!0)),this.dispatch(ws.pauseTimer(2,t[2],!0)),this.pauseLoadTimerIfNeeded()):(this.dispatch(ws.resumeTimer(0,!0)),this.dispatch(ws.resumeTimer(1,!0)),this.dispatch(ws.resumeTimer(2,!0)),this.resumeLoadTimerIfNeeded()))}pauseLoadTimerIfNeeded(){const e=this.getState(),{loadTimer:t}=e.table;if(this.loadStart&&0===t.state){const a=1e3*e.room.settings.timeSettings.partialImageTime,n=(new Date).getTime()-this.loadStart.getTime();if(n<a){const e=t.maximum*n/a;this.appDispatch(Be(e))}}}resumeLoadTimerIfNeeded(){const e=this.getState(),{loadTimer:t}=e.table;if(2===t.state){const a=1e3*e.room.settings.timeSettings.partialImageTime,n=t.value*a/t.maximum;this.loadStart=new Date((new Date).getTime()-n),this.appDispatch(Le())}}onTableChangeType(e,t,a,n,s){const o=this.getState(),i="player"===e,r=i?o.room2.persons.players[t]:o.room2.persons.showman,l=o.room.persons.all[r.name];if(!l||l.isHuman!==a){if(!a){const e={name:n,isHuman:!1,sex:s,avatar:null};this.dispatch(ws.personAdded(e))}this.appDispatch(i?Qs({index:t,name:n,isHuman:a,isReady:!1}):Ws({name:n,isHuman:a,isReady:!1})),a&&this.dispatch(ws.personRemoved(l.name)),l&&l.name===o.room2.name&&this.dispatch(ws.roleChanged(0))}}onTableSet(e,t,a,n){const s=this.getState(),o="player"===e,i=o?s.room2.persons.players[t]:s.room2.persons.showman,r=s.room.persons.all[i.name];if(!r||r.isHuman){if(s.room2.persons.showman.name===a)return this.appDispatch(Ws({name:i.name,isHuman:!0,isReady:i.isReady})),this.appDispatch(Qs({index:t,name:a,isHuman:!0,isReady:s.room2.persons.showman.isReady})),void(i.name===s.room2.name?this.dispatch(ws.roleChanged(2)):a===s.room2.name&&this.dispatch(ws.roleChanged(1)));for(let e=0;e<s.room2.persons.players.length;e++)if(s.room2.persons.players[e].name===a){if(o)this.appDispatch(Ys({index1:t,index2:e}));else{const{isReady:t}=s.room2.persons.players[e];this.appDispatch(Qs({index:e,name:i.name,isReady:i.isReady})),this.appDispatch(Ws({name:a,isReady:t})),s.room2.persons.showman.name===s.room2.name?this.dispatch(ws.roleChanged(1)):a===s.room2.name&&this.dispatch(ws.roleChanged(2))}return}this.appDispatch(o?Qs({index:t,name:a,isReady:!1}):Ws({name:a,isReady:!1})),i.name===s.room2.name?this.dispatch(ws.roleChanged(0)):a===s.room2.name&&this.dispatch(ws.roleChanged(o?1:2))}else{this.appDispatch(o?Qs({index:t,name:a,isReady:!1}):Ws({name:a,isReady:!1})),this.dispatch(ws.personRemoved(r.name));const e={name:a,isHuman:!1,sex:n,avatar:null};this.dispatch(ws.personAdded(e))}}onTableFree(e,t){const a=this.getState(),n="player"===e;this.appDispatch(n?Qs({index:t,name:g,isReady:!1}):Ws({name:g,isReady:!1})),(n?a.room2.persons.players[t]:a.room2.persons.showman).name===a.room2.name&&this.dispatch(ws.roleChanged(0))}onSetChooser(e,t){if(this.appDispatch(co(e)),t){this.appDispatch(Zs({index:e,state:Ze.Press}));const t=this.getState().room2.persons.players.map(((e,t)=>t)).filter((t=>t!==e));this.appDispatch(Xs({indices:t,state:Ze.Pass}))}}onSum(e,t){this.appDispatch($s({index:e,value:t}))}onSums(e){this.appDispatch(Vs(e))}onPerson(e,t){const a=this.getState();if(e>-1&&e<a.room2.persons.players.length){this.appDispatch(Zs({index:e,state:t?Ze.Right:Ze.Wrong}));const n=a.room.stage.currentPrice>=2e3?"applause_big":"applause_small";this.playGameSound(t?n:"answer_wrong")}}onFinalThink(){this.playGameSound("final_think",!0)}onUserError(e,t){const a=function(e){switch(e){case 1:return"File is too large";case 2:return"Cannot kick yourself";case 3:return"Cannot kick bots";case 4:return"Cannot set host to yourself";case 5:return"Cannot set host to bots";default:return""}}(e);a.length>0&&this.appDispatch(Tt(a))}}function Aa(e){switch(e){case"GameNotFound":return Xe.gameNotFound;case"InternalServerError":return Xe.errorInternalServerError;case"Forbidden":return Xe.youAreKicked;default:return""}}const Sa=(0,u.Z0)({name:"game",initialState:{name:"",password:"",voiceChat:"",package:{type:0,name:"",data:null,id:null,uri:null},type:0,role:1,isShowmanHuman:!1,playersCount:3,id:-1,isAutomatic:!1},reducers:{setName:(e,t)=>{e.name=t.payload},setPassword:(e,t)=>{e.password=t.payload},setVoiceChat:(e,t)=>{e.voiceChat=t.payload},setPackageType:(e,t)=>{e.package.type=t.payload},setPackageData:(e,t)=>{e.package.name=t.payload.name,e.package.data=t.payload.data},setPackageLibrary:(e,t)=>{e.package.name=t.payload.name,e.package.id=t.payload.id,e.package.uri=t.payload.uri},setType:(e,t)=>{e.type=t.payload},setRole:(e,t)=>{e.role=t.payload},setShowmanHuman:(e,t)=>{e.isShowmanHuman=t.payload},setPlayersCount:(e,t)=>{e.playersCount=t.payload},setGameSet:(e,t)=>{e.id=t.payload.id,e.isAutomatic=t.payload.isAutomatic},newGame2:(e,t)=>{e.name=e.name||`${Xe.gameOf} ${t.payload}`}}}),{setName:wa,setPassword:Ca,setVoiceChat:Ta,setPackageType:Ea,setPackageData:ka,setPackageLibrary:xa,setType:Ia,setRole:Oa,setShowmanHuman:Na,setPlayersCount:Pa,setGameSet:Ra,newGame2:Da}=Sa.actions,ja=Sa.reducer,Ma="SIOnline_State";function Ga(e){!function(e){localStorage.setItem(Ma,JSON.stringify(e))}({login:e.user.login,game:{name:e.game.name,password:e.game.password,role:e.game.role,type:e.game.type,playersCount:e.game.playersCount},settings:e.settings})}var Ha=a(9955),_a=a.n(Ha);const Ba=/((https?|ftp):\/\/[^\s/$.?#].[^\s]*)/gi;function La(e){return e.replace(Ba,"")}var Fa=function(e,t,a,n){return new(a||(a=Promise))((function(s,o){function i(e){try{l(n.next(e))}catch(e){o(e)}}function r(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(i,r)}l((n=n.apply(e,t||[])).next())}))};const Ua=(0,u.zD)("online2/loadLobby",((e,t)=>Fa(void 0,void 0,void 0,(function*(){const{dispatch:e}=t,a=t.extra;yield function(e,t,a){return Fa(this,void 0,void 0,(function*(){let n={Data:[],IsLastSlice:!1},s=100;do{const o=n.Data.length>0?n.Data[n.Data.length-1].GameID+1:0;n=yield t.getGamesSliceAsync(o),e(qa.actions.receiveGames(a?n.Data.map((e=>Object.assign(Object.assign({},e),{PackageName:La(e.PackageName)}))):n.Data)),s--}while(!n.IsLastSlice&&s>0)}))}(e,a.gameClient,a.config.clearUrls);try{yield function(e,t){return Fa(this,void 0,void 0,(function*(){const a=new(_a())({serviceUri:t.config.siStatisticsServiceUri}),n=new Date,s={platform:2,from:new Date(n.getTime()-864e5),to:n,count:5,languageCode:Xe.getLanguage()},o=yield a.getLatestTopPackagesAsync(Object.assign(Object.assign({},s),{count:6}));e(nn(o));const i=yield a.getLatestGamesStatisticAsync(s);e(an(i));const r=yield a.getLatestGamesInfoAsync(Object.assign(Object.assign({},s),{count:25}));e(tn(r))}))}(e,a)}catch(t){e(Tt(qt(t)))}})))),qa=(0,u.Z0)({name:"online2",initialState:{inProgress:!1,error:"",games:{},gamesFilter:0,gamesSearch:"",selectedGameId:-1,selectedGame:null,uploadPackageProgress:!1,uploadPackagePercentage:0},reducers:{gameCreated:(e,t)=>{e.games[t.payload.GameID]=t.payload},gameChanged:(e,t)=>{e.games[t.payload.GameID]=t.payload},gameDeleted:(e,t)=>{delete e.games[t.payload],e.selectedGameId===t.payload&&(e.selectedGameId=-1)},selectGameById:(e,t)=>{e.selectedGameId=t.payload},selectGame:(e,t)=>{e.selectedGame=t.payload},onGameFilterToggle:(e,t)=>{e.gamesFilter^=t.payload},onGamesSearchChanged:(e,t)=>{e.gamesSearch=t.payload},receiveGames:(e,t)=>{t.payload.forEach((t=>{e.games[t.GameID]=t}))},onGamePersonsChanged:(e,t)=>{var a;(null===(a=e.selectedGame)||void 0===a?void 0:a.GameID)===t.payload.gameId&&(e.selectedGame.Persons=t.payload.persons)},uploadPackageStarted:e=>{e.uploadPackageProgress=!0},uploadPackageFinished:e=>{e.uploadPackageProgress=!1},uploadPackageProgress:(e,t)=>{e.uploadPackagePercentage=t.payload},latestGamesLoaded:(e,t)=>{e.latestGames=t.payload},gamesStatisticLoaded:(e,t)=>{e.gamesStatistics=t.payload},packagesStatisticsLoaded:(e,t)=>{e.packagesStatistics=t.payload}},extraReducers:e=>{e.addCase(Ua.pending,(e=>{e.inProgress=!0,e.error="",e.games={}})),e.addCase(Ua.fulfilled,(e=>{e.inProgress=!1})),e.addCase(Ua.rejected,((e,t)=>{var a;e.inProgress=!1,e.error=null!==(a=t.error.message)&&void 0!==a?a:""}))}}),{gameCreated:Va,gameChanged:Wa,gameDeleted:za,selectGameById:Qa,selectGame:$a,onGameFilterToggle:Ka,onGamesSearchChanged:Ja,onGamePersonsChanged:Ya,uploadPackageStarted:Za,uploadPackageFinished:Xa,uploadPackageProgress:en,latestGamesLoaded:tn,gamesStatisticLoaded:an,packagesStatisticsLoaded:nn}=qa.actions,sn=qa.reducer;const on=[],rn=[];var ln=function(e,t,a,n){return new(a||(a=Promise))((function(s,o){function i(e){try{l(n.next(e))}catch(e){o(e)}}function r(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(i,r)}l((n=n.apply(e,t||[])).next())}))};const cn=(e,t)=>ln(void 0,void 0,void 0,(function*(){if(e.isConnected())return!0;try{yield e.connect()}catch(e){return!1}try{return e.connection.connectionId&&on.push(e.connection.connectionId),function(e,t){const{connection:a}=e;a.on("GameCreated",(e=>t(Va(e)))),a.on("GameChanged",(e=>t(Wa(e)))),a.on("GameDeleted",(e=>t(za(e)))),a.onreconnecting((e=>{if(rn.includes(a))return;const n=e?` (${e.message})`:"";t(Et({isConnected:!1,reason:`${Xe.connectionReconnecting}${n}`}))})),a.onreconnected((()=>{rn.includes(a)||t(Et({isConnected:!0,reason:Xe.connectionReconnected}))})),a.onclose((e=>{return n=this,s=void 0,i=function*(){if(!rn.includes(a)){if(e){console.log("Connection close error: "+qt(e));try{return void(yield a.start())}catch(e){}}t(Et({isConnected:!1,reason:""})),t(Ct(`${Xe.connectionClosed} ${(null==e?void 0:e.message)||""}`))}},new((o=void 0)||(o=Promise))((function(e,t){function a(e){try{l(i.next(e))}catch(e){t(e)}}function r(e){try{l(i.throw(e))}catch(e){t(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof o?n:new o((function(e){e(n)}))).then(a,r)}l((i=i.apply(n,s||[])).next())}));var n,s,o,i}))}(e,t),!0}catch(e){return!1}})),dn=(0,u.zD)("global/navigate",((e,t)=>ln(void 0,void 0,void 0,(function*(){var a;const{navigation:n}=e;let s;e.saveState&&function(e,t,a){var n;if(0===window.history.length||!window.history.state||window.history.state.path!==e.path)if("/room"===e.path&&e.gameId){let s=null;if("undefined"!=typeof config&&config.siHostsIdUriMap)for(const[t,a]of Object.entries(config.siHostsIdUriMap))if(a===e.hostUri){s="_"+t+e.gameId;break}s||(s=`gameId=${e.gameId}&host=${encodeURIComponent(null!==(n=e.hostUri)&&void 0!==n?n:"")}`),t.state.saveNavigationState(e,t.config.rewriteUrl?`${t.config.rootUri}?${s}`:null,a)}else t.state.saveNavigationState(e,t.config.rewriteUrl?t.config.rootUri:null,a)}(e.navigation,t.extra,null!==(a=e.replaceState)&&void 0!==a&&a);const o=t.getState().ui.navigation.path;var i,r;s="/room"===n.path?Object.assign(Object.assign({},n),{returnToLobby:"/lobby"===o}):n,t.dispatch(pa(s)),"/lobby"===s.path?((yield cn(t.extra.gameClient,t.dispatch))||t.dispatch(Ct(Xe.cannotConnectToServer)),t.dispatch(Ua())):"/lobby"===o&&(yield(i=t.extra.gameClient,r=t.dispatch,ln(void 0,void 0,void 0,(function*(){const{connection:e}=i;if(e)try{e.connectionId&&on.splice(on.indexOf(e.connectionId),1),function(e){e.off("GameCreated"),e.off("GameChanged"),e.off("GameDeleted"),rn.push(e)}(e),yield i.disconnect(),function(e){rn.splice(rn.indexOf(e),1)}(e)}catch(e){r(Ct(qt(e)))}}))))}))));var pn=function(e,t,a,n){return new(a||(a=Promise))((function(s,o){function i(e){try{l(n.next(e))}catch(e){o(e)}}function r(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(i,r)}l((n=n.apply(e,t||[])).next())}))};const un=e=>({type:"PASSWORD_CHANGED",newPassword:e});const mn=(e,t,a,n,s,o,i)=>pn(void 0,void 0,void 0,(function*(){t(Ra({id:n,isAutomatic:i})),t(Oe()),t(ue()),t(_s(Ts.None)),t(bo(s)),e(ws.roleChanged(o)),e(ws.stopTimer(0)),e(ws.stopTimer(1)),e(ws.stopTimer(2)),e(ws.gameStarted(!1)),e(ws.afterQuestionStateChanged(!1)),e(ws.isQuestionChanged(!1,"")),e(ws.areSumsEditableChanged(!1)),yield function(e,t){return pn(this,void 0,void 0,(function*(){yield e.info(),yield e.moveable(),1!==t&&2!==t||(yield e.ready())}))}(a,o)})),gn=(e,t,a,n,s,o)=>(i,r,l)=>pn(void 0,void 0,void 0,(function*(){var c;i({type:"JOIN_GAME_STARTED"});try{const d=yield ns.connectToSIHostAsync(e,i,o,r,l),p=r(),u=function(e){return 0===e?"Viewer":1===e?"Player":"Showman"}(n),m=yield d.joinGameAsync({GameId:t,UserName:a,Role:u,Sex:0===p.settings.sex?"Male":"Female",Password:p.online.password,Pin:s});if(!m.IsSuccess)return void o(Ct(`${Xe.joinError}: ${Aa(m.ErrorType)} ${null!==(c=m.Message)&&void 0!==c?c:""}`));yield mn(i,o,l.game,t,a,n,!1),Ga(r());const g={path:"/room",hostUri:e,gameId:t,role:n,sex:p.settings.sex,password:p.online.password,isAutomatic:!1};o(dn({navigation:g,saveState:!0}))}catch(e){o(Ct(qt(e)))}finally{i({type:"JOIN_GAME_FINISHED"}),i({type:"NEW_GAME_CANCEL"})}}));const hn=gn,yn=un,bn=mn;var fn=function(e,t,a,n){return new(a||(a=Promise))((function(s,o){function i(e){try{l(n.next(e))}catch(e){o(e)}}function r(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(i,r)}l((n=n.apply(e,t||[])).next())}))};class vn{constructor(e,t){this.connection=e,this.errorHandler=t,this.joinInfo=null,this.completed=!1}tryGetGameInfoAsync(e){return fn(this,void 0,void 0,(function*(){return yield this.connection.invoke("TryGetGameInfo",e)}))}joinGameAsync(e){return fn(this,void 0,void 0,(function*(){const t=yield this.connection.invoke("JoinGame",e);return t.IsSuccess&&(this.joinInfo=e),t}))}sendMessageToServerAsync(e){var t;return fn(this,void 0,void 0,(function*(){try{return yield this.connection.invoke("SendMessage",{Text:e,IsSystem:!0,Sender:null===(t=this.joinInfo)||void 0===t?void 0:t.UserName,Receiver:"@"}),!0}catch(e){return this.completed||this.errorHandler(e),!1}}))}msgAsync(...e){return this.sendMessageToServerAsync(e.join("\n"))}sayAsync(e){var t;return this.connection.invoke("SendMessage",{Text:e,IsSystem:!1,Sender:null===(t=this.joinInfo)||void 0===t?void 0:t.UserName,Receiver:"*"})}reconnectAsync(){return fn(this,void 0,void 0,(function*(){this.joinInfo&&(yield this.joinGameAsync(this.joinInfo))}))}leaveGameAsync(){return fn(this,void 0,void 0,(function*(){this.joinInfo=null,this.completed=!0}))}}function An(e,...t){return e.replace(/{(\d+)}/g,((e,a)=>t[a]||""))}function Sn(e,t){return e.length<t?e:e.substring(0,t-1)+"…"}function wn(e){return e.replaceAll("\\n","\n").replaceAll("\\\\","\\")}function Cn(e,t,a){if(a.length<6)return;const n=a[1],s=a[2],o="+"==a[4],i=Math.min(parseInt(a[5],10),a.length-5),r=[];for(let e=0;e<i;e++)r.push(a[6+e]);const l=[];for(let e=6+i;e<a.length;e++)l.push(a[e]);e.onValidation(t,n,s,"",r,l,o)}function Tn(e,t){if(t.length<6)return;const a=function(e){const t=e.split(",").map((e=>e.trim()));let a=0;return t.forEach((e=>{switch(e){case"Stake":a|=c.Stake;break;case"Pass":a|=c.Pass;break;case"AllIn":a|=c.AllIn}})),a}(t[1]),n=parseInt(t[2],10),s=parseInt(t[3],10),o=parseInt(t[4],10),i=t[5],r=t.length>6?t[6]:null;e.onAskStake(a,n,s,o,i,r)}function En(e){const t=[];for(let a=0;a+2<e.length;a++)"+"===e[a+2]&&t.push(a);return t}function kn(e,t,a,n=!1){t&&e(Dt({audio:a,loop:n}))}const xn=(e,t,a)=>(n,s,o)=>{const i=s(),{role:l}=i.room,c=t.Text.split("\n");((e,t,a,n,s,o)=>{switch(o[0]){case"ADS":if(1===o.length)break;let i=o[1];s.config.clearUrls&&(i=La(i)),e.onAds(i);break;case"ANSWERS":if(1===o.length)break;e.onAnswers(o.slice(1));break;case"APELLATION_ENABLES":if(1===o.length)break;e.onApellationEnabled("+"===o[1]);break;case"ATOM_HINT":if(o.length<2)break;e.onContentHint(o[1]);break;case"AVATAR":{if(o.length<4)break;const t=o[1],a=o[2],n=e.preprocessServerUri(o[3]);e.onAvatarChanged(t,a,n);break}case"BANNED":if(o.length<3)break;e.onBanned(o[1],o[2]);break;case"BANNEDLIST":const l={};for(let e=1;e<o.length-1;e+=2)l[o[e]]=o[e+1];e.onBannedList(l);break;case"BUTTON_BLOCKING_TIME":if(1===o.length)break;e.onButtonBlockingTimeChanged(parseInt(o[1],10));break;case"CHOICE":{if(o.length<3)return;const t=parseInt(o[1],10),a=parseInt(o[2],10);e.onQuestionSelected(t,a)}break;case"CONFIG":!function(e,...t){switch(t[1]){case"ADDTABLE":e.addPlayerTable();break;case"FREE":{const a=t[2],n=parseInt(t[3],10);e.onTableFree(a,n);break}case"DELETETABLE":{const a=parseInt(t[2],10);e.deletePlayerTable(a);break}case"SET":{const a=t[2],n=parseInt(t[3],10),s=t[4],o="+"===t[5]?0:1;e.onTableSet(a,n,s,o);break}case"CHANGETYPE":{const a=t[2],n=parseInt(t[3],10),s="+"===t[4],o=t[5],i="+"===t[6]?0:1;e.onTableChangeType(a,n,s,o,i);break}}}(e,...o);break;case"CONNECTED":{const t=o[3],a=o[1],n=parseInt(o[2],10),s={name:t,sex:"m"===o[4]?0:1,isHuman:!0,avatar:null};e.onConnected(s,a,n);break}case"CONTENT":if(o.length<5)return;const c=o[1],{layoutMode:d,answerOptions:p}=n.table,u=[];for(let t=2;t+2<o.length;t++){const a=parseInt(o[t],10);if(0===a)u.push({type:o[t+1],value:"text"===o[t+1]?wn(o[t+2]):o[t+2]}),t+=2;else if(1===d&&t+3<o.length&&a-1<p.length){const n=o[t+1],s=o[t+2],i=o[t+3];"text"!==s&&"image"!==s||e.onAnswerOption(a-1,n,s,i),t+=3}}if(0===u.length)return;e.onContent(c,u);break;case"CONTENT_APPEND":{if(o.length<5)return;const t=o[1],a=o[2],n=o[3],s=o[4];if("screen"!==t||"0"!==a||"text"!==n)return;const i=wn(s);e.onContentAppend(t,a,n,i);break}case"CONTENT_SHAPE":{if(o.length<5)return;const t=o[1],a=o[2],n=o[3];if("screen"!==t||"0"!==a||"text"!==n)return;const s=wn(o[4]);e.onContentShape(s);break}case"CONTENT_STATE":{if(o.length<4)return;const t=o[1],a=parseInt(o[2],10),n=ne[o[3]];e.onContentState(t,a,n);break}case"DISCONNECTED":if(o.length<2)return;e.onDisconnected(o[1]);break;case"ENDTRY":{if(o.length<2)return;const t=Number(o[1]);!isNaN(t)&&t>-1&&t<n.room2.persons.players.length?e.onEndPressButtonByPlayer(t):"A"===o[1]&&e.onEndPressButtonByTimeout();break}case"FINALROUND":const m=n.room2.persons.players.length;for(let e=1;e<Math.min(o.length,m+1);e++)a(po({playerIndex:e-1,inGame:"+"===o[e]}));t(ws.afterQuestionStateChanged(!1));break;case"FINALTHINK":e.onFinalThink();break;case"GAME_CLOSED":e.onGameClosed();break;case"GAMEMETADATA":if(o.length<4)break;t(ws.gameMetadataChanged(o[1],o[2],o[3],o.length>4?o[4]:null));break;case"GAMETHEMES":e.onGameThemes(o.slice(1));break;case"HOSTNAME":if(o.length>1&&(t(ws.hostNameChanged(o[1])),o.length>2)){const e=o[2].length>0?o[2]:Xe.byGame;t(ws.chatMessageAdded({sender:"",text:An(Xe.hostNameChanged,e,o[1]),level:tt.System}))}break;case"INFO2":!function(e,...t){const a=parseInt(t[1],10),n=(t.length-2)/5-1-a;let s=2,o=t[s++],i="+"===t[s++],r="+"===t[s++],l="+"===t[s++],c="+"===t[s++];const d={},p={name:o,isReady:c,replic:null,isDeciding:!1,isHuman:l};r&&(d[o]={name:o,sex:i?0:1,isHuman:l,avatar:null});const u=[];for(let e=0;e<a;e++)o=t[s++],i="+"===t[s++],r="+"===t[s++],l="+"===t[s++],c="+"===t[s++],u.push({name:o,isReady:c,sum:0,stake:0,state:Ze.None,canBeSelected:!1,replic:null,isDeciding:!1,isHuman:l,isChooser:!1,inGame:!0,mediaLoaded:!1,answer:""}),r&&(d[o]={name:o,sex:i?0:1,isHuman:l,avatar:null});for(let e=0;e<n;e++)o=t[s++],i="+"===t[s++],r="+"===t[s++],l="+"===t[s++],c="+"===t[s++],d[o]={name:o,sex:i?0:1,isHuman:l,avatar:null};e.onInfo(d,p,u)}(e,...o);break;case"LAYOUT":if(o.length<5)return;if("ANSWER_OPTIONS"!==o[1])return;const g="+"===o[2];e.onAnswerOptionsLayout(g,o.slice(3));break;case"MEDIALOADED":if(o.length<2)break;const{players:h}=n.room2.persons;for(let e=0;e<h.length;e++)if(h[e].name===o[1]){a(uo(e));break}break;case"OPTIONS":for(let t=1;t+1<o.length;t+=2){const a=o[t],n=o[t+1];e.onOptionChanged(a,n)}break;case"OUT":if(o.length>1){const t=parseInt(o[1],10);e.onThemeDeleted(t)}break;case"PASS":{const t=parseInt(o[1],10);t>-1&&t<n.room2.persons.players.length&&e.onPass(t)}break;case"PACKAGE":if(o.length<2)break;const y=o[1],b=o.length>3?o[3]:null;e.onPackage(y,b);break;case"PAUSE":const f="+"===o[1];e.onPause(f,o.slice(2).map((e=>parseInt(e,10))));break;case"PERSON":{const t="+"===o[1],a=parseInt(o[2],10);e.onPerson(a,t)}break;case"PERSONAPELLATED":{const e=parseInt(o[1],10);e>-1&&e<n.room2.persons.players.length&&a(Zs({index:e,state:Ze.HasAnswered}))}break;case"PERSONFINALANSWER":{const e=parseInt(o[1],10);e>-1&&e<n.room2.persons.players.length&&a(Zs({index:e,state:Ze.HasAnswered}))}break;case"PERSONFINALSTAKE":{const e=parseInt(o[1],10);if(!n.room2.persons.players[e])break;a(ao({index:e,stake:-4}))}break;case"PERSONSTAKE":{const e=parseInt(o[1],10),t=n.room2.persons.players[e];if(!t)break;let s=0;switch(parseInt(o[2],10)){case 0:s=n.room.stage.currentPrice;break;case 1:s=parseInt(o[3],10);break;case 2:s=0;break;case 3:s=t.sum}a(ao({index:e,stake:s}))}break;case"PICTURE":{const a=o[1],n=e.preprocessServerUri(o[2]);t(ws.personAvatarChanged(a,n));break}case"PIN":if(o.length>1){const t=o[1];e.onPin(t)}break;case"PLAYER_STATE":o.length>1&&e.onPlayerState(function(e){switch(e){case"None":default:return Ye.None;case"Answering":return Ye.Press;case"Lost":return Ye.Lost;case"Right":return Ye.Right;case"Wrong":return Ye.Wrong;case"HasAnswered":return Ye.HasAnswered;case"Pass":return Ye.Pass}}(o[1]),o.slice(2).map((e=>parseInt(e,10))));break;case"QTYPE":o.length>2&&e.onQuestionType(o[1],"True"===o[2]);break;case"QUESTION":o.length>1&&e.onQuestion(o[1]);break;case"QUESTIONCAPTION":o.length>1&&e.onTableCaption(o[1]);break;case"QUESTION_END":e.onQuestionEnd();break;case"READINGSPEED":if(o.length<2)break;e.onReadingSpeedChanged(parseInt(o[1],10));break;case"READY":if(o.length<2)break;e.onReady(o[1],o.length<3||"+"===o[2]);break;case"REPLIC":{if(o.length<3)break;const t=o[1];let a="";for(let e=2;e<o.length;e++)a.length>0&&(a+="\n"),a+=o[e];s.config.clearUrls&&(a=La(a)),e.onReplic(t,a);break}case"RESUME":e.onResumeMedia();break;case"RIGHTANSWER":o.length>2&&e.onRightAnswer(o[2]);break;case"RIGHT_ANSWER_START":if(o.length>2){const t=Sn(wn(o[2]),150);e.onRightAnswerStart(t),a(xe(Xe.rightAnswer))}break;case"ROUNDCONTENT":e.onRoundContent(o.slice(1));break;case"ROUNDSNAMES":t(ws.roundsNamesChanged(o.slice(1)));break;case"ROUNDTHEMES":{const t="+"===o[1],a=[];for(let e=2;e<o.length;e++)a.push(o[e]);e.onRoundThemes(a,t?"Final"!==n.room.stage.name?"OneByOne":"AllTogether":"None");break}case"SETCHOOSER":const v=parseInt(o[1],10);e.onSetChooser(v,o.length>2);break;case"SETJOINMODE":if(o.length<2)break;const A=r[o[1]];if(void 0===A)break;t(ws.joinModeChanged(A));break;case"SHOWTABLO":e.onShowTable();break;case"STAGE":{const t=o[1],a=o[2],n=o.length>3?parseInt(o[3],10):-1,s=o.length>4?o[4]:"";e.onStage(t,a,n,s);break}case"STAGE_INFO":{const t=o[1],a=o[2],n=o.length>3?parseInt(o[3],10):-1;e.onStageInfo(t,a,n);break}case"STOP":e.onStop();break;case"SUMS":const S=Math.min(o.length-1,Object.keys(n.room2.persons.players).length),w=[];for(let e=0;e<S;e++)w.push(parseInt(o[e+1],10));e.onSums(w);break;case"TABLO2":const{roundInfo:C}=n.table;if(C.some((e=>e.questions.length>0)))break;let T=1;const E=[];let k=0;for(let e=0;e<C.length&&T!==o.length;e++){const t=[];for(;T<o.length&&o[T].length>0;)t.push(parseInt(o[T++],10));k=Math.max(k,t.length);const a={name:C[e].name,questions:t};E.push(a),T++}E.forEach((e=>{const t=e.questions.length;for(let a=0;a<k-t;a++)e.questions.push(-1)})),e.onTable(E,"Final"===n.room.stage.name);break;case"TIMEOUT":kn(t,n.settings.appSound,"round_timeout");break;case"TIMER":if(!n.room.stage.isGameStarted&&n.game.isAutomatic&&5===o.length&&"2"===o[1]&&"GO"===o[2]&&"-2"===o[4]){const e=parseInt(o[3],10)/10;ws.showLeftSeconds(e,a)}else if(o.length>2){const a=parseInt(o[1],10),n=o[2],s=o.length>3?parseInt(o[3],10):0,i=o.length>4?parseInt(o[4],10):null;switch(n){case"GO":e.onTimerRun(a,s,i);break;case"STOP":e.onTimerStop(a);break;case"PAUSE":e.onTimerPause(a,s);break;case"USER_PAUSE":t(ws.pauseTimer(a,s,!0));break;case"RESUME":e.onTimerResume(a);break;case"USER_RESUME":t(ws.resumeTimer(a,!0));break;case"MAXTIME":e.onTimerMaximumChanged(a,s)}}break;case"THEME":o.length>1&&e.onTheme(o[1]);break;case"THEME_COMMENTS":if(o.length>1){const t=Sn(wn(o[1]),150);e.onThemeComments(t)}break;case"TOGGLE":if(o.length>3){const t=parseInt(o[1],10),a=parseInt(o[2],10),n=parseInt(o[3],10);e.onToggle(t,a,n)}break;case"TRY":e.onBeginPressButton();break;case"UNBANNED":if(o.length<2)break;t(ws.unbanned(o[1])),t(ws.chatMessageAdded({sender:"",text:An(Xe.userUnbanned,o[1]),level:tt.System}));break;case"USER_ERROR":o.length>1&&e.onUserError(parseInt(o[1],10),o.slice(2));break;case"WINNER":kn(t,n.settings.appSound,"applause_final");break;case"WRONGTRY":{if(o.length<2)break;const t=parseInt(o[1],10);e.onWrongTry(t)}}})(e,n,a,i,o,c),1===l?((e,t)=>{switch(t[0]){case"ANSWER":e.onAskAnswer();break;case"ASK_SELECT_PLAYER":if(t.length<3)return;const a=En(t);e.onAskSelectPlayer(t[1],a);break;case"ASK_STAKE":Tn(e,t);break;case"CANCEL":e.onCancel();break;case"ORAL_ANSWER":e.onOralAnswer();break;case"CHOOSE":e.onChoose();break;case"REPORT":if(t.length<2)return;const n=t[1].replaceAll("\r","\n");e.onReport(n);break;case"VALIDATION2":Cn(e,Xe.apellation,t)}})(e,c):2===l&&((e,t,a)=>{switch(a[0]){case"ASK_SELECT_PLAYER":if(a.length<3)return;const n=En(a);e.onAskSelectPlayer(a[1],n);break;case"ASK_VALIDATE":if(a.length<3)return;e.onAskValidate(parseInt(a[1],10),a[2]);break;case"CANCEL":e.onCancel();break;case"HINT":a.length>1&&t(ws.hintChanged(a[1]));break;case"QUESTION_ANSWERS":!function(e,t){if(t.length<3)return;const a=Math.min(parseInt(t[1],10),t.length-2),n=[];for(let e=0;e<a;e++)n.push(t[2+e]);const s=[];for(let e=2+a;e<t.length;e++)s.push(t[e]);e.onQuestionAnswers(n,s)}(e,a);break;case"RIGHTANSWER":t(ws.hintChanged(null));break;case"STAGE":t(ws.decisionNeededChanged(!1)),t(ws.hintChanged(null));break;case"VALIDATION2":Cn(e,Xe.answerChecking,a);break;case"ANSWER":e.onAskAnswer();break;case"ASK_STAKE":Tn(e,a);break;case"CHOOSE":e.onChoose()}})(e,n,c)};var In=function(e,t,a,n){return new(a||(a=Promise))((function(s,o){function i(e){try{l(n.next(e))}catch(e){o(e)}}function r(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(i,r)}l((n=n.apply(e,t||[])).next())}))};const On=[],Nn=[];function Pn(e,t,a,n,s){t.on("Receive",(e=>function(e,t,a,n){n.IsSystem?t(xn(e,n,a)):t((e=>(t,a)=>{if(e.Sender===a().room2.name)return;const n={sender:e.Sender,text:e.Text,level:tt.Information};t(ws.chatMessageAdded(n))})(n))}(s,a,n,e))),t.on("Disconnect",(()=>{a(ws.onKicked())})),t.on("GamePersonsChanged",((e,t)=>{a(n(Ya({gameId:e,persons:t})))})),t.onreconnecting((e=>{if(Nn.includes(t))return;const a=e?` (${e.message})`:"";n(kt({isConnected:!1,reason:`${Xe.connectionReconnecting}${a}`}))})),t.onreconnected((()=>In(this,void 0,void 0,(function*(){if(!Nn.includes(t)){try{yield e.reconnectAsync()}catch(e){return void n(Ct("Reconnection error: "+qt(e)))}n(kt({isConnected:!0,reason:Xe.connectionReconnected}))}})))),t.onclose((a=>In(this,void 0,void 0,(function*(){if(!Nn.includes(t)){if(a){console.log("Connection close error: "+qt(a));try{return yield t.start(),void(yield e.reconnectAsync())}catch(e){}}n(kt({isConnected:!1,reason:""})),n(Ct(`${Xe.connectionClosed} ${(null==a?void 0:a.message)||""}`))}}))))}var Rn=a(3905),Dn=a.n(Rn);let jn=!1;function Mn(e,t,a){return e.reduce(((e,n)=>Object.assign(Object.assign({},e),{[t(n)]:a(n)})),{})}var Gn=function(e,t,a,n){return new(a||(a=Promise))((function(s,o){function i(e){try{l(n.next(e))}catch(e){o(e)}}function r(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(i,r)}l((n=n.apply(e,t||[])).next())}))};const Hn=(0,u.zD)("siPackages/receiveFilters",((e,t)=>Gn(void 0,void 0,void 0,(function*(){const e=t.getState(),{storageIndex:a}=e.siPackages,n=t.extra,s=e.siPackages.storages[a];if(s)return yield n.gameClient.getStorageFilterAsync(s.id)})))),_n=(0,u.zD)("siPackages/receiveAuthors",((e,t)=>Gn(void 0,void 0,void 0,(function*(){const e=t.getState(),{languageId:a,storageIndex:n}=e.siPackages,s=t.extra,{storageClients:o}=s,i=o[n],r=e.siPackages.storages[n];if(i&&r&&-1!==r.facets.indexOf("authors"))return yield i.facets.getAuthorsAsync(a)})))),Bn=(0,u.zD)("siPackages/receiveTags",((e,t)=>Gn(void 0,void 0,void 0,(function*(){const e=t.getState(),{languageId:a,storageIndex:n}=e.siPackages,s=t.extra,{storageClients:o}=s,i=o[n],r=e.siPackages.storages[n];if(!i||!r||-1===r.facets.indexOf("tags"))return;let l=yield i.facets.getTagsAsync(a);return r.identifiersSupported||(l=l.map(((e,t)=>Object.assign(Object.assign({},e),{id:t})))),l})))),Ln=(0,u.zD)("siPackages/receivePublishers",((e,t)=>Gn(void 0,void 0,void 0,(function*(){const e=t.getState(),{languageId:a,storageIndex:n}=e.siPackages,s=t.extra,{storageClients:o}=s,i=o[n],r=e.siPackages.storages[n];if(i&&r&&-1!==r.facets.indexOf("publishers"))return yield i.facets.getPublishersAsync(a)})))),Fn=(0,u.zD)("siPackages/receiveLanguages",((e,t)=>Gn(void 0,void 0,void 0,(function*(){const e=t.getState(),{storageIndex:a}=e.siPackages,n=t.extra,{storageClients:s}=n,o=s[a],i=e.siPackages.storages[a],r=Vt(e);return o&&i&&-1!==i.facets.indexOf("languages")?{languages:yield o.facets.getLanguagesAsync(),currentLanguage:r}:{languages:[{id:0,code:r,name:r}],currentLanguage:r}})))),Un=(0,u.zD)("siPackages/receiveRestrictions",((e,t)=>Gn(void 0,void 0,void 0,(function*(){const e=t.getState(),{storageIndex:a}=e.siPackages,n=t.extra,{storageClients:s}=n,o=s[a],i=e.siPackages.storages[a];if(o&&i&&-1!==i.facets.indexOf("restrictions"))return yield o.facets.getRestrictionsAsync()})))),qn=(0,u.zD)("siPackages/searchPackages",((e,t)=>Gn(void 0,void 0,void 0,(function*(){const a=t.getState(),{storageIndex:n,languageId:s}=a.siPackages,o=t.extra,{storageClients:i}=o,r=i[n];if(!r)return;const{filters:l,selectionParameters:c}=e;try{return yield r.packages.getPackagesAsync(Object.assign(Object.assign({},l),{languageId:s}),c)}catch(e){return void t.dispatch(Tt(qt(e)))}})))),Vn=(0,u.zD)("siPackages/searchPackagesByValueFilters",((e,t)=>Gn(void 0,void 0,void 0,(function*(){const a=t.getState(),{storageIndex:n,languageId:s}=a.siPackages,o=s?a.siPackages.languages[s]:null,i=t.extra,{storageClients:r}=i,l=r[n];if(!l)return;const{valueFilters:c,selectionParameters:d}=e;return yield l.packages.getPackagesByValueFiltersAsync(Object.assign(Object.assign({},c),{language:o}),d)})))),Wn=(0,u.Z0)({name:"siPackages",initialState:{storages:[],storageIndex:0,filter:{packages:{},tags:[]},authors:{},isLoading:!1,packages:{packages:[],total:0},publishers:{},tags:{},languages:{},restrictions:[],error:""},reducers:{setStorages:(e,t)=>{e.storages=t.payload},setStorageIndex:(e,t)=>{e.storageIndex=t.payload}},extraReducers:e=>{e.addCase(Hn.fulfilled,((e,t)=>{t.payload&&(e.filter=t.payload)})),e.addCase(_n.fulfilled,((e,t)=>{t.payload&&(e.authors=Mn(t.payload,(e=>e.id),(e=>e.name)))})),e.addCase(_n.rejected,((e,t)=>{e.error=qt(t.error.message)})),e.addCase(Bn.fulfilled,((e,t)=>{t.payload&&(e.tags=Mn(t.payload,(e=>e.id),(e=>e.name)))})),e.addCase(Bn.rejected,((e,t)=>{e.error=qt(t.error.message)})),e.addCase(Ln.fulfilled,((e,t)=>{t.payload&&(e.publishers=Mn(t.payload,(e=>e.id),(e=>e.name)))})),e.addCase(Ln.rejected,((e,t)=>{e.error=qt(t.error.message)})),e.addCase(Fn.fulfilled,((e,t)=>{if(t.payload){e.languages=Mn(t.payload.languages,(e=>e.id),(e=>e.code));const a=t.payload.languages.find((e=>{var a;return e.code===(null===(a=t.payload)||void 0===a?void 0:a.currentLanguage)}));a&&(e.languageId=a.id)}})),e.addCase(Fn.rejected,((e,t)=>{e.error=qt(t.error.message)})),e.addCase(Un.fulfilled,((e,t)=>{var a,n;t.payload&&(e.restrictions=(a=t.payload,n=e=>e.id,a.reduce(((e,t)=>Object.assign(Object.assign({},e),{[n(t)]:t})),{})))})),e.addCase(Un.rejected,((e,t)=>{e.error=qt(t.error.message)})),e.addCase(qn.pending,(e=>{e.isLoading=!0})),e.addCase(Vn.pending,(e=>{e.isLoading=!0,e.error=null})),e.addCase(qn.fulfilled,((e,t)=>{t.payload&&(e.packages=t.payload),e.isLoading=!1})),e.addCase(Vn.fulfilled,((e,t)=>{t.payload&&(e.packages=t.payload),e.isLoading=!1})),e.addCase(qn.rejected,(e=>{e.isLoading=!1})),e.addCase(Vn.rejected,((e,t)=>{e.isLoading=!1,e.error=qt(t.error.message)}))}}),{setStorages:zn,setStorageIndex:Qn}=Wn.actions,$n=Wn.reducer;var Kn=function(e,t,a,n){return new(a||(a=Promise))((function(s,o){function i(e){try{l(n.next(e))}catch(e){o(e)}}function r(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(i,r)}l((n=n.apply(e,t||[])).next())}))};function Jn(e,t){return Kn(this,void 0,void 0,(function*(){const a=localStorage.getItem(h),n=localStorage.getItem(y);if(a&&n){e(Nt());try{const s=Uint8Array.from(window.atob(a),(e=>e.charCodeAt(0))),{buffer:o}=s,{contentClient:i}=t,r=yield i.uploadAvatarIfNotExistAsync(n,new Blob([o])),l=r.startsWith("/")?i.options.serviceUri+r.substring(1):r;e(Pt()),e(We(l))}catch(t){const a=qt(t),n=3===t.errorCode?Xe.avatarIsTooBig:a;e(Ct(Xe.avatarLoadError+": "+n)),e(Rt(a))}}}))}function Yn(e){return new(Jt())({serviceUri:e.serviceUri})}const Zn=(e,t,a,n,s)=>Kn(void 0,void 0,void 0,(function*(){const o=e.endsWith("/")?e:e+"/",i=(new _t.$).withAutomaticReconnect({nextRetryDelayInMilliseconds:e=>1e3*(e.previousRetryCount+1)}).withUrl(o+"sihost").withHubProtocol(new Bt.E).build(),r=new vn(i,(e=>t(ws.operationError(qt(e)))));yield i.start(),i.connectionId&&On.push(i.connectionId);const l=new va(t,a,n,s);return Pn(r,i,t,a,l),s.game=new Wt(r,!0),r})),Xn=(e,t,a,n,s)=>Kn(void 0,void 0,void 0,(function*(){var o,i,r,l;if("/room"===e.path){if(!(e.gameId&&e.role&&e.hostUri))return void a(dn({navigation:{path:"/"},saveState:!0}));{const c=yield Zn(e.hostUri,t,a,n,s),d=n(),p=0===(l=e.role)?"Viewer":1===l?"Player":"Showman",u=yield c.joinGameAsync({GameId:e.gameId,UserName:d.user.login,Role:p,Sex:0===e.sex?"Male":"Female",Password:null!==(o=e.password)&&void 0!==o?o:"",Pin:null});if(!u.IsSuccess){const e=`${Xe.joinError}: ${Aa(u.ErrorType)} ${null!==(i=u.Message)&&void 0!==i?i:""}`;return a(Ct(e)),void a(dn({navigation:{path:"/"},saveState:!0}))}yield bn(t,a,s.game,e.gameId,d.user.login,e.role,null!==(r=e.isAutomatic)&&void 0!==r&&r)}}"/"!==e.path&&"/menu"!==e.path||(yield function(e){return t=this,a=void 0,s=function*(){if(!jn){jn=!0;try{const t=new(Dn())({serviceUri:e});yield t.postAppUsageAsync("1d83d2b8-908f-422f-b3de-4febf96f9665",{appVersion:"8.0.0",osArchitecture:1,osVersion:"10.0.0"})}catch(e){console.log(e)}}},new((n=void 0)||(n=Promise))((function(e,o){function i(e){try{l(s.next(e))}catch(e){o(e)}}function r(e){try{l(s.throw(e))}catch(e){o(e)}}function l(t){var a;t.done?e(t.value):(a=t.value,a instanceof n?a:new n((function(e){e(a)}))).then(i,r)}l((s=s.apply(t,a||[])).next())}));var t,a,n,s}(s.config.appRegistryServiceUri)),a(dn({navigation:e,saveState:!0,replaceState:!0}))})),es=(e,t,a)=>Kn(void 0,void 0,void 0,(function*(){const n=new Ut(a.serverUri);a.gameClient=n;const s=Vt(t()),o=yield a.gameClient.getComputerAccountsAsync(s);e(xt(o)),yield function(e,t,a){return Kn(this,void 0,void 0,(function*(){const n=yield t.gameClient.getGameHostInfoAsync(a);if(t.contentUris=n.contentPublicBaseUrls,!(n.contentInfos&&n.contentInfos.length>0))throw new Error("No SIContent service found");{const e=Math.floor(Math.random()*n.contentInfos.length),{serviceUri:a}=n.contentInfos[e];t.contentClient=new($t())({serviceUri:a})}t.storageClients=n.storageInfos.map(Yn),e(zn(n.storageInfos)),e(It({serverName:n.name,serverLicense:n.license,maxPackageSizeMb:n.maxPackageSizeMb}))}))}(e,a,s),yield Jn(e,a),a.state.onReady()})),ts=(e,t,a,n,s)=>Kn(void 0,void 0,void 0,(function*(){if("/join"==e.path&&e.gameId&&e.hostUri)try{const o=yield Zn(e.hostUri,t,a,n,s),i=yield o.tryGetGameInfoAsync(e.gameId);if(i)return i.HostUri||(i.HostUri=e.hostUri),a($a(i)),void a(dn({navigation:e,saveState:!0}));a(Ot(`${Xe.joinError}: ${Xe.gameNotFound}`))}catch(e){a(Ot(qt(e)))}yield Xn(e,t,a,n,s)})),as=(e,t,a,n,s)=>Kn(void 0,void 0,void 0,(function*(){yield es(a,n,s),s.state.isLicenseAccepted()?yield ts(e,t,a,n,s):a(dn({navigation:{path:"/license",callbackState:e},saveState:!0}))})),ns={initStage0:(e,t)=>(a,n,s)=>Kn(void 0,void 0,void 0,(function*(){if("/login"===e.path)return void t(dn({navigation:{path:"/login",callbackState:{path:"/"}},saveState:!0}));const o=n(),{login:i}=o.user;null!==i&&""!==i?yield as(e,a,t,n,s):t(dn({navigation:{path:"/login",callbackState:"/about"===e.path||"/joinByPin"===e.path?{path:"/menu"}:e},saveState:!0}))})),initStageSkipLoginLicenseAsync:(e,t)=>(a,n,s)=>Kn(void 0,void 0,void 0,(function*(){yield es(t,n,s),yield ts(e,a,t,n,s)})),reloadComputerAccounts:e=>(t,a,n)=>Kn(void 0,void 0,void 0,(function*(){const t=Vt(a()),s=yield n.gameClient.getComputerAccountsAsync(t);e(xt(s))})),onAvatarSelectedLocal:(e,t)=>(a,n,s)=>Kn(void 0,void 0,void 0,(function*(){try{const a=yield e.arrayBuffer(),o=window.btoa(new Uint8Array(a).reduce(((e,t)=>e+String.fromCharCode(t)),"")),i=crypto.randomUUID?crypto.randomUUID():Math.random().toString();localStorage.setItem(h,o),localStorage.setItem(y,e.name),t(T(i)),yield Jn(t,s);const r=n();"/room"===r.ui.navigation.path&&r.user.avatar&&(yield s.game.sendImageAvatar(r.user.avatar))}catch(e){t(Ct(qt(e)))}})),sendAvatar:()=>(e,t,a)=>Kn(void 0,void 0,void 0,(function*(){const{avatar:e}=t().user;e&&(yield a.game.sendAvatar(e))})),login:e=>(t,a,n)=>Kn(void 0,void 0,void 0,(function*(){var s;const o=a();Ga(o),e(Ve(o.user.login.trim())),yield as(null!==(s=o.ui.navigation.callbackState)&&void 0!==s?s:{path:"/"},t,e,a,n)})),connectToSIHostAsync:Zn,closeSIHostClientAsync:(e,t)=>Kn(void 0,void 0,void 0,(function*(){const{connection:a}=t.game.gameServerClient;if(a)try{yield t.game.gameServerClient.leaveGameAsync(),a.connectionId&&On.splice(On.indexOf(a.connectionId),1),function(e){e.off("Receive"),e.off("Disconnect"),e.off("GamePersonsChanged"),Nn.push(e)}(a),yield a.stop(),function(e){Nn.splice(Nn.indexOf(e),1)}(a)}catch(t){e(Ct(qt(t)))}})),acceptLicense:e=>(t,a,n)=>Kn(void 0,void 0,void 0,(function*(){var s;n.state.acceptLicense(),yield ts(null!==(s=a().ui.navigation.callbackState)&&void 0!==s?s:{path:"/"},t,e,a,n)}))};var ss=function(e,t,a,n){return new(a||(a=Promise))((function(s,o){function i(e){try{l(n.next(e))}catch(e){o(e)}}function r(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(i,r)}l((n=n.apply(e,t||[])).next())}))};let os=null;const is=e=>({type:"ROOM_CHAT_MESSAGE_CHANGED",message:e});let rs;const ls=e=>(t,a)=>{t((e=>({type:"CHAT_MESSAGE_ADDED",chatMessage:e}))(e));const n=a();!n.room.chat.isVisible&&n.ui.windowWidth<800&&(t(cs(e)),rs&&window.clearTimeout(rs),rs=window.setTimeout((()=>{t(Ss.lastReplicChanged(null))}),3e3))},cs=e=>({type:"LAST_REPLIC_CHANGED",chatMessage:e}),ds=()=>({type:"ACTIVATE_CHAT"}),ps=e=>({type:"IS_PAUSED_CHANGED",isPaused:e}),us=e=>({type:"DECISION_NEEDED_CHANGED",decisionNeeded:e}),ms=e=>({type:"IS_GAME_BUTTON_ENABLED",isGameButtonEnabled:e});let gs=!1,hs=null;const ys=e=>({type:"SELECTION_ENABLED",message:e}),bs=(e,t)=>{let a=(e%60).toString();a.length<2&&(a=`0${e}`),t(Ls(`${Xe.theGameWillStartIn} 00:00:${a} ${Xe.orByFilling}`)),e>0&&(os=window.setTimeout((()=>{bs(e-1,t)}),1e3))},fs=e=>({type:"STOP_TIMER",timerIndex:e}),vs=()=>({type:"CLEAR_DECISIONS_AND_MAIN_TIMER"}),As=()=>({type:"ROOM_CHAT_CLEAR"}),Ss={runChatModeChanged:e=>({type:"ROOM_CHAT_MODE_CHANGED",chatMode:e}),runUsersModeChanged:e=>({type:"ROOM_USERS_MODE_CHANGED",usersMode:e}),runChatMessageChanged:is,runChatMessageSend:()=>(e,t,a)=>{const n=t(),s=n.room.chat.message;s.length>0&&a.game.gameServerClient.sayAsync(s),e(is("")),e(ls({sender:n.room2.name,text:s,level:tt.Information})),n.room.chat.isVisible||e({type:"ACTIVATE_CHAT"})},onPass:()=>(e,t,a)=>ss(void 0,void 0,void 0,(function*(){yield a.game.pass()})),pause:()=>(e,t,a)=>ss(void 0,void 0,void 0,(function*(){yield a.game.pause(!t().room.stage.isGamePaused)})),giveTurn:()=>e=>ss(void 0,void 0,void 0,(function*(){e(ys("SETCHOOSER"))})),runShowPersons:()=>({type:"ROOM_SHOW_PERSONS"}),runHidePersons:()=>({type:"ROOM_HIDE_PERSONS"}),runShowTables:()=>({type:"ROOM_SHOW_TABLES"}),runHideTables:()=>({type:"ROOM_HIDE_TABLES"}),runShowBanned:()=>({type:"ROOM_SHOW_BANNED"}),runHideBanned:()=>({type:"ROOM_HIDE_BANNED"}),runShowGameInfo:()=>({type:"ROOM_SHOW_GAMEINFO"}),runHideGameInfo:()=>({type:"ROOM_HIDE_GAMEINFO"}),runShowManageGame:()=>({type:"ROOM_SHOW_MANAGE_GAME"}),runHideManageGame:()=>({type:"ROOM_HIDE_MANAGE_GAME"}),runChatVisibilityChanged:e=>({type:"ROOM_CHAT_VISIBILITY_CHANGED",isOpen:e}),exitGame:e=>(t,a,n)=>ss(void 0,void 0,void 0,(function*(){try{n.game.shouldClose?yield ns.closeSIHostClientAsync(e,n):yield n.game.gameServerClient.leaveGameAsync()}catch(t){e(Ct(Xe.exitError))}os&&(window.clearTimeout(os),os=null),t({type:"ROOM_CHAT_CLEAR"}),t(fs(0)),t(fs(1)),t(fs(2)),t(ps(!1)),t({type:"CLEAR_DECISIONS_AND_MAIN_TIMER"}),e(jt());const s=a();t(dn({navigation:{path:s.ui.navigation.returnToLobby?"/lobby":"/menu"},saveState:!0}))})),chatMessageAdded:ls,lastReplicChanged:cs,activateChat:ds,infoChanged:e=>({type:"INFO_CHANGED",all:e}),tableSelected:e=>({type:"TABLE_SELECTED",tableIndex:e}),deleteTable:()=>(e,t,a)=>ss(void 0,void 0,void 0,(function*(){const e=t().room.selectedTableIndex-1;e<0||e>=t().room2.persons.players.length||(yield a.game.deleteTable(e))})),freeTable:()=>(e,t,a)=>ss(void 0,void 0,void 0,(function*(){const e=t().room.selectedTableIndex;e<0||e>=t().room2.persons.players.length+1||(yield a.game.freeTable(0===e,e-1))})),setTable:e=>(t,a,n)=>ss(void 0,void 0,void 0,(function*(){const t=a().room.selectedTableIndex;t<0||t>=a().room2.persons.players.length+1||(yield n.game.setTable(0===t,t-1,e))})),changeType:()=>(e,t,a)=>ss(void 0,void 0,void 0,(function*(){const e=t().room.selectedTableIndex;e<0||e>=t().room2.persons.players.length+1||(yield a.game.changeTableType(0===e,e-1))})),personAvatarChanged:(e,t)=>({type:"PERSON_AVATAR_CHANGED",personName:e,avatarUri:t}),personAvatarVideoChanged:(e,t)=>({type:"PERSON_AVATAR_VIDEO_CHANGED",personName:e,avatarUri:t}),gameStarted:e=>({type:"GAME_STARTED",started:e}),stageChanged:(e,t)=>({type:"STAGE_CHANGED",stageName:e,roundIndex:t}),gameStateCleared:()=>({type:"GAME_STATE_CLEARED"}),afterQuestionStateChanged:e=>({type:"AFTER_QUESTION_STATE_CHANGED",isAfterQuestion:e}),isQuestionChanged:(e,t)=>({type:"IsQuestionChanged",isQuestion:e,questionType:t}),currentPriceChanged:e=>({type:"CURRENT_PRICE_CHANGED",currentPrice:e}),personAdded:e=>({type:"PERSON_ADDED",person:e}),personRemoved:e=>({type:"PERSON_REMOVED",name:e}),roleChanged:e=>({type:"ROLE_CHANGED",role:e}),isPausedChanged:ps,decisionNeededChanged:us,clearDecisions:()=>({type:"CLEAR_DECISIONS"}),selectQuestion:(e,t,a)=>(n,s,o)=>ss(void 0,void 0,void 0,(function*(){if(!s().table.isSelectable)return;const i=s().table.roundInfo[e];i&&i.questions[t]>-1&&(yield o.game.selectQuestion(e,t))&&(a(Ee(!1)),n(us(!1)))})),selectTheme:(e,t)=>(a,n,s)=>ss(void 0,void 0,void 0,(function*(){n().table.isSelectable&&n().table.roundInfo[e]&&(yield s.game.deleteTheme(e))&&(t(Ee(!1)),a(us(!1)))})),pressGameButton:()=>(e,t,a)=>ss(void 0,void 0,void 0,(function*(){const n=Date.now()-t().table.canPressUpdateTime;(yield a.game.pressButton(n))&&(e(ms(!1)),setTimeout((()=>{e(ms(!0))}),1e3*t().room.buttonBlockingTimeSeconds))})),apellate:()=>(e,t,a)=>ss(void 0,void 0,void 0,(function*(){yield a.game.gameServerClient.msgAsync("APELLATE","+")})),disagree:()=>(e,t,a)=>ss(void 0,void 0,void 0,(function*(){yield a.game.gameServerClient.msgAsync("APELLATE","-")})),isAnswering:()=>({type:"IS_ANSWERING"}),updateAnswer:e=>(t,a,n)=>ss(void 0,void 0,void 0,(function*(){t((e=>({type:"ANSWER_CHANGED",answer:e}))(e)),gs||(gs=!0,hs=window.setTimeout((()=>ss(void 0,void 0,void 0,(function*(){gs=!1;const e=a().room.answer;e&&(yield n.game.sendAnswerVersion(e))}))),3e3))})),sendAnswer:()=>e=>ss(void 0,void 0,void 0,(function*(){hs&&(window.clearTimeout(hs),hs=null),e({type:"CLEAR_DECISIONS"})})),setStakes:(e,t,a,n,s)=>({type:"SET_STAKES",stakeModes:e,minimum:t,maximum:a,step:n,playerName:s}),stakeChanged:e=>({type:"STAKE_CHANGED",stake:e}),selectionEnabled:ys,showLeftSeconds:bs,onMediaEnded:()=>(e,t,a)=>ss(void 0,void 0,void 0,(function*(){yield a.game.onMediaCompleted()})),areSumsEditableChanged:e=>({type:"ARE_SUMS_EDITABLE_CHANGED",areSumsEditable:e}),changePlayerSum:(e,t)=>(a,n,s)=>ss(void 0,void 0,void 0,(function*(){yield s.game.gameServerClient.msgAsync("CHANGE",e+1,t)})),readingSpeedChanged:e=>({type:"READING_SPEED_CHANGED",readingSpeed:e}),runTimer:(e,t,a)=>({type:"RUN_TIMER",timerIndex:e,maximumTime:t,runByUser:a}),pauseTimer:(e,t,a)=>({type:"PAUSE_TIMER",timerIndex:e,currentTime:t,pausedByUser:a}),resumeTimer:(e,t)=>({type:"RESUME_TIMER",timerIndex:e,runByUser:t}),stopTimer:fs,timerMaximumChanged:(e,t)=>({type:"TIMER_MAXIMUM_CHANGED",timerIndex:e,maximumTime:t}),showMainTimer:()=>({type:"SHOW_MAIN_TIMER"}),clearDecisionsAndMainTimer:vs,hintChanged:e=>({type:"HINT_CHANGED",hint:e}),startGame:()=>(e,t,a)=>ss(void 0,void 0,void 0,(function*(){yield a.game.gameServerClient.msgAsync("START")})),operationError:e=>({type:"OPERATION_ERROR",error:e}),hostNameChanged:e=>({type:"HOST_NAME_CHANGED",hostName:e}),themeNameChanged:e=>({type:"THEME_NAME_CHANGED",themeName:e}),moveNext:()=>(e,t,a)=>ss(void 0,void 0,void 0,(function*(){yield a.game.gameServerClient.msgAsync("MOVE","1")})),navigateToRound:e=>(t,a,n)=>ss(void 0,void 0,void 0,(function*(){yield n.game.gameServerClient.msgAsync("MOVE","3",e)})),ready:e=>(t,a,n)=>ss(void 0,void 0,void 0,(function*(){yield n.game.gameServerClient.msgAsync("READY",e?"+":"-")})),roundsNamesChanged:e=>({type:"ROUNDS_NAMES_CHANGED",roundsNames:e}),areApellationsEnabledChanged:e=>({type:"ARE_APELLATIONS_ENABLED_CHANGED",areApellationsEnabled:e}),buttonBlockingTimeChanged:e=>({type:"BUTTON_BLOCKING_TIME_CHANGED",buttonBlockingTime:e}),gameMetadataChanged:(e,t,a,n)=>({type:"GAME_METADATA_CHANGED",gameName:e,packageName:t,contactUri:a,voiceChatUri:n}),bannedListChanged:e=>({type:"BANNED_LIST_CHANGED",bannedList:e}),banned:(e,t)=>({type:"BANNED",ip:e,name:t}),unbanned:e=>({type:"UNBANNED",ip:e}),selectBannedItem:e=>({type:"SELECT_BANNED_ITEM",ip:e}),unban:e=>(t,a,n)=>ss(void 0,void 0,void 0,(function*(){yield n.game.unban(e)})),mediaLoaded:()=>(e,t,a)=>ss(void 0,void 0,void 0,(function*(){yield a.game.mediaLoaded()})),clearRoomChat:As,joinModeChanged:e=>({type:"JOIN_MODE_CHANGED",joinMode:e}),setJoinMode:e=>(t,a,n)=>ss(void 0,void 0,void 0,(function*(){a().room.joinMode!==e&&(yield n.game.setJoinMode(e))})),selectAnswerOption:(e,t)=>(a,n,s)=>ss(void 0,void 0,void 0,(function*(){n().table.isSelectable&&(yield s.game.sendAnswer(e))&&(t(Ee(!1)),a(us(!1)))})),onKicked:()=>({type:"KICKED"}),onReconnect:()=>(e,t,a)=>ss(void 0,void 0,void 0,(function*(){yield a.game.info()})),setWebCamera:e=>(t,a,n)=>ss(void 0,void 0,void 0,(function*(){t((e=>({type:"WEB_CAMERA_URL_CHANGED",webCameraUrl:e}))(e)),yield n.game.sendVideoAvatar(e)})),settingsChanged:e=>({type:"SettingsChanged",settings:e})},ws=Ss;var Cs,Ts,Es=function(e,t,a,n){return new(a||(a=Promise))((function(s,o){function i(e){try{l(n.next(e))}catch(e){o(e)}}function r(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(i,r)}l((n=n.apply(e,t||[])).next())}))};!function(e){e[e.None=0]="None",e[e.Complain=1]="Complain",e[e.Report=2]="Report"}(Cs||(Cs={})),function(e){e[e.None=0]="None",e[e.Answer=1]="Answer",e[e.OralAnswer=2]="OralAnswer",e[e.Report=3]="Report"}(Ts||(Ts={}));const ks={persons:{showman:{name:"",isReady:!1,replic:null,isDeciding:!1,isHuman:!0},players:[]},name:"",playState:{report:""},dialogView:Cs.None,contextView:Ts.None,validation:{header:"",message:"",isCompact:!0,rightAnswers:[],wrongAnswers:[],queue:[],showExtraRightButtons:!1,newVersion:!1},isEditTableEnabled:!1},xs=(0,u.zD)("room2/complain",((e,t)=>Es(void 0,void 0,void 0,(function*(){const a=t.extra;yield a.game.markQuestion(e.questionId,e.complainText)})))),Is=(0,u.zD)("room2/sendGameReport",((e,t)=>Es(void 0,void 0,void 0,(function*(){const a=t.extra;yield a.game.sendGameReport(e)})))),Os=(0,u.zD)("room2/playerSelected",((e,t)=>Es(void 0,void 0,void 0,(function*(){const a=t.extra,{message:n}=t.getState().room.selection;yield a.game.gameServerClient.msgAsync(n,e),t.dispatch(ws.decisionNeededChanged(!1))})))),Ns=(0,u.zD)("room2/sendAnswer",((e,t)=>Es(void 0,void 0,void 0,(function*(){const a=t.extra;yield a.game.sendAnswer(e)})))),Ps=(0,u.zD)("room2/approveAnswer",((e,t)=>Es(void 0,void 0,void 0,(function*(){const a=t.extra,{newVersion:n}=t.getState().room2.validation;n?yield a.game.validateAnswer(e.answer,!0):yield a.game.approveAnswer(e.factor)})))),Rs=(0,u.zD)("room2/rejectAnswer",((e,t)=>Es(void 0,void 0,void 0,(function*(){const a=t.extra,{newVersion:n}=t.getState().room2.validation;n?yield a.game.validateAnswer(e.answer,!1):yield a.game.rejectAnswer(e.factor)})))),Ds=(0,u.zD)("room2/sendPass",((e,t)=>Es(void 0,void 0,void 0,(function*(){const e=t.extra;yield e.game.gameServerClient.msgAsync("SET_STAKE","Pass")})))),js=(0,u.zD)("room2/sendAllIn",((e,t)=>Es(void 0,void 0,void 0,(function*(){const e=t.extra;yield e.game.gameServerClient.msgAsync("SET_STAKE","AllIn")})))),Ms=(0,u.zD)("room2/sendStake",((e,t)=>Es(void 0,void 0,void 0,(function*(){const a=t.extra;yield a.game.gameServerClient.msgAsync("SET_STAKE","Stake",e)})))),Gs=((0,u.zD)("room2/getPin",((e,t)=>Es(void 0,void 0,void 0,(function*(){const e=t.extra;yield e.game.getPin()})))),(0,u.zD)("room2/setHost",((e,t)=>Es(void 0,void 0,void 0,(function*(){const a=t.extra;yield a.game.setHost(e)})))),(0,u.zD)("room2/kick",((e,t)=>Es(void 0,void 0,void 0,(function*(){const a=t.extra;yield a.game.kick(e)})))),(0,u.zD)("room2/addTable",((e,t)=>Es(void 0,void 0,void 0,(function*(){if(t.getState().room2.persons.players.length>=12)return;const e=t.extra;yield e.game.addTable()})))),(0,u.zD)("room2/toggleQuestion",((e,t)=>Es(void 0,void 0,void 0,(function*(){const a=t.extra;yield a.game.toggle(e.themeIndex,e.questionIndex)})))),(0,u.Z0)({name:"room2",initialState:ks,reducers:{showDialog:(e,t)=>{e.dialogView=t.payload},setContext:(e,t)=>{e.contextView=t.payload},setReport:(e,t)=>{e.playState.report=t.payload,e.contextView=Ts.Report},showmanReplicChanged:(e,t)=>{e.persons.showman.replic=t.payload,e.persons.players.forEach((e=>{e.replic=null}))},playerReplicChanged:(e,t)=>{e.persons.showman.replic=null,e.persons.players.forEach(((e,a)=>{e.replic=a===t.payload.playerIndex?t.payload.replic:null}))},infoChanged:(e,t)=>{e.persons.showman=t.payload.showman,e.persons.players=t.payload.players},playersStateCleared:e=>{e.persons.players.forEach((e=>{e.state=Ze.None,e.stake=0,e.answer="",e.mediaLoaded=!1,e.canBeSelected=!1}))},sumsChanged:(e,t)=>{e.persons.players.forEach(((e,a)=>{e.sum=a<t.payload.length?t.payload[a]:0}))},showmanChanged:(e,t)=>{var a,n;e.persons.showman.name=t.payload.name,e.persons.showman.isHuman=null!==(a=t.payload.isHuman)&&void 0!==a?a:e.persons.showman.isHuman,e.persons.showman.isReady=null!==(n=t.payload.isReady)&&void 0!==n?n:e.persons.showman.isReady},playerAdded:e=>{e.persons.players.push({name:"",sum:0,stake:0,state:Ze.None,canBeSelected:!1,isReady:!1,replic:null,isDeciding:!1,isHuman:!0,isChooser:!1,inGame:!0,mediaLoaded:!1,answer:""})},playerChanged:(e,t)=>{var a,n;const s=e.persons.players[t.payload.index];s.name=t.payload.name,s.isHuman=null!==(a=t.payload.isHuman)&&void 0!==a?a:s.isHuman,s.isReady=null!==(n=t.payload.isReady)&&void 0!==n?n:s.isReady},playerSumChanged:(e,t)=>{e.persons.players[t.payload.index].sum=t.payload.value},playersAnswersChanged:(e,t)=>{e.persons.players.forEach(((e,a)=>{e.answer=a<t.payload.length?t.payload[a]:""}))},playerDeleted:(e,t)=>{e.persons.players.splice(t.payload,1)},playersSwap:(e,t)=>{const{players:a}=e.persons,n=a[t.payload.index1];a[t.payload.index1]=a[t.payload.index2],a[t.payload.index2]=n},playerStateChanged:(e,t)=>{e.persons.players[t.payload.index].state=t.payload.state},playerStatesChanged:(e,t)=>{t.payload.indices.map((a=>e.persons.players[a].state=t.payload.state))},playerLostStateDropped:(e,t)=>{const a=e.persons.players[t.payload];a.state===Ze.Lost&&(a.state=Ze.None)},playerLostStatesDropped:(e,t)=>{t.payload.map((t=>{const a=e.persons.players[t];a.state===Ze.Lost&&(a.state=Ze.None)}))},playerStakeChanged:(e,t)=>{e.persons.players[t.payload.index].stake=t.payload.stake},deselectPlayers(e){e.persons.players.forEach((e=>e.canBeSelected=!1))},selectPlayers(e,t){e.persons.players.forEach(((e,a)=>{e.canBeSelected=0===t.payload.length||t.payload.includes(a)})),0===t.payload.length&&(e.persons.showman.replic=Xe.giveTurnHint)},activateShowmanDecision(e){e.persons.showman.isDeciding=!0},activatePlayerDecision(e,t){e.persons.players[t.payload].isDeciding=!0},clearDecisions(e){e.persons.showman.isDeciding=!1,e.persons.players.forEach((e=>e.isDeciding=!1))},isReadyChanged(e,t){-1===t.payload.personIndex?e.persons.showman.isReady=t.payload.isReady:e.persons.players[t.payload.personIndex].isReady=t.payload.isReady},chooserChanged(e,t){e.persons.players.forEach(((e,a)=>{e.isChooser=a===t.payload}))},playerInGameChanged(e,t){e.persons.players[t.payload.playerIndex].inGame=t.payload.inGame},playerMediaLoaded(e,t){e.persons.players[t.payload].mediaLoaded=!0},questionAnswersChanged(e,t){e.validation.rightAnswers=t.payload.rightAnswers,e.validation.wrongAnswers=t.payload.wrongAnswers},validate(e,t){e.validation.header=t.payload.header,e.validation.message=t.payload.message,e.validation.rightAnswers=t.payload.rightAnswers,e.validation.wrongAnswers=t.payload.wrongAnswers,e.validation.queue=[{name:t.payload.name,answer:t.payload.answer}],e.validation.showExtraRightButtons=t.payload.showExtraRightButtons,e.validation.newVersion=!1},askValidation(e,t){if(-1===t.payload.playerIndex||t.payload.playerIndex>=e.persons.players.length)return;const a=e.persons.players[t.payload.playerIndex];e.validation.queue.push({name:a.name,answer:t.payload.answer}),e.validation.header=Xe.answerChecking,e.validation.message="",e.validation.showExtraRightButtons=!1,e.validation.newVersion=!0},stopValidation(e){e.validation.queue=[]},nameChanged(e,t){e.name=t.payload},toggleEditTable(e){e.isEditTableEnabled=!e.isEditTableEnabled}},extraReducers:e=>{e.addCase(Ns.fulfilled,(e=>{e.contextView=Ts.None})),e.addCase(Ds.fulfilled,(e=>{e.contextView=Ts.None})),e.addCase(Ms.fulfilled,(e=>{e.contextView=Ts.None})),e.addCase(js.fulfilled,(e=>{e.contextView=Ts.None})),e.addCase(xs.fulfilled,(e=>{e.dialogView=Cs.None})),e.addCase(Is.fulfilled,(e=>{e.dialogView=Cs.None,e.contextView=Ts.None})),e.addCase(Os.fulfilled,(e=>{e.persons.players.forEach((e=>e.canBeSelected=!1)),e.persons.showman.replic=null})),e.addCase(Ps.fulfilled,(e=>{e.validation.queue.shift()})),e.addCase(Rs.fulfilled,(e=>{e.validation.queue.shift()}))}})),{showDialog:Hs,setContext:_s,setReport:Bs,showmanReplicChanged:Ls,playerReplicChanged:Fs,infoChanged:Us,playersStateCleared:qs,sumsChanged:Vs,showmanChanged:Ws,playerAdded:zs,playerChanged:Qs,playerSumChanged:$s,playersAnswersChanged:Ks,playerDeleted:Js,playersSwap:Ys,playerStateChanged:Zs,playerStatesChanged:Xs,playerLostStateDropped:eo,playerLostStatesDropped:to,playerStakeChanged:ao,deselectPlayers:no,selectPlayers:so,activateShowmanDecision:oo,activatePlayerDecision:io,clearDecisions:ro,isReadyChanged:lo,chooserChanged:co,playerInGameChanged:po,playerMediaLoaded:uo,questionAnswersChanged:mo,validate:go,askValidation:ho,stopValidation:yo,nameChanged:bo,toggleEditTable:fo}=Gs.actions,vo=Gs.reducer;var Ao=a(1710),So=a.n(Ao);function wo(e){const t=e.getElementsByTagName("tags")[0];return t?Array.from(t.getElementsByTagName("tag")).map((e=>({value:e.textContent||""}))):[]}function Co(e){var t;const a=e.getElementsByTagName("info")[0];return a?{authors:To(a),sources:ko(a),comments:(null===(t=a.getElementsByTagName("comments")[0])||void 0===t?void 0:t.textContent)||void 0}:{authors:[],sources:[]}}function To(e){const t=e.getElementsByTagName("authors")[0];return t?Array.from(t.getElementsByTagName("author")).map((e=>({name:e.textContent||""}))):[]}function Eo(e){const t=e.getElementsByTagName("rounds")[0];return t?Array.from(t.getElementsByTagName("round")).map((e=>({name:e.getAttribute("name")||"",type:e.getAttribute("type")||"",info:Co(e),themes:xo(e)}))):[]}function ko(e){const t=e.getElementsByTagName("sources")[0];return t?Array.from(t.getElementsByTagName("source")).map((e=>({value:e.textContent||""}))):[]}function xo(e){const t=e.getElementsByTagName("themes")[0];return t?Array.from(t.getElementsByTagName("theme")).map((e=>({name:e.getAttribute("name")||"",info:Co(e),questions:Io(e)}))):[]}function Io(e){const t=e.getElementsByTagName("questions")[0];return t?Array.from(t.getElementsByTagName("question")).map((e=>({price:Number(e.getAttribute("price"))||0,type:e.getAttribute("type"),info:Co(e),params:Oo(e),right:Po(e),wrong:Ro(e)}))):[]}function Oo(e){const t=e.getElementsByTagName("params")[0];if(!t)return{};const a={},n=t.querySelector('param[name="question"]');n&&(a.question=No(n));const s=t.querySelector('param[name="theme"]');s&&(a.theme=s.textContent||void 0);const o=t.querySelector('param[name="price"]');if(o){const e=o.getElementsByTagName("numberSet")[0];e&&(a.price={numberSet:{minimum:Number(e.getAttribute("minimum"))||0,maximum:Number(e.getAttribute("maximum"))||0,step:Number(e.getAttribute("step"))||0}})}const i=t.querySelector('param[name="selectionMode"]');i&&(a.selectionMode=i.textContent||void 0);const r=t.querySelector('param[name="answer"]');return r&&(a.answer=No(r)),a}function No(e){return{items:Array.from(e.getElementsByTagName("item")).map((e=>({type:e.getAttribute("type"),value:e.textContent||"",isRef:"True"===e.getAttribute("isRef"),placement:e.getAttribute("placement"),duration:e.getAttribute("duration")||void 0,waitForFinish:"True"===e.getAttribute("waitForFinish")})))}}function Po(e){const t=e.getElementsByTagName("right")[0];return t?{answer:Array.from(t.getElementsByTagName("answer")).map((e=>e.textContent||""))}:{answer:[]}}function Ro(e){const t=e.getElementsByTagName("wrong")[0];if(t)return{answer:Array.from(t.getElementsByTagName("answer")).map((e=>e.textContent||""))}}const Do=(0,u.zD)("siquester/openFile",((e,t)=>{return a=void 0,n=void 0,o=function*(){t.extra.file=e;const a=new(So());yield a.loadAsync(e);const n=a.file("content.xml");if(!n)throw new Error(Xe.corruptedPackage+" (!contentFile)");const s=yield n.async("text"),o=function(e){const t=e.documentElement;return{name:t.getAttribute("name")||"",version:t.getAttribute("version")||"",id:t.getAttribute("id")||"",restriction:t.getAttribute("restriction")||"",date:t.getAttribute("date")||"",publisher:t.getAttribute("publisher")||"",difficulty:Number(t.getAttribute("difficulty"))||0,language:t.getAttribute("language")||"",logo:t.getAttribute("logo")||void 0,tags:wo(t),info:Co(t),rounds:Eo(t)}}((new DOMParser).parseFromString(s,"application/xml"));return t.dispatch(dn({navigation:{path:"/siquester/package"},saveState:!0})),o},new((s=void 0)||(s=Promise))((function(e,t){function i(e){try{l(o.next(e))}catch(e){t(e)}}function r(e){try{l(o.throw(e))}catch(e){t(e)}}function l(t){var a;t.done?e(t.value):(a=t.value,a instanceof s?a:new s((function(e){e(a)}))).then(i,r)}l((o=o.apply(a,n||[])).next())}));var a,n,s,o})),jo=(0,u.Z0)({name:"siquester",initialState:{pack:{name:"Тестовый пакет SIGame",version:"5",id:"a16f96e7-4616-47d0-8652-aee5196094af",restriction:"12+",date:"07.07.2022",publisher:"Группа, которая владеет пакетом",difficulty:5,logo:"@sigame_-_ava_2019.png",language:"ru-RU",tags:[{value:"Тема пакета 1"},{value:"Тема пакета 2"}],info:{authors:[{name:"Vladimir Khil"}],comments:"Пакет, демонстрирующий основные возможности SIGame.\nКак видите, у пакета задан логотип (отображается в начале игры).\nТемы пакета и сложность позволяют проще найти этот пакет в библиотеках.\nВозрастное ограничение защищает автора пакета от претензий"},rounds:[{name:"1-й раунд",type:"standart",info:{sources:[{value:"Это источник раунда. Позволяет указать, откуда автор почерпнул идеи для вопросов. Авторы и источники объектов в пакете наследуются от вышестоящих объектов"}],comments:"Это обычный раунд. Вопросы в нём выбираются из таблицы в классической версии игры или играются строго по очереди в упрощённой"},themes:[{name:"Вопросы разных типов",info:{authors:[{name:"Это автор темы (можно указать, если он отличается от автора всего пакета)"}],comments:'Комментарий к теме. Он может содержать какую-то общую часть для всех вопросов (например, "Назовите исполнителя")'},questions:[{price:100,info:{comments:"Это комментарий к вопросу. Он будет показан на экране по окончании вопроса"},params:{question:{items:[{value:"Это текст вопроса"}]}},right:{answer:["А это правильный ответ"]}},{price:200,type:"stake",params:{question:{items:[{value:"Это вопрос со ставкой. На него отвечает тот, кто сделает самую большую ставку. Ва-банк (All-in) перекрывается только большим ва-банком"}]}},right:{answer:["Ответ","Альтернативный ответ для зачёта человеком/компьютером"]},wrong:{answer:["Неправильная версия для незачёта/для бота"]}}]},{name:"Контент вопросов",questions:[{price:100,params:{question:{items:[{value:"Это обычный текст"}]}},right:{answer:["А это обычный ответ"]}},{price:200,params:{question:{items:[{value:"Это устный текст. Он появится в игре как реплика ведущего",placement:"replic"},{value:"А это второй фрагмент вопроса. Вопрос может состоять из нескольких фрагментов различных типов, следующих друг за другом. Можно указать длительность фрагмента в секундах (здесь - 8 секунд)",duration:"00:00:08"}]}},right:{answer:["Ответ"]}},{price:300,params:{question:{items:[{type:"image",isRef:!0,value:"sample-boat-400x300.png"},{placement:"replic",value:"Устный комментарий для изображения"}]}},right:{answer:["Изображение"]}}]}]},{name:"Финал",type:"final",info:{comments:"А это финальный раунд. Здесь игроки сыграют только одну (если в настройках не указано другое) из указанных тем. Они по очереди будут убирать темы раунда до тех пор, пока не останется одна. В каждой теме используется только первый вопрос. Его стоимость не играет роли (каждый игрок сделает собственную ставку на вопросе)"},themes:[{name:"Тема 1",questions:[{price:0,params:{question:{items:[{value:"Вопрос финала 1"}]}},right:{answer:["Ответ финала 1"]}}]},{name:"Тема 2",questions:[{price:0,params:{question:{items:[{value:"Вопрос финала 2"}]}},right:{answer:["Ответ финала 2"]}}]},{name:"Тема 3",questions:[{price:0,params:{question:{items:[{value:"Вопрос финала 3"}]}},right:{answer:["Ответ финала 3"]}}]}]}]}},reducers:{},extraReducers:e=>{e.addCase(Do.fulfilled,((e,t)=>{e.pack=t.payload}))}}),Mo=jo.reducer,Go={password:"",newGameShown:!1,gameCreationProgress:!1,joinGameProgress:!1},Ho={user:qe.getInitialState(),login:Qe.getInitialState(),ui:na.getInitialState(),online:Go,online2:qa.getInitialState(),game:Sa.getInitialState(),siPackages:Wn.getInitialState(),room:p,room2:Gs.getInitialState(),table:oe.getInitialState(),common:St.getInitialState(),settings:f.getInitialState(),siquester:jo.getInitialState()};function _o(e,t){const a=e,n=t;return a[n],function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(a[n[s]]=e[n[s]])}return a}(a,["symbol"==typeof n?n:n+""])}function Bo(e,t,a){switch(t){case 0:return Object.assign(Object.assign({},e),{round:a(e.round)});case 1:return Object.assign(Object.assign({},e),{press:a(e.press)});case 2:return Object.assign(Object.assign({},e),{decision:a(e.decision)});default:return e}}const Lo=(e=p,t)=>{const a=t;switch(a.type){case"ROOM_CHAT_MODE_CHANGED":return Object.assign(Object.assign({},e),{chat:Object.assign(Object.assign({},e.chat),{mode:a.chatMode})});case"ROOM_USERS_MODE_CHANGED":return Object.assign(Object.assign({},e),{chat:Object.assign(Object.assign({},e.chat),{usersMode:a.usersMode})});case"ROOM_CHAT_MESSAGE_CHANGED":return Object.assign(Object.assign({},e),{chat:Object.assign(Object.assign({},e.chat),{message:a.message})});case"ROOM_CHAT_VISIBILITY_CHANGED":return Object.assign(Object.assign({},e),{chat:Object.assign(Object.assign({},e.chat),{isVisible:a.isOpen,isActive:!a.isOpen&&e.chat.isActive})});case"ROOM_SHOW_PERSONS":return Object.assign(Object.assign({},e),{personsVisible:!0});case"ROOM_HIDE_PERSONS":return Object.assign(Object.assign({},e),{personsVisible:!1});case"ROOM_SHOW_TABLES":return Object.assign(Object.assign({},e),{tablesVisible:!0});case"ROOM_HIDE_TABLES":return Object.assign(Object.assign({},e),{tablesVisible:!1});case"ROOM_SHOW_BANNED":return Object.assign(Object.assign({},e),{bannedVisible:!0});case"ROOM_HIDE_BANNED":return Object.assign(Object.assign({},e),{bannedVisible:!1});case"ROOM_SHOW_GAMEINFO":return Object.assign(Object.assign({},e),{gameInfoVisible:!0});case"ROOM_HIDE_GAMEINFO":return Object.assign(Object.assign({},e),{gameInfoVisible:!1});case"ROOM_SHOW_MANAGE_GAME":return Object.assign(Object.assign({},e),{manageGameVisible:!0});case"ROOM_HIDE_MANAGE_GAME":return Object.assign(Object.assign({},e),{manageGameVisible:!1});case"CHAT_MESSAGE_ADDED":return Object.assign(Object.assign({},e),{chat:Object.assign(Object.assign({},e.chat),{messages:[...e.chat.messages,a.chatMessage]})});case"LAST_REPLIC_CHANGED":return Object.assign(Object.assign({},e),{lastReplic:a.chatMessage,chat:Object.assign(Object.assign({},e.chat),{isActive:!!a.chatMessage||e.chat.isActive})});case"ACTIVATE_CHAT":return Object.assign(Object.assign({},e),{chat:Object.assign(Object.assign({},e.chat),{isActive:!0})});case"INFO_CHANGED":return Object.assign(Object.assign({},e),{persons:Object.assign(Object.assign({},e.persons),{all:a.all})});case"TABLE_SELECTED":return Object.assign(Object.assign({},e),{selectedTableIndex:a.tableIndex});case"PERSON_AVATAR_CHANGED":return-1===Object.keys(e.persons.all).indexOf(a.personName)?e:Object.assign(Object.assign({},e),{persons:Object.assign(Object.assign({},e.persons),{all:Object.assign(Object.assign({},e.persons.all),{[a.personName]:Object.assign(Object.assign({},e.persons.all[a.personName]),{avatar:a.avatarUri})})})});case"PERSON_AVATAR_VIDEO_CHANGED":return-1===Object.keys(e.persons.all).indexOf(a.personName)?e:Object.assign(Object.assign({},e),{persons:Object.assign(Object.assign({},e.persons),{all:Object.assign(Object.assign({},e.persons.all),{[a.personName]:Object.assign(Object.assign({},e.persons.all[a.personName]),{avatarVideo:a.avatarUri})})})});case"GAME_STARTED":return Object.assign(Object.assign({},e),{stage:Object.assign(Object.assign({},e.stage),{isGameStarted:a.started}),kicked:!1});case"STAGE_CHANGED":return Object.assign(Object.assign({},e),{stage:Object.assign(Object.assign({},e.stage),{name:a.stageName,roundIndex:a.roundIndex})});case"GAME_STATE_CLEARED":return Object.assign(Object.assign({},e),{stage:Object.assign(Object.assign({},e.stage),{isAfterQuestion:!1,isDecisionNeeded:!1}),stakes:Object.assign(Object.assign({},e.stakes),{areVisible:!1})});case"ROOM_CHAT_CLEAR":return Object.assign(Object.assign({},e),{chat:Object.assign(Object.assign({},e.chat),{messages:[],message:""}),kicked:!1});case"AFTER_QUESTION_STATE_CHANGED":return Object.assign(Object.assign({},e),{stage:Object.assign(Object.assign({},e.stage),{isAfterQuestion:a.isAfterQuestion}),hint:a.isAfterQuestion?null:e.hint});case"CURRENT_PRICE_CHANGED":return Object.assign(Object.assign({},e),{stage:Object.assign(Object.assign({},e.stage),{currentPrice:a.currentPrice})});case"PERSON_ADDED":return e.persons.all[a.person.name]&&console.log(`Person ${a.person.name} already exists!`),Object.assign(Object.assign({},e),{persons:Object.assign(Object.assign({},e.persons),{all:(n=e.persons.all,s=a.person.name,o=a.person,Object.assign(Object.assign({},n),{[s]:o}))})});case"PERSON_REMOVED":return Object.assign(Object.assign({},e),{persons:Object.assign(Object.assign({},e.persons),{all:_o(e.persons.all,a.name)})});case"ROLE_CHANGED":return Object.assign(Object.assign({},e),{role:a.role});case"IS_PAUSED_CHANGED":return Object.assign(Object.assign({},e),{stage:Object.assign(Object.assign({},e.stage),{isGamePaused:a.isPaused})});case"DECISION_NEEDED_CHANGED":return Object.assign(Object.assign({},e),{stage:Object.assign(Object.assign({},e.stage),{isDecisionNeeded:a.decisionNeeded})});case"CLEAR_DECISIONS":return Object.assign(Object.assign({},e),{stage:Object.assign(Object.assign({},e.stage),{isDecisionNeeded:!1}),selection:Object.assign(Object.assign({},e.selection),{isEnabled:!1}),stakes:Object.assign(Object.assign({},e.stakes),{areVisible:!1}),answer:null});case"IS_GAME_BUTTON_ENABLED":return Object.assign(Object.assign({},e),{isGameButtonEnabled:a.isGameButtonEnabled});case"IS_ANSWERING":return Object.assign(Object.assign({},e),{answer:null});case"ANSWER_CHANGED":return Object.assign(Object.assign({},e),{answer:a.answer});case"SET_STAKES":return Object.assign(Object.assign({},e),{stakes:{areVisible:!0,stakeModes:a.stakeModes,minimum:a.minimum,maximum:a.maximum,stake:a.minimum,step:a.step}});case"STAKE_CHANGED":return Object.assign(Object.assign({},e),{stakes:Object.assign(Object.assign({},e.stakes),{stake:a.stake})});case"SELECTION_ENABLED":return Object.assign(Object.assign({},e),{selection:{isEnabled:!0,message:a.message},stage:Object.assign(Object.assign({},e.stage),{isDecisionNeeded:!0})});case"ARE_SUMS_EDITABLE_CHANGED":return Object.assign(Object.assign({},e),{areSumsEditable:a.areSumsEditable});case"READING_SPEED_CHANGED":return Object.assign(Object.assign({},e),{readingSpeed:a.readingSpeed});case"RUN_TIMER":return Object.assign(Object.assign({},e),{timers:Bo(e.timers,a.timerIndex,(e=>({state:0,isPausedByUser:!a.runByUser&&e.isPausedByUser,isPausedBySystem:!!a.runByUser&&e.isPausedBySystem,maximum:a.maximumTime,value:0})))});case"PAUSE_TIMER":return Object.assign(Object.assign({},e),{timers:Bo(e.timers,a.timerIndex,(e=>Object.assign(Object.assign({},e),{state:0===e.state?2:e.state,isPausedByUser:!!a.pausedByUser||e.isPausedByUser,isPausedBySystem:!a.pausedByUser||e.isPausedBySystem,value:0===e.state?a.currentTime:e.value})))});case"RESUME_TIMER":return Object.assign(Object.assign({},e),{timers:Bo(e.timers,a.timerIndex,(e=>Object.assign(Object.assign({},e),{state:0,isPausedByUser:!a.runByUser&&e.isPausedByUser,isPausedBySystem:!!a.runByUser&&e.isPausedBySystem})))});case"STOP_TIMER":return Object.assign(Object.assign({},e),{timers:Bo(e.timers,a.timerIndex,(e=>Object.assign(Object.assign({},e),{state:1,isPausedByUser:!1,isPausedBySystem:!0,value:0})))});case"TIMER_MAXIMUM_CHANGED":return Object.assign(Object.assign({},e),{timers:Bo(e.timers,a.timerIndex,(e=>Object.assign(Object.assign({},e),{maximum:a.maximumTime})))});case"SHOW_MAIN_TIMER":return Object.assign(Object.assign({},e),{showMainTimer:!0});case"CLEAR_DECISIONS_AND_MAIN_TIMER":return Object.assign(Object.assign({},e),{showMainTimer:!1});case"HINT_CHANGED":return Object.assign(Object.assign({},e),{hint:a.hint});case"OPERATION_ERROR":return Object.assign(Object.assign({},e),{chat:Object.assign(Object.assign({},e.chat),{messages:[...e.chat.messages,{sender:"",text:a.error,level:tt.Warning}]})});case"HOST_NAME_CHANGED":return Object.assign(Object.assign({},e),{persons:Object.assign(Object.assign({},e.persons),{hostName:a.hostName})});case"THEME_NAME_CHANGED":return Object.assign(Object.assign({},e),{stage:Object.assign(Object.assign({},e.stage),{themeName:a.themeName})});case"ROUNDS_NAMES_CHANGED":return Object.assign(Object.assign({},e),{roundsNames:a.roundsNames});case"ARE_APELLATIONS_ENABLED_CHANGED":return Object.assign(Object.assign({},e),{areApellationsEnabled:a.areApellationsEnabled});case"BUTTON_BLOCKING_TIME_CHANGED":return Object.assign(Object.assign({},e),{buttonBlockingTimeSeconds:a.buttonBlockingTime});case"GAME_METADATA_CHANGED":return Object.assign(Object.assign({},e),{metadata:{gameName:a.gameName,packageName:a.packageName,contactUri:a.contactUri,voiceChatUri:a.voiceChatUri}});case"BANNED_LIST_CHANGED":return Object.assign(Object.assign({},e),{banned:{entries:a.bannedList,selectedIp:null}});case"BANNED":return Object.assign(Object.assign({},e),{banned:Object.assign(Object.assign({},e.banned),{entries:Object.assign(Object.assign({},e.banned.entries),{[a.ip]:a.name})})});case"UNBANNED":return Object.assign(Object.assign({},e),{banned:Object.assign(Object.assign({},e.banned),{entries:_o(e.banned.entries,a.ip)})});case"SELECT_BANNED_ITEM":return Object.assign(Object.assign({},e),{banned:Object.assign(Object.assign({},e.banned),{selectedIp:a.ip})});case"JOIN_MODE_CHANGED":return Object.assign(Object.assign({},e),{joinMode:a.joinMode});case"KICKED":return Object.assign(Object.assign({},e),{kicked:!0});case"WEB_CAMERA_URL_CHANGED":return Object.assign(Object.assign({},e),{webCameraUrl:a.webCameraUrl});case"SettingsChanged":return Object.assign(Object.assign({},e),{settings:a.settings});case"IsQuestionChanged":return Object.assign(Object.assign({},e),{stage:Object.assign(Object.assign({},e.stage),{isQuestion:a.isQuestion,questionType:a.questionType})});default:return e}var n,s,o},Fo=(e=Go,t)=>{const a=t;switch(a.type){case"PASSWORD_CHANGED":return Object.assign(Object.assign({},e),{password:a.newPassword});case"NEW_GAME":return Object.assign(Object.assign({},e),{newGameShown:!0,gameCreationProgress:!1});case"NEW_GAME_CANCEL":return Object.assign(Object.assign({},e),{newGameShown:!1,gameCreationProgress:!1});case"GAME_CREATION_START":return Object.assign(Object.assign({},e),{gameCreationProgress:!0});case"GAME_CREATION_END":return Object.assign(Object.assign({},e),{gameCreationProgress:!1});case"JOIN_GAME_STARTED":return Object.assign(Object.assign({},e),{joinGameProgress:!0});case"JOIN_GAME_FINISHED":return Object.assign(Object.assign({},e),{joinGameProgress:!1});default:return e}},Uo=(e=Ho,t)=>({user:ze(e.user,t),login:Je(e.login,t),room:Lo(e.room,t),room2:vo(e.room2,t),common:Ht(e.common,t),settings:te(e.settings,t),table:Ue(e.table,t),siPackages:$n(e.siPackages,t),ui:ha(e.ui,t),online:Fo(e.online,t),online2:sn(e.online2,t),game:ja(e.game,t),siquester:Mo(e.siquester,t)});var qo,Vo=a(1265);!function(e){e[e.Undefined=0]="Undefined",e[e.Yes=1]="Yes",e[e.No=2]="No"}(qo||(qo={}));const Wo="ACCEPT_LICENSE";class zo{initAsync(e){return Promise.resolve()}onReady(){}isLicenseAccepted(){return""!==function(e){const t=`; ${document.cookie}`.split(`; ${e}=`);if(2===t.length){const e=t.pop();return e?e.split(";").shift():""}return""}(Wo)}acceptLicense(){!function(e){const t=new Date;t.setTime(t.getTime()+31536e6);const a="expires="+t.toUTCString();document.cookie=`${e}=1;${a};path=/;SameSite=Lax`}(Wo)}loadNavigationState(){return window.history.state}saveNavigationState(e,t,a=!1){a?window.history.replaceState(e,"",t):window.history.pushState(e,"",t)}isFullScreenSupported(){return document.fullscreenEnabled}detectFullScreen(){return window.innerHeight==screen.height&&window.innerWidth==screen.width?qo.Yes:qo.No}setFullScreen(e){return t=this,a=void 0,s=function*(){if(e&&!document.fullscreenElement)try{yield document.documentElement.requestFullscreen()}catch(e){return!1}else!e&&document.fullscreenElement&&document.exitFullscreen();return!0},new((n=void 0)||(n=Promise))((function(e,o){function i(e){try{l(s.next(e))}catch(e){o(e)}}function r(e){try{l(s.throw(e))}catch(e){o(e)}}function l(t){var a;t.done?e(t.value):(a=t.value,a instanceof n?a:new n((function(e){e(a)}))).then(i,r)}l((s=s.apply(t,a||[])).next())}));var t,a,n,s}copyToClipboard(e){navigator.clipboard?navigator.clipboard.writeText(e):alert(e)}}var Qo=a(6540),$o=a(5072),Ko=a.n($o),Jo=a(7825),Yo=a.n(Jo),Zo=a(7659),Xo=a.n(Zo),ei=a(5056),ti=a.n(ei),ai=a(540),ni=a.n(ai),si=a(1113),oi=a.n(si),ii=a(1234),ri={};ri.styleTagTransform=oi(),ri.setAttributes=ti(),ri.insert=Xo().bind(null,"head"),ri.domAPI=Yo(),ri.insertStyleElement=ni(),Ko()(ii.A,ri),ii.A&&ii.A.locals&&ii.A.locals;const li=Qo.forwardRef(((e,t)=>{var a;return Qo.createElement("section",{id:e.id,className:`dialog ${null!==(a=e.className)&&void 0!==a?a:""}`,ref:t},Qo.createElement("header",null,Qo.createElement("h1",null,e.title)),Qo.createElement("button",{type:"button",className:"dialog_closeButton",onClick:e.onClose},Qo.createElement("img",{src:"data:image/svg+xml;base64,77u/PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiID8+DQo8c3ZnIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiB2aWV3Qm94PSIwIDAgMjUgMjUiPg0KICA8cGF0aCBzdHJva2U9IiNGRkZGRkYiIHN0cm9rZS13aWR0aD0iMiIgZD0iTSAwIDAgTCAyNSAyNSBNIDAgMjUgTCAyNSAwIiAvPg0KPC9zdmc+",alt:Xe.close})),e.children)}));var ci;!function(e){e.Classic="Tv",e.Simple="Sport"}(ci||(ci={}));const di=ci;var pi=a(9144),ui={};function mi(e){let t=e.isIndeterminate?{}:{width:e.value?`calc(${100*e.value}%)`:"0"};return e.valueChangeDuration&&(t=Object.assign(Object.assign({},t),{animationName:"widthZero",animationFillMode:"forwards",animationDuration:`${e.valueChangeDuration}s`,animationTimingFunction:"linear"})),Qo.createElement("div",{className:`progress progress-striped active ${e.isIndeterminate?"indeterminate":""} ${e.className}`,title:e.title},Qo.createElement("div",{className:"progress-bar",style:t,role:"progressbar","aria-label":"progress","aria-valuenow":e.isIndeterminate?100:e.value,"aria-valuemin":0,"aria-valuemax":100}),e.children)}function gi(e){return e%10==1&&11!=e?Xe.minute:e%10>1&&e%10<5&&(e<11||e>14)?Xe.minutes2:Xe.minutes5}ui.styleTagTransform=oi(),ui.setAttributes=ti(),ui.insert=Xo().bind(null,"head"),ui.domAPI=Yo(),ui.insertStyleElement=ni(),Ko()(pi.A,ui),pi.A&&pi.A.locals&&pi.A.locals;const hi=()=>(0,o.wA)(),yi=o.d4;var bi=a(5974),fi={};fi.styleTagTransform=oi(),fi.setAttributes=ti(),fi.insert=Xo().bind(null,"head"),fi.domAPI=Yo(),fi.insertStyleElement=ni(),Ko()(bi.A,fi),bi.A&&bi.A.locals&&bi.A.locals;const vi=(0,o.Ng)((e=>({culture:e.settings.appSettings.culture,login:e.user.login,password:e.online.password,joinGameProgress:e.online.joinGameProgress})),(e=>({onPasswordChanged:t=>{e(yn(t))},onJoin:(t,a,n,s,o)=>{e(hn(t,a,n,s,null,o))}})))((function(e){if(!e.game)return Qo.createElement("section",{className:"gameinfoHost"},Qo.createElement("div",{id:"gameinfo"}));const t=hi(),[a,n]=Qo.useState(e.login),s=Xe.getLanguage(),o=new Date(e.game.StartTime).toLocaleString(s),i=new Date(e.game.RealStartTime),r=1!==i.getFullYear()?function(e){const t=Math.floor(e/3600/1e3),a=Math.floor(e%36e5/60/1e3),n=Math.floor(e%6e4/1e3);return t>0?t+" "+function(e){return 1==e?Xe.hour:e<5?Xe.hours2:Xe.hours5}(t)+(a>0?" "+a+" "+gi(a):""):a>0?a+" "+gi(a):n+" "+function(e){return e%10==1&&11!=e?Xe.second:e%10>1&&e%10<5&&(e<11||e>14)?Xe.seconds2:Xe.seconds5}(n)}(Date.now()-i.getTime()):"",l={Viewer:!0,Player:!1,Showman:!1};let c="";const d=[],p=[],{Persons:u}=e.game;for(let e=0;e<u.length;e++){const t=u[e];t.IsOnline?"Showman"===t.Role?c=t.Name:"Player"===t.Role?d.push(t.Name):p.push(t.Name):l[t.Role]=!0}const g=l.Player,h=l.Showman,{game:y}=e,b=((e,t)=>{const a=function(e){const t=e.split(",").map((e=>e.trim()));let a=0;return t.forEach((e=>{switch(e){case"FalseStart":a|=1;break;case"Oral":a|=2;break;case"IgnoreWrong":a|=4}})),a}(e),n=[];return t?n.push(Xe.sport.toLowerCase()):n.push(Xe.tv.toLowerCase()),1&a||n.push(Xe.nofalsestart),(2&a)>0&&n.push(Xe.oral),(4&a)>0&&n.push(Xe.errorTolerant),n})(y.Rules,y.Mode===di.Simple),f=n=>{if(n.key===m){if(!e.isConnected||e.joinGameProgress||0===a.length||y.PasswordRequired&&!e.password)return;g?e.onJoin(y.HostUri,y.GameID,a,1,t):h?e.onJoin(y.HostUri,y.GameID,a,2,t):e.canJoinAsViewer&&e.onJoin(y.HostUri,y.GameID,a,0,t)}};return Qo.createElement("section",{className:"gameinfoHost"},Qo.createElement("div",{id:"gameinfo"},y?Qo.createElement("div",{id:"innerinfo"},e.showGameName?Qo.createElement("h1",{id:"gameName",title:y.GameName},y.GameName):null,Qo.createElement("div",{className:"maininfo"},Qo.createElement("dl",null,Qo.createElement("dt",null,Xe.host),Qo.createElement("dd",null,y.Owner),Qo.createElement("dt",null,Xe.questionPackage),Qo.createElement("dd",null,"@{random}"==y.PackageName?Xe.randomThemes:y.PackageName),Qo.createElement("dt",null,Xe.rules),Qo.createElement("dd",null,b.map((e=>Qo.createElement("div",{className:"personName",key:e},e)))),Qo.createElement("dt",null,Xe.showman),Qo.createElement("dd",null,Qo.createElement("div",{className:"personName"},null!=c?c:" ")),Qo.createElement("dt",null,Xe.players),Qo.createElement("dd",null,d.map((e=>Qo.createElement("div",{className:"personName",key:e},e)))),Qo.createElement("dt",null,Xe.viewers),Qo.createElement("dd",null,p.map((e=>Qo.createElement("div",{className:"personName",key:e},e)))),Qo.createElement("dt",null,Xe.status),Qo.createElement("dd",null,((e,t,a,n)=>{switch(e){case"Created":return Xe.created;case"Started":return Xe.started;case"Round":return`${a}/${n}: ${Xe.round}: ${t}`;case"Final":return Xe.final;default:return Xe.gameFinished}})(y.Stage,y.StageName,y.ProgressCurrent,y.ProgressTotal)),r.length>0?Qo.createElement(Qo.Fragment,null,Qo.createElement("dt",null,Xe.duration),Qo.createElement("dd",null,r)):Qo.createElement(Qo.Fragment,null,Qo.createElement("dt",null,Xe.created),Qo.createElement("dd",null,o)))),Qo.createElement("div",{className:"gameInfoBlocks"},Qo.createElement("div",{className:"gameInfoBlock"},Qo.createElement("span",null,Xe.name),Qo.createElement("input",{id:"name",type:"text","aria-label":"Name",disabled:e.joinGameProgress,value:a,onChange:e=>n(e.target.value),onKeyPress:f})),y.PasswordRequired?Qo.createElement("div",{className:"gameInfoBlock"},Qo.createElement("span",null,Xe.password),Qo.createElement("input",{id:"password",type:"password","aria-label":"Password",disabled:e.joinGameProgress,value:e.password,onChange:t=>e.onPasswordChanged(t.target.value),onKeyPress:f})):null),Qo.createElement("div",{className:"actions"},Qo.createElement("div",{id:"actionsHost"},Qo.createElement("button",{type:"button",className:"join standard",onClick:()=>e.onJoin(y.HostUri,y.GameID,a,2,t),title:Xe.joinAsShowmanHint,disabled:!e.isConnected||e.joinGameProgress||0===a.length||y.PasswordRequired&&!e.password||!h},Xe.joinAsShowman),Qo.createElement("button",{type:"button",className:"join standard",onClick:()=>e.onJoin(y.HostUri,y.GameID,a,1,t),title:Xe.joinAsPlayerHint,disabled:!e.isConnected||e.joinGameProgress||0===a.length||y.PasswordRequired&&!e.password||!g},Xe.joinAsPlayer),Qo.createElement("button",{type:"button",className:"join standard",onClick:()=>e.onJoin(y.HostUri,y.GameID,a,0,t),title:Xe.joinAsViewerHint,disabled:!e.isConnected||e.joinGameProgress||0===a.length||y.PasswordRequired&&!e.password||!e.canJoinAsViewer},Xe.joinAsViewer)))):null,e.joinGameProgress?Qo.createElement("div",{className:"joinGameProgress"},Qo.createElement(mi,{isIndeterminate:!0})):null))}));var Ai=a(3877),Si={};function wi(e){const t=yi((e=>e.online2)),a=yi((e=>e.common)),{selectedGame:n}=t,s=hi(),o=()=>{s(dn({navigation:{path:"/login"},saveState:!0}))};return Qo.useEffect((()=>{n||(s(Ct(Xe.gameNotFound)),o())}),[t.inProgress]),n?Qo.createElement("div",{className:"joinRoomHost"},Qo.createElement("div",{className:"logo"}),Qo.createElement(li,{className:"joinRoom",title:`${Xe.gameJoin}: ${n.GameName}`,onClose:o},Qo.createElement(vi,{canJoinAsViewer:e.canJoinAsViewer,isConnected:a.isSIHostConnected,game:n,showGameName:!1}))):null}Si.styleTagTransform=oi(),Si.setAttributes=ti(),Si.insert=Xo().bind(null,"head"),Si.domAPI=Yo(),Si.insertStyleElement=ni(),Ko()(Ai.A,Si),Ai.A&&Ai.A.locals&&Ai.A.locals;const Ci=(0,o.Ng)((e=>({isConnected:e.common.isSIHostConnected,stakeModes:e.room.stakes.stakeModes})),(e=>({clearDecisions:()=>{e(ws.clearDecisions())}})))((function(e){const t=hi();return e.stakeModes&d.AllIn?Qo.createElement("button",{type:"button",className:e.className,disabled:!e.isConnected,onClick:()=>{t(js()),e.clearDecisions()}},Xe.allIn):null})),Ti=(0,o.Ng)((e=>({stake:e.room.stakes.stake,minimum:e.room.stakes.minimum,maximum:e.room.stakes.maximum,step:e.room.stakes.step,stakeModes:e.room.stakes.stakeModes})),(e=>({onStakeChanged:t=>{e(ws.stakeChanged(t))}})))((function(e){const t=e.stakeModes&d.Stake;return Qo.createElement("input",{"aria-label":"Stake",type:e.type,className:e.className,disabled:!t,min:e.minimum,max:e.maximum,step:e.step,value:e.stake,onChange:t=>{var a;(a=parseInt(t.target.value,10))<=0||a>e.maximum||e.onStakeChanged(a)},onBlur:t=>{parseInt(t.target.value,10)<e.minimum&&e.onStakeChanged(e.minimum)}})}));var Ei=a(2092),ki={};ki.styleTagTransform=oi(),ki.setAttributes=ti(),ki.insert=Xo().bind(null,"head"),ki.domAPI=Yo(),ki.insertStyleElement=ni(),Ko()(Ei.A,ki),Ei.A&&Ei.A.locals&&Ei.A.locals;const xi=(0,o.Ng)((e=>({isConnected:e.common.isSIHostConnected,stakeModes:e.room.stakes.stakeModes})),(e=>({clearDecisions:()=>{e(ws.clearDecisions())}})))((function(e){const t=hi();return e.stakeModes&d.Pass?Qo.createElement("button",{type:"button",className:`stake-pass ${e.className}`,disabled:!e.isConnected,onClick:()=>{t(Ds()),e.clearDecisions()}},Xe.pass.toUpperCase()):null})),Ii=(0,o.Ng)((e=>({isConnected:e.common.isSIHostConnected,stakeModes:e.room.stakes.stakeModes,defaultStake:e.room.stakes.stake})),(e=>({clearDecisions:()=>{e(ws.clearDecisions())}})))((function(e){var t;const a=hi(),n=e.stakeModes&d.Stake;return Qo.createElement("button",{type:"button",className:`mainAction active ${e.className}`,onClick:()=>{var t;const n=null!==(t=e.stake)&&void 0!==t?t:e.defaultStake;a(Ms(n)),e.clearDecisions()},disabled:!e.isConnected||!n},n?null!==(t=e.stake)&&void 0!==t?t:Xe.send:"")}));var Oi=a(2382),Ni={};Ni.styleTagTransform=oi(),Ni.setAttributes=ti(),Ni.insert=Xo().bind(null,"head"),Ni.domAPI=Yo(),Ni.insertStyleElement=ni(),Ko()(Oi.A,Ni),Oi.A&&Oi.A.locals&&Oi.A.locals;const Pi=(0,o.Ng)((e=>({minimum:e.room.stakes.minimum,maximum:e.room.stakes.maximum,step:e.room.stakes.step,stakeModes:e.room.stakes.stakeModes})))((function(e){const t=e.stakeModes&d.Stake,a=Math.floor((e.maximum-e.minimum)/e.step)+1,n=a<=4;return Qo.createElement("div",{className:"wideStakeHost"},Qo.createElement(xi,{className:"standard "+(n?"wideStake":"")}),t?n?Qo.createElement(Qo.Fragment,null,Array.from(Array(a).keys()).map((t=>Qo.createElement(Ii,{className:"wideStake mainAction active",stake:e.minimum+e.step*t})))):Qo.createElement(Qo.Fragment,null,Qo.createElement(Ti,{type:"number",className:"wideStakeHost__number checkSum"}),Qo.createElement(Ti,{type:"range",className:"wideStakeHost__range"}),Qo.createElement(Ii,null)):null,Qo.createElement(Ci,{className:"mainAction active "+(n?"wideStake":"")}))}));var Ri=a(2381),Di={};Di.styleTagTransform=oi(),Di.setAttributes=ti(),Di.insert=Xo().bind(null,"head"),Di.domAPI=Yo(),Di.insertStyleElement=ni(),Ko()(Ri.A,Di),Ri.A&&Ri.A.locals&&Ri.A.locals;const ji=(0,o.Ng)((e=>({isConnected:e.common.isSIHostConnected,sex:e.settings.sex,areApellationsEnabled:e.room.areApellationsEnabled})),(e=>({apellate:()=>{e(ws.apellate())},disagree:()=>{e(ws.disagree())}})))((function(e){const t=yi((e=>e.room2)).persons.players.length,a=hi(),n=1===e.sex?Xe.iAmRightFemale:Xe.iAmRightMale;return Qo.createElement("div",{className:"reactions reactions_panel"},e.areApellationsEnabled?Qo.createElement(Qo.Fragment,null,Qo.createElement("button",{type:"button",className:"reactionButton standard",disabled:!e.isConnected,title:Xe.apellateAnswer,onClick:()=>e.apellate()},n),Qo.createElement("button",{type:"button",className:"reactionButton standard",disabled:!e.isConnected||t<4,title:Xe.iDisagreeHint,onClick:()=>e.disagree()},Xe.iDisagree)):null,Qo.createElement("button",{type:"button",className:"reactionButton standard",disabled:!e.isConnected,title:Xe.complainHint,onClick:()=>a(Hs(Cs.Complain))},Xe.complain))}));var Mi=a(6230),Gi={};Gi.styleTagTransform=oi(),Gi.setAttributes=ti(),Gi.insert=Xo().bind(null,"head"),Gi.domAPI=Yo(),Gi.insertStyleElement=ni(),Ko()(Mi.A,Gi),Mi.A&&Mi.A.locals&&Mi.A.locals;const Hi=(0,o.Ng)((e=>({isConnected:e.common.isSIHostConnected,answer:e.room.answer||""})),(e=>({onAnswerChanged:t=>{e(ws.updateAnswer(t))},sendAnswer:()=>{e(ws.sendAnswer())}})))((function(e){const t=hi(),a=()=>{t(Ns(e.answer)),e.sendAnswer()};return Qo.createElement("div",{className:"answerInputHost"},Qo.createElement("input",{id:e.id,autoFocus:!0,className:"answerInput",value:e.answer,onChange:t=>{e.onAnswerChanged(t.target.value)},onKeyPress:t=>{t.key===m&&(e.isConnected&&a(),t.preventDefault())},maxLength:250,placeholder:Xe.inputAnswer}),Qo.createElement("button",{type:"button",className:"sendAnswer mainAction active",title:Xe.send,onClick:a},Qo.createElement("svg",{width:"14",height:"13",viewBox:"0 0 14 13",fill:"none"},Qo.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.85337 7.88091H0V5.11911H8.85337L5.77101 1.95288L7.67216 0L14 6.5L7.67216 13L5.77101 11.0471L8.85337 7.88091Z",fill:"white"}))))}));var _i=a(3026),Bi={};Bi.styleTagTransform=oi(),Bi.setAttributes=ti(),Bi.insert=Xo().bind(null,"head"),Bi.domAPI=Yo(),Bi.insertStyleElement=ni(),Ko()(_i.A,Bi),_i.A&&_i.A.locals&&_i.A.locals;const Li=(0,o.Ng)((e=>({isConnected:e.common.isSIHostConnected})),(e=>({onPass:()=>{e(ws.onPass())}})))((function(e){return Qo.createElement("button",{type:"button",className:"passButton",disabled:!e.isConnected,onClick:()=>e.onPass()},Xe.pass.toLocaleUpperCase())}));var Fi=a(4251),Ui={};Ui.styleTagTransform=oi(),Ui.setAttributes=ti(),Ui.insert=Xo().bind(null,"head"),Ui.domAPI=Yo(),Ui.insertStyleElement=ni(),Ko()(Fi.A,Ui),Fi.A&&Fi.A.locals&&Fi.A.locals;const qi=(0,o.Ng)((e=>({isConnected:e.common.isSIHostConnected,isGameButtonEnabled:e.room.isGameButtonEnabled})),(e=>({pressGameButton:()=>{e(ws.pressGameButton())}})))((function(e){return Qo.createElement("button",{type:"button",className:"playerButton mainAction active",disabled:!e.isConnected||!e.isGameButtonEnabled,onClick:()=>e.pressGameButton()},Xe.makeAnswer.toLocaleUpperCase())}));var Vi=a(3075),Wi={};Wi.styleTagTransform=oi(),Wi.setAttributes=ti(),Wi.insert=Xo().bind(null,"head"),Wi.domAPI=Yo(),Wi.insertStyleElement=ni(),Ko()(Vi.A,Wi),Vi.A&&Vi.A.locals&&Vi.A.locals;const zi=function(){return Qo.createElement("div",{className:"playerButtonsPanel"},Qo.createElement(Li,null),Qo.createElement(qi,null))};var Qi=a(4501),$i={};$i.styleTagTransform=oi(),$i.setAttributes=ti(),$i.insert=Xo().bind(null,"head"),$i.domAPI=Yo(),$i.insertStyleElement=ni(),Ko()(Qi.A,$i),Qi.A&&Qi.A.locals&&Qi.A.locals;const Ki=(0,o.Ng)((e=>({isConnected:e.common.isSIHostConnected,sex:e.settings.sex,role:e.room.role})),(e=>({onReady:t=>{e(ws.ready(t))}})))((function(e){const t=yi((e=>e.room2)),a=((e,t,a)=>{const{persons:n}=e;if(2===t)return n.showman.isReady;if(1===t){const e=n.players.find((e=>e.name===a));if(e)return e.isReady}return!1})(t,e.role,t.name),n=e.isConnected?"":"disabled",s=a?function(e){return 1===e.sex?Xe.notReadyFemale:Xe.notReadyMale}(e):function(e){return 1===e.sex?Xe.readyFemale:Xe.readyMale}(e);return Qo.createElement("button",{type:"button",className:`ready_button mainAction active ${n}}`,onClick:()=>e.onReady(!a)},Qo.createElement("span",null,null==s?void 0:s.toLocaleUpperCase()))})),Ji={};class Yi extends Qo.Component{constructor(e){super(e),this.resizeText=()=>{null!==this.myRef.current&&function(e,t,a=!0){const n=e.firstElementChild;if(!n)return;let s=t;const o=e.clientHeight,i=e.clientWidth;let r=0,l=0,c=0;const d=window.getComputedStyle(e);d.paddingTop&&(c+=parseInt(d.paddingTop,10)),d.paddingBottom&&(c+=parseInt(d.paddingBottom,10));const p=`${window.innerWidth} ${n.innerHTML} ${o+c} ${i+c}`,u=Ji[p];if(u)e.style.fontSize=`${u}px`;else{do{e.style.fontSize=`${s}px`,r=n.clientHeight+c,l=n.clientWidth+c,s--}while((r+0>o||l>i+1)&&s>0);n.innerHTML.length<15&&a&&(Ji[p]=s+1)}}(this.myRef.current,this.props.maxFontSize,this.props.fontsReady)},this.myRef=Qo.createRef()}componentDidMount(){this.resizeText(),window.addEventListener("resize",this.resizeText)}componentDidUpdate(){this.resizeText()}componentWillUnmount(){window.removeEventListener("resize",this.resizeText)}onClick(){this.props.onClick&&this.props.onClick()}render(){return Qo.createElement("div",{id:this.props.id,ref:this.myRef,title:this.props.title,className:this.props.className,style:this.props.style,onClick:()=>this.onClick()},Qo.createElement("span",null,this.props.children))}}const Zi=(0,o.Ng)((e=>({fontsReady:e.common.fontsReady})))(Yi);var Xi=a(1081),er={};er.styleTagTransform=oi(),er.setAttributes=ti(),er.insert=Xo().bind(null,"head"),er.domAPI=Yo(),er.insertStyleElement=ni(),Ko()(Xi.A,er),Xi.A&&Xi.A.locals&&Xi.A.locals;const tr=(0,o.Ng)((e=>({hint:e.room.hint})))((function(e){return e.hint?Qo.createElement(Zi,{className:"gameHint",maxFontSize:31,title:Xe.rightAnswer},e.hint):null}));var ar=a(8023),nr={};nr.styleTagTransform=oi(),nr.setAttributes=ti(),nr.insert=Xo().bind(null,"head"),nr.domAPI=Yo(),nr.insertStyleElement=ni(),Ko()(ar.A,nr),ar.A&&ar.A.locals&&ar.A.locals;const sr=(0,o.Ng)((e=>({isConnected:e.common.isSIHostConnected})))((function(e){const t=hi(),a=e.isConnected?"":"disabled";return Qo.createElement("button",{type:"button",className:`report_button standard ${a}`,onClick:()=>t(Hs(Cs.Report))},Qo.createElement("span",null,`⭐ ${Xe.rateGame}`))}));var or=a(9082),ir={};ir.styleTagTransform=oi(),ir.setAttributes=ti(),ir.insert=Xo().bind(null,"head"),ir.domAPI=Yo(),ir.insertStyleElement=ni(),Ko()(or.A,ir),or.A&&or.A.locals&&or.A.locals;const rr=()=>{const e=yi((e=>e.common)),t=yi((e=>e.room2)),a=hi();return Qo.createElement("button",{type:"button",className:"edit-table-button standard "+(t.isEditTableEnabled?"active":""),disabled:!e.isSIHostConnected,onClick:()=>a(fo())},Xe.editTable.toLocaleUpperCase())};var lr=a(3700),cr={};cr.styleTagTransform=oi(),cr.setAttributes=ti(),cr.insert=Xo().bind(null,"head"),cr.domAPI=Yo(),cr.insertStyleElement=ni(),Ko()(lr.A,cr),lr.A&&lr.A.locals&&lr.A.locals;const dr=()=>Qo.createElement("div",{className:"oral__answer"},Xe.oralAnswerHint);var pr=a(1915),ur={};ur.styleTagTransform=oi(),ur.setAttributes=ti(),ur.insert=Xo().bind(null,"head"),ur.domAPI=Yo(),ur.insertStyleElement=ni(),Ko()(pr.A,ur),pr.A&&pr.A.locals&&pr.A.locals;const mr=(0,o.Ng)((e=>({role:e.room.role,areStakesVisible:e.room.stakes.areVisible,isAfterQuestion:e.room.stage.isAfterQuestion,hasGameStarted:e.room.stage.isGameStarted,isAutomatic:e.game.isAutomatic,hint:e.room.hint,isPaused:e.room.stage.isGamePaused})))((function(e){const t=yi((e=>e.room2)),a=yi((e=>e.ui)),n=yi((e=>e.table)),s=function(e,t,a,n){switch(t){case Ts.Answer:return Qo.createElement(Hi,{id:"answerBoxWide"});case Ts.OralAnswer:return Qo.createElement(dr,null);case Ts.Report:return Qo.createElement(sr,null)}if(!e.hasGameStarted&&!e.isAutomatic&&0!==e.role)return Qo.createElement(Ki,null);if(e.areStakesVisible)return Qo.createElement(Pi,null);const s=2===e.role?Qo.createElement("div",{className:"emptyContext"}):null;return e.isAfterQuestion&&1===e.role?Qo.createElement(ji,null):1===e.role?Qo.createElement(zi,null):e.hint&&a<800?Qo.createElement(tr,null):e.isPaused&&2===e.role&&6===n?Qo.createElement(rr,null):s}(e,t.contextView,a.windowWidth,n.mode);return null==s?null:Qo.createElement("div",{className:"tableContextView"},s)}));var gr=a(2378),hr={};hr.styleTagTransform=oi(),hr.setAttributes=ti(),hr.insert=Xo().bind(null,"head"),hr.domAPI=Yo(),hr.insertStyleElement=ni(),Ko()(gr.A,hr),gr.A&&gr.A.locals&&gr.A.locals;const yr=(0,o.Ng)()((function(e){const t=(0,o.wA)();return Qo.createElement("div",{className:"errorView"},Qo.createElement("div",{className:"errorBox"},Qo.createElement("div",{className:"errorTitle"},Xe.errorHappened),Qo.createElement("div",{className:"errorBody"},e.error),Qo.createElement("div",{className:"buttons"},Qo.createElement("button",{type:"button",className:"standard",disabled:!e.error,onClick:()=>{e.error&&t(ya(e.error))}},Xe.copyText),Qo.createElement("button",{type:"button",className:"standard",disabled:!e.error,onClick:()=>window.location.reload()},Xe.reloadPage))))}));var br=a(1255),fr={};fr.styleTagTransform=oi(),fr.setAttributes=ti(),fr.insert=Xo().bind(null,"head"),fr.domAPI=Yo(),fr.insertStyleElement=ni(),Ko()(br.A,fr),br.A&&br.A.locals&&br.A.locals;const vr=()=>{const e=yi((e=>e.room2.name)),t=yi((e=>e.common.isSIHostConnected));return Qo.createElement("div",{className:"miniGameStatus"},Qo.createElement("span",{className:"playerName"},e),Qo.createElement("span",{className:"connectionStatus "+(t?"active":"")},"●"))};var Ar=a(502),Sr={};function wr(e){switch(e){case vt.Error:return"error";case vt.Warning:return"warn";case vt.Information:return"info";default:return""}}function Cr(e){return Qo.createElement("div",{className:`userError ${wr(e.messageLevel)}`},e.error)}Sr.styleTagTransform=oi(),Sr.setAttributes=ti(),Sr.insert=Xo().bind(null,"head"),Sr.domAPI=Yo(),Sr.insertStyleElement=ni(),Ko()(Ar.A,Sr),Ar.A&&Ar.A.locals&&Ar.A.locals;var Tr=a(227),Er={};Er.styleTagTransform=oi(),Er.setAttributes=ti(),Er.insert=Xo().bind(null,"head"),Er.domAPI=Yo(),Er.insertStyleElement=ni(),Ko()(Tr.A,Er),Tr.A&&Tr.A.locals&&Tr.A.locals;const kr=(0,o.Ng)((e=>({path:e.ui.navigation.path})))((e=>{const t=yi((e=>e.common)),{error:a,userError:n,messageLevel:s}=t;return a?Qo.createElement(yr,{error:a}):Qo.createElement("div",{className:"miniApp"},(e=>{switch(e){case"/login":return Qo.createElement("div",null,Xe.connectionClosed);case"/room":return Qo.createElement("div",{className:"miniRoom"},Qo.createElement(vr,null),Qo.createElement(mr,null));case"/join":return Qo.createElement(wi,{canJoinAsViewer:!1});default:return null}})(e.path),n?Qo.createElement(Cr,{error:n,messageLevel:s}):null)}));var xr=a(1651),Ir=a.n(xr),Or=a(6269),Nr={};function Pr(e){const t=document.getElementById(e);if(!t)return void console.error("Host element not found!");const a={path:"/join",gameId:1,hostUri:window.location.href},n=function(e){var t;const a=(new _t.$).withUrl("http://fake").build(),n={config:{siStatisticsServiceUri:"",appRegistryServiceUri:""},serverUri:"",gameClient:new Ut,game:null!=e?e:new Wt(new vn(a,(()=>{})),!1),contentUris:null,contentClient:new($t())({serviceUri:"http://fake"}),storageClients:[],state:new zo},s=function(){const e=localStorage.getItem(Ma);return e?JSON.parse(e):null}(),o=(0,i.y$)(Uo,Object.assign(Object.assign({},Ho),{table:Object.assign(Object.assign({},Ho.table),{mode:0}),room:Object.assign(Object.assign({},Ho.room),{role:2}),user:Object.assign(Object.assign({},Ho.user),{login:null!==(t=null==s?void 0:s.login)&&void 0!==t?t:""})}),(0,i.Tw)(Vo.A.withExtraArgument(n))),r=o.dispatch,l=new va(o.dispatch,r,o.getState,n);if(window.chrome){const{webview:e}=window.chrome;e&&e.addEventListener("message",(e=>{const t=e.data;!function(e,t,a){switch(t.type){case"addPlayerTable":e.addPlayerTable();break;case"answerOption":e.onAnswerOption(t.index,t.label,t.contentType,t.contentValue);break;case"answerOptionsLayout":e.onAnswerOptionsLayout(t.questionHasScreenContent,t.typeNames);break;case"askAnswer":e.onAskAnswer();break;case"askStake":e.onAskStake(t.stakeModes,t.minimum,t.maximum,t.step,t.reason,t.playerName);break;case"beginPressButton":e.onBeginPressButton();break;case"cancel":e.onCancel();break;case"choose":e.onChoose();break;case"content":e.onContent(t.placement,t.content);break;case"contentState":e.onContentState(t.placement,t.layoutId,t.itemState);break;case"deletePlayerTable":e.deletePlayerTable(t.index);break;case"endPressButtonByPlayer":e.onEndPressButtonByPlayer(t.playerIndex);break;case"endPressButtonByTimeout":e.onEndPressButtonByTimeout();break;case"finalThink":e.onFinalThink();break;case"gameThemes":e.onGameThemes(t.themes);break;case"package":e.onPackage(t.packageName,t.packageLogo);break;case"pass":e.onPass(t.playerIndex);break;case"pause":e.onPause(t.isPaused,t.currentTime);break;case"person":e.onPerson(t.playerIndex,t.isRight);break;case"playersVisibilityChanged":e.onPlayersVisibilityChanged(t.isVisible);break;case"qrCode":e.onQrCode(t.qrCode);break;case"question":e.onQuestion(t.questionPrice);break;case"questionEnd":e.onQuestionEnd();break;case"questionSelected":e.onQuestionSelected(t.themeIndex,t.questionIndex);break;case"questionType":e.onQuestionType(t.questionType,t.isDefault);break;case"setReadingSpeed":e.onReadingSpeedChanged(t.readingSpeed);break;case"replic":e.onReplic(t.personCode,t.text);break;case"resumeMedia":e.onResumeMedia();break;case"rightAnswer":e.onRightAnswer(t.answer);break;case"rightAnswerStart":e.onRightAnswerStart(t.answer);break;case"roundThemes":e.onRoundThemes(t.themes,t.playMode);break;case"setChooser":e.onSetChooser(t.chooserIndex,t.setAnswerer);break;case"setAttachContentToTable":e.onSetAttachContentToTable(t.attach);break;case"setLanguage":Xe.setLanguage(t.language);break;case"setAppSound":a(S(t.isEnabled));break;case"setOptions":a(Z(t.tableTextColor)),a(X(t.tableBackgroundColor));break;case"setSoundMap":Object.keys(t.soundMap).forEach((e=>ft.setSound(e,t.soundMap[e])));break;case"showTable":e.onShowTable();break;case"stage":e.onStage(t.stage,t.stageName,t.stageIndex,t.rules);break;case"stop":e.onStop();break;case"sum":e.onSum(t.playerIndex,t.value);break;case"sums":e.onSums(t.sums);break;case"table":e.onTable(t.table,t.isFinal);break;case"tableCaption":e.onTableCaption(t.caption);break;case"tableChangeType":e.onTableChangeType(t.role,t.index,t.isHuman,t.name,t.sex);break;case"tableSet":e.onTableSet(t.role,t.index,t.replacer,t.replacerSex);break;case"theme":e.onTheme(t.themeName);break;case"themeComments":e.onThemeComments(t.themeComments);break;case"themeDeleted":e.onThemeDeleted(t.themeIndex);break;case"timerMaximum":e.onTimerMaximumChanged(t.timerIndex,t.maximum);break;case"timerPause":e.onTimerPause(t.timerIndex,t.currentTime);break;case"timerResume":e.onTimerResume(t.timerIndex);break;case"timerRun":e.onTimerRun(t.timerIndex,t.timerArgument,t.timerPersonIndex);break;case"timerStop":e.onTimerStop(t.timerIndex);break;case"toggle":e.onToggle(t.themeIndex,t.questionIndex,t.price);break;case"wrongTry":e.onWrongTry(t.playerIndex)}}(l,t,r)}))}return o}();n.dispatch(ns.initStageSkipLoginLicenseAsync(a,n.dispatch));let{login:r}=n.getState().user;n.subscribe((()=>{const e=n.getState(),{name:t}=e.room2;t!==r&&t.length>0&&(r=t,n.dispatch(Ve(r)))})),s.render(Qo.createElement(o.Kq,{store:n},Qo.createElement(kr,null)),t),"mobile"!=function(){const{userAgent:e}=navigator;return/mobile/i.test(e)?"mobile":/tablet|ipad|playbook|silk/i.test(e)?"tablet":"pc"}()||/Safari/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)||function(){const e=new(Ir());document.addEventListener("click",(function t(){document.removeEventListener("click",t,!1);try{e.enable()}catch(e){console.warn("NoSleep not working: "+qt(e))}}),!1)}()}Nr.styleTagTransform=oi(),Nr.setAttributes=ti(),Nr.insert=Xo().bind(null,"head"),Nr.domAPI=Yo(),Nr.insertStyleElement=ni(),Ko()(Or.A,Nr),Or.A&&Or.A.locals&&Or.A.locals},1361:(e,t,a)=>{"use strict";e.exports=a.p+"93ea51f52295d045137e.eot"},1579:(e,t,a)=>{"use strict";e.exports=a.p+"2a5071f65c1b80d54617.ttf"},1529:(e,t,a)=>{"use strict";e.exports=a.p+"2aba74f212047926d07a.woff"},8735:(e,t,a)=>{"use strict";e.exports=a.p+"e30b805477ba6904b1b0.ttf"},646:(e,t,a)=>{"use strict";e.exports=a.p+"b70332fadc4dc242785f.ttf"},7685:(e,t,a)=>{"use strict";e.exports=a.p+"c367c21f39a95abeddff.ttf"},4932:(e,t,a)=>{"use strict";e.exports=a.p+"54f11d77ad49920100c0.png"},100:(e,t,a)=>{"use strict";e.exports=a.p+"b3226dfba144c24b05cd.png"},9999:(e,t,a)=>{"use strict";e.exports=a.p+"a5bb969b632d55c0259b.png"},5582:(e,t,a)=>{"use strict";e.exports=a.p+"6173fa3a6ae4d5aba3cf.svg"},6720:()=>{},194:()=>{},6236:()=>{},2676:()=>{},8611:()=>{},6449:()=>{}},a={};function n(e){var s=a[e];if(void 0!==s)return s.exports;var o=a[e]={id:e,exports:{}};return t[e].call(o.exports,o,o.exports,n),o.exports}n.m=t,e=[],n.O=(t,a,s,o)=>{if(!a){var i=1/0;for(d=0;d<e.length;d++){for(var[a,s,o]=e[d],r=!0,l=0;l<a.length;l++)(!1&o||i>=o)&&Object.keys(n.O).every((e=>n.O[e](a[l])))?a.splice(l--,1):(r=!1,o<i&&(i=o));if(r){e.splice(d--,1);var c=s();void 0!==c&&(t=c)}}return t}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[a,s,o]},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="",(()=>{n.b=document.baseURI||self.location.href;var e={792:0};n.O.j=t=>0===e[t];var t=(t,a)=>{var s,o,[i,r,l]=a,c=0;if(i.some((t=>0!==e[t]))){for(s in r)n.o(r,s)&&(n.m[s]=r[s]);if(l)var d=l(n)}for(t&&t(a);c<i.length;c++)o=i[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(d)},a=self.webpackChunksigame=self.webpackChunksigame||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})(),n.nc=void 0;var s=n.O(void 0,[121],(()=>n(3936)));s=n.O(s),sigame=s})();